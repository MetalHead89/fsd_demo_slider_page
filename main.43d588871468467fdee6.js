!function(e){function t(t){for(var s,l,r=t[0],a=t[1],h=t[2],u=0,c=[];u<r.length;u++)l=r[u],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&c.push(n[l][0]),n[l]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);for(d&&d(t);c.length;)c.shift()();return o.push.apply(o,h||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],s=!0,r=1;r<i.length;r++){var a=i[r];0!==n[a]&&(s=!1)}s&&(o.splice(t--,1),e=l(l.s=i[0]))}return e}var s={},n={0:0},o=[];function l(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=s,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(i,s,function(t){return e[t]}.bind(null,s));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var r=window.webpackJsonp=window.webpackJsonp||[],a=r.push.bind(r);r.push=t,r=r.slice();for(var h=0;h<r.length;h++)t(r[h]);var d=a;o.push([2,1]),i()}([,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{generateID(e){for(;;){const t=e+this.generateRandNumber();if(!document.getElementById(t))return t}}generateName(e){for(;;){const t=e+this.generateRandNumber();if(0==document.getElementsByName(t).length)return t}}generateRandNumber(){return Math.floor(1+1e5*Math.random())}createControl(e){e.inputElement.type=e.inputType,e.inputElement.className=e.inputClass;const t=document.createElement("label");return t.classList.add(e.labelClass),t.textContent=e.labelText,e.id&&(e.inputElement.id=e.id,t.htmlFor=e.id),e.name&&(e.inputElement.name=e.name),e.value&&(e.inputElement.value=e.value),this.wrapElements(e.wrapperClass,e.inputElement,t)}wrapElements(e,...t){const i=document.createElement("div");i.className=e;for(const e of t)i.append(e);return i}}},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),i(3),i(17),i(22),i(23),i(24),i(25),i(26);const s=document.querySelector(".add-new-slider-btn");let n=document.querySelector(".help-image");const o=document.querySelector(".button-wrapper");function l(e){e.remove(),0==document.querySelectorAll(".slider-wrapper").length&&null!==s&&s.classList.add("add-new-slider-btn_margin-top")}null!==s&&s.addEventListener("click",(function(){if(null!==o){null!=n&&(n.remove(),n=null),null!=s&&s.classList.remove("add-new-slider-btn_margin-top");const t=document.createElement("div");t.classList.add("slider-wrapper"),o.before(t);const i=document.createElement("span");i.classList.add("material-icons","remove-slider-button__icon"),i.innerText="clear";const r=document.createElement("button");r.classList.add("remove-slider-button"),r.append(i),r.addEventListener("click",l.bind(r,t)),t.append(r),e(t).incredibleSliderPlugin(),e(t).sliderControlPanel()}}))}).call(this,i(0))},function(e,t,i){"use strict";(function(e){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(4));!function(e){const t={orienation:"horizontal",type:"range",scale:!0,tooltips:!0,min:0,max:10,step:1},i={init:function(i){const s=e.extend(t,i);return this.each((function(){const t=new n.default(s,this);e(this).data("settings",s),e(this).data("sliderPresenter",t)}))},setMin:function(t){e(this).data().sliderPresenter.changeMinValue(t)},getMin:function(){return e(this).data().sliderPresenter.getSliderMinValue()},setMax:function(t){e(this).data().sliderPresenter.changeMaxValue(t)},getMax:function(){return e(this).data().sliderPresenter.getSliderMaxValue()},getStep:function(){return e(this).data().sliderPresenter.getSliderStep()},setStep:function(t){e(this).data().sliderPresenter.changeStep(t)},changeScaleVisibility:function(t){e(this).data().sliderPresenter.changeScaleVisibility(t)},changeTooltipsVisibility:function(t){e(this).data().sliderPresenter.changeTooltipsVisibility(t)},getScaleVisiblity:function(){return e(this).data().sliderPresenter.getScaleVisiblity()},getTooltipsVisiblity:function(){return e(this).data().sliderPresenter.getTooltipsVisiblity()},changeSliderType:function(t){return e(this).data().sliderPresenter.changeSliderType(t)},getSliderType:function(){return e(this).data().sliderPresenter.getSliderType()},getSliderOrientation:function(){return e(this).data().sliderPresenter.getSliderOrientation()},changeSliderOrientation:function(t){return e(this).data().sliderPresenter.changeSliderOrientation(t)}};e.fn.incredibleSliderPlugin=function(t,s){return"string"==typeof t&&i[t]?i[t].call(this,s):"object"!=typeof t&&t?(e.error("Метод с именем "+t+" не существует для jQuery.incredibleSliderPlugin"),this):i.init.call(this,s)}}(e)}).call(this,i(0))},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(5)),o=s(i(6)),l=s(i(9));t.default=class{constructor(e,t){this.observer=new n.default,this.model=new o.default(this.observer,e),this.view=new l.default(this.observer,t),this.addObserverListeners(),this.createNewSlider()}addObserverListeners(){this.observer.subscribe("sliderElementIsCreated",e=>{this.model.setSliderSize(e)}),this.observer.subscribe("thumbOneIsCreated",e=>{this.model.setThumbSize(e)}),this.observer.subscribe("thumbOneIsDragged",e=>{this.model.dragthumbOne(e)}),this.observer.subscribe("thumbTwoIsDragged",e=>{this.model.dragThumbTwo(e)}),this.observer.subscribe("thumbOneDragged",e=>{this.view.moveThumbOne(e.thumbPosition),this.view.tooltipOneSetValue(e.tooltipValue),this.view.moveTooltipOne(this.model.getTooltipPosition(e.thumbPosition))}),this.observer.subscribe("thumbTwoDragged",e=>{this.view.moveThumbTwo(e.thumbPosition),this.view.tooltipTwoSetValue(e.tooltipValue),this.view.moveTooltipTwo(this.model.getTooltipPosition(e.thumbPosition))}),this.observer.subscribe("progressBarDraged",e=>{this.view.setProgressBarPosition(e)}),this.observer.subscribe("scaleIsCreated",()=>{this.model.setScalePointSize(this.getScalePointMaxSize()),this.model.generateScale()}),this.observer.subscribe("addScalePoint",e=>{this.view.addScalePoint(e)}),this.observer.subscribe("clickOnTheScale",e=>{this.model.moveThumbToClickPosition(e)}),this.observer.subscribe("clickOnTheTrack",e=>{this.model.moveThumbToClickPosition(e)}),this.observer.subscribe("scaleCreated",e=>{this.view.setScaleSize(e),this.addMarginsToSlider()}),this.observer.subscribe("sliderResized",()=>{this.view.removeSlider(),this.createNewSlider(!1)})}addMarginsToSlider(){this.view.setSliderMargins({left:0,top:0,right:0,bottom:0});const e=this.model.getSliderMargins(this.view.getCoordsForMargins());this.view.setSliderMargins(e)}createNewSlider(e=!0){const t=this.model.getSliderOrientation();this.view.createSlider("slider slider_"+t),this.view.createTrack("slider__track slider__track_"+t),this.view.createProgressBar("slider__progress-bar slider__progress-bar_"+t),this.createThumbs(t,e),this.model.getScaleVisiblity()&&this.view.createScale("slider__scale slider__scale_"+t)}createThumbs(e,t=!0){const i=this.model.getSliderType(),s=this.model.getTooltipsVisiblity();this.view.createThumbOne("slider__thumb slider__thumb-one slider__thumb_"+e),s&&this.view.createTooltipOne("slider__tooltip slider__tooltip_"+e),"range"===i&&(this.view.createThumbTwo("slider__thumb slider__thumb-two slider__thumb_"+e),s&&this.view.createTooltipTwo("slider__tooltip slider__tooltip_"+e),t?this.model.setThumbTwoToStartingPosition():this.model.dragThumbTwo(this.model.getThumbTwoPosition())),t?this.model.setThumbOneToStartingPosition():this.model.dragthumbOne(this.model.getThumbOnePosition())}getScalePointMaxSize(){const e=this.model.getMax();return this.view.getScalePointMaxSize(e)}getScaleVisiblity(){return this.model.getScaleVisiblity()}getTooltipsVisiblity(){return this.model.getTooltipsVisiblity()}getSliderType(){return this.model.getSliderType()}getSliderOrientation(){return this.model.getSliderOrientation()}getSliderMinValue(){return this.model.getMin()}getSliderMaxValue(){return this.model.getMax()}changeSliderOrientation(e){if(e!==this.model.getSliderOrientation()){this.model.setSliderOrientation(e);const t=this.model.getThumbOnePosition(),i=this.model.getThumbTwoPosition();this.model.setThumbOnePosition({left:t.top,top:t.left}),this.model.setThumbTwoPosition({left:i.top,top:i.left}),this.view.removeSlider(),this.createNewSlider()}}changeSliderType(e){this.view.removeThumbOne(),this.view.removeThumbTwo(),this.model.setSliderType(e),this.createThumbs(this.model.getSliderOrientation(),!1)}changeMinValue(e){this.model.setMin(e)&&(this.view.removeSlider(),this.createNewSlider())}changeMaxValue(e){this.model.setMax(e)&&(this.view.removeSlider(),this.createNewSlider())}getSliderStep(){return this.model.getStep()}changeStep(e){this.model.setStep(e)&&(this.view.removeSlider(),this.createNewSlider())}changeScaleVisibility(e){this.model.setScaleVisibility(e),e?this.view.createScale("slider__scale slider__scale_"+this.model.getSliderOrientation()):this.view.removeScale(),this.addMarginsToSlider()}changeTooltipsVisibility(e){this.model.setTooltipsVisible(e),e?(this.view.removeThumbOne(),this.view.removeThumbTwo(),this.createThumbs(this.model.getSliderOrientation(),!1)):(this.view.removeTooltipOne(),this.view.removeTooltipTwo()),this.addMarginsToSlider()}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.observables={}}subscribe(e,t){this.observables[e]=this.observables[e]||[],this.observables[e].push(t)}unsubscribe(e,t){this.observables[e]=this.observables[e].filter(e=>e!==t)}notify(e,t){this.observables[e]&&this.observables[e].forEach((function(e){e(t)}))}}},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(7)),o=s(i(8));t.default=class{constructor(e,t){this.observer=e,this.data=new o.default(t),this.calculator=new n.default(this.observer,this.data)}setSliderSize(e){this.data.setSliderSize(e)}setThumbSize(e){this.data.setThumbSize(e)}getSliderOrientation(){return this.data.getOrientation()}setSliderOrientation(e){this.data.setOrientation(e)}getSliderType(){return this.data.getSliderType()}setSliderType(e){this.data.setSliderType(e)}setTooltipsVisible(e){this.data.setTooltipsVisible(e)}getTooltipsVisiblity(){return this.data.getTooltipsVisible()}setScalePointSize(e){this.data.setScalePointSize(e)}getMax(){return this.data.getMax()}generateScale(){this.calculator.generateScale()}dragthumbOne(e){this.calculator.dragThumbOne(e)}dragThumbTwo(e){this.calculator.dragThumbTwo(e)}setThumbOneToStartingPosition(){this.calculator.setThumbOneToStartingPosition()}setThumbTwoToStartingPosition(){this.calculator.setThumbTwoToStartingPosition()}setMin(e){return this.data.setMin(e)}getMin(){return this.data.getMin()}setMax(e){return this.data.setMax(e)}setStep(e){return this.data.setStep(e)}getStep(){return this.data.getStep()}setScaleVisibility(e){this.data.setScaleVisible(e)}getScaleVisiblity(){return this.data.getScaleVisible()}getThumbOnePosition(){return this.data.getThumbOnePosition()}setThumbOnePosition(e){this.data.setThumbOnePosition(e)}getThumbTwoPosition(){return this.data.getThumbTwoPosition()}setThumbTwoPosition(e){this.data.setThumbTwoPosition(e)}moveThumbToClickPosition(e){this.calculator.moveThumbToClickPosition(e)}getTooltipPosition(e){return this.calculator.getTooltipPosition(e)}getSliderMargins(e){return this.calculator.getSliderMargins(e)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this.observer=e,this.data=t}dragThumbOne(e){this.data.setThumbOnePosition(this.changePositionAccordingToStep(e));const t=this.data.getThumbOnePosition(),i=this.positionToValue(this.getElementPosByOrientation(this.data.getThumbOnePosition()));this.thumbDrag(t,"thumbOneDragged",i)}dragThumbTwo(e){this.data.setThumbTwoPosition(this.changePositionAccordingToStep(e));const t=this.data.getThumbTwoPosition(),i=this.positionToValue(this.getElementPosByOrientation(this.data.getThumbTwoPosition()));this.thumbDrag(t,"thumbTwoDragged",i)}moveThumbToClickPosition(e){const t={left:e.x-this.data.getThumbSize().width/2,top:e.y-this.data.getThumbSize().height/2};"range"===this.data.getSliderType()&&Math.abs(this.getElementPosByOrientation(t)-this.getElementPosByOrientation(this.data.getThumbOnePosition()))>Math.abs(this.getElementPosByOrientation(t)-this.getElementPosByOrientation(this.data.getThumbTwoPosition()))?this.dragThumbTwo(t):this.dragThumbOne(t)}setThumbOneToStartingPosition(){"horizontal"===this.data.getOrientation()?"single"===this.data.getSliderType()?this.dragThumbOne({left:this.data.getSliderSize().width/2-this.data.getThumbSize().width/2,top:0}):this.dragThumbOne({left:.3*this.data.getSliderSize().width-this.data.getThumbSize().width/2,top:0}):"single"===this.data.getSliderType()?this.dragThumbOne({left:0,top:this.data.getSliderSize().height/2-this.data.getThumbSize().height/2}):this.dragThumbOne({left:0,top:.3*this.data.getSliderSize().height-this.data.getThumbSize().height/2})}setThumbTwoToStartingPosition(){"horizontal"===this.data.getOrientation()?this.dragThumbTwo({left:.7*this.data.getSliderSize().width-this.data.getThumbSize().width/2,top:0}):this.dragThumbTwo({left:0,top:.7*this.data.getSliderSize().height-this.data.getThumbSize().height/2})}generateScale(){let e=this.getElementSizeByOrientation(this.data.getThumbSize())/2-this.getElementSizeByOrientation(this.data.getScalePointSize())/2;const t=this.calculateStepsCount(),i=this.calculateStepSize();let s=0;const n=t+1;for(let t=0;t<=Math.round(n-1);t++){const o=this.positionToValue(e-this.getElementSizeByOrientation(this.data.getThumbSize())/2+this.getElementSizeByOrientation(this.data.getScalePointSize())/2);(0===t||this.isPointFits(e,s))&&(this.observer.notify("addScalePoint",{position:e,scalePointSize:this.getElementSizeByOrientation(this.data.getScalePointSize()),scalePointValue:o}),s=e),e+=i,t===Math.round(n-2)&&(e=this.getElementSizeByOrientation(this.data.getSliderSize())-this.getElementSizeByOrientation(this.data.getThumbSize())/2-this.getElementSizeByOrientation(this.data.getScalePointSize())/2,"horizontal"===this.data.getOrientation()?this.observer.notify("scaleCreated",{width:this.data.getSliderSize().width,height:this.data.getScalePointSize().height}):this.observer.notify("scaleCreated",{width:this.data.getScalePointSize().width,height:this.data.getSliderSize().height}))}}getSliderMargins(e){let t=0,i=0,s=0,n=0;return"horizontal"===this.data.getOrientation()?null!=e.sliderCoords&&(null!==e.scaleCoords&&(n=e.scaleCoords.bottom-e.sliderCoords.bottom),null!==e.tooltipCoords&&(i=e.sliderCoords.top-e.tooltipCoords.top)):null!==e.sliderCoords&&(null!==e.tooltipCoords&&(t=e.sliderCoords.left-e.tooltipCoords.left),null!==e.scaleCoords&&(s=e.scaleCoords.right-e.sliderCoords.right)),{left:t,top:i,right:s,bottom:n}}getTooltipPosition(e){const t=this.data.getOrientation(),i=this.data.getThumbSize();let s=0,n=0;return"horizontal"===t?s=e.left+i.width/2:n=e.top+i.height/2,{left:s,top:n}}isPointFits(e,t){return e-t-2>this.getElementSizeByOrientation(this.data.getScalePointSize())}thumbDrag(e,t,i){const s=Object.assign({},e);"horizontal"===this.data.getOrientation()?s.top=0:s.left=0,this.observer.notify(t,{thumbPosition:s,tooltipValue:i}),this.observer.notify("progressBarDraged",this.calcProgressBarPosition())}getElementSizeByOrientation(e){return"vertical"===this.data.getOrientation()?e.height:e.width}getElementPosByOrientation(e){return"vertical"===this.data.getOrientation()?e.top:e.left}calculateStepsCount(){return(this.data.getMax()-this.data.getMin())/this.data.getStep()}calculateStepSize(){return(this.getElementSizeByOrientation(this.data.getSliderSize())-this.getElementSizeByOrientation(this.data.getThumbSize()))/this.calculateStepsCount()}changePositionAccordingToStep(e){return e.left=Math.round(e.left/this.calculateStepSize())*this.calculateStepSize(),e.top=Math.round(e.top/this.calculateStepSize())*this.calculateStepSize(),e}positionToValue(e){const t=this.calculatePixelsPerValue();return Math.round(this.data.getMin()+(this.data.getMax()-this.data.getMin())/100*Math.round(e/t))}calculatePixelsPerValue(){return(this.getElementSizeByOrientation(this.data.getSliderSize())-this.getElementSizeByOrientation(this.data.getThumbSize()))/100}calcProgressBarPosition(){const e={orientation:this.data.getOrientation(),start:0,end:0};return"single"===this.data.getSliderType()?(e.start=0,e.end=this.getElementPosByOrientation(this.data.getThumbOnePosition())+this.getElementSizeByOrientation(this.data.getThumbSize())):(e.start=this.getElementPosByOrientation(this.data.getThumbOnePosition()),e.end=this.getElementPosByOrientation(this.data.getThumbTwoPosition())-this.getElementPosByOrientation(this.data.getThumbOnePosition())+this.getElementSizeByOrientation(this.data.getThumbSize())),e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.sliderSize={width:0,height:0},this.thumbSize={width:0,height:0},this.thumbOnePosition={left:0,top:0},this.thumbTwoPosition={left:0,top:0},this.scalePointSize={width:0,height:0},this.orientation=e.orienation,this.type=e.type,this.scaleVisible=e.scale,this.tooltipsVisible=e.tooltips,this.min=e.min,this.max=e.max,this.step=e.step}setOrientation(e){"horizontal"!==e&&"vertical"!==e||(this.orientation=e)}getOrientation(){return this.orientation}setSliderType(e){"single"!==e&&"range"!==e||(this.type=e)}getSliderType(){return this.type}setSliderSize(e){const t=e.width>=0?e.width:0,i=e.height>=0?e.height:0;this.sliderSize={width:t,height:i}}getSliderSize(){return this.sliderSize}setThumbSize(e){const t=e.width>=0?e.width:0,i=e.height>=0?e.height:0;this.thumbSize={width:t,height:i}}getThumbSize(){return this.thumbSize}setTooltipsVisible(e){this.tooltipsVisible=e}getTooltipsVisible(){return this.tooltipsVisible}setScaleVisible(e){this.scaleVisible=e}getScaleVisible(){return this.scaleVisible}setMin(e){return e<=this.max&&(this.min=e,!0)}getMin(){return this.min}setMax(e){return e>=this.min&&(this.max=e,!0)}getMax(){return this.max}setStep(e){return e>0&&(this.step=e,!0)}getStep(){return this.step}setThumbOnePosition(e){let t=this.getThumbOnePosition().left,i=this.getThumbOnePosition().top;t=this.thumbIsOutOfRangeHorizontally(e)?"single"===this.type?this.getSliderSize().width-this.getThumbSize().width:this.getThumbTwoPosition().left:e.left>=0?e.left:0,i=this.thumbIsOutOfRangeVertically(e)?"single"===this.type?this.getSliderSize().height-this.getThumbSize().height:this.getThumbTwoPosition().top:e.top>=0?e.top:0,this.thumbOnePosition={left:t,top:i}}thumbIsOutOfRangeHorizontally(e){return!("single"===this.type&&e.left<=this.getSliderSize().width-this.getThumbSize().width||e.left<=this.getThumbTwoPosition().left)}thumbIsOutOfRangeVertically(e){return!("single"===this.type&&e.top<=this.getSliderSize().height-this.getThumbSize().height||e.top<=this.getThumbTwoPosition().top)}getThumbOnePosition(){return this.thumbOnePosition}setThumbTwoPosition(e){let t=this.getThumbTwoPosition().left,i=this.getThumbTwoPosition().top;t=e.left>=this.getThumbOnePosition().left?e.left<=this.getSliderSize().width-this.getThumbSize().width?e.left:this.getSliderSize().width-this.getThumbSize().width:this.getThumbOnePosition().left,i=e.top>=this.getThumbOnePosition().top?e.top<=this.getSliderSize().height-this.getThumbSize().height?e.top:this.getSliderSize().height-this.getThumbSize().height:this.getThumbOnePosition().top,this.thumbTwoPosition={left:t,top:i}}getThumbTwoPosition(){return this.thumbTwoPosition}setScalePointSize(e){this.scalePointSize=e}getScalePointSize(){return this.scalePointSize}}},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(10));t.default=class{constructor(e,t){this.slider=null,this.track=null,this.thumbOne=null,this.thumbTwo=null,this.tooltipOne=null,this.tooltipTwo=null,this.progressBar=null,this.scale=null,this.observer=e,this.sliderWrapper=t,this.elementFactory=new n.default,this.addWindowResizeEventListener(),this.observer.subscribe("changeZIndexToAnotherThumb",e=>{null!==this.thumbOne&&null!==this.thumbTwo&&(e.isEqualNode(this.thumbOne.getElement())?this.thumbTwo.setZIndex("2"):this.thumbOne.setZIndex("2"))})}addWindowResizeEventListener(){window.addEventListener("resize",this.windowResize.bind(this))}windowResize(){this.observer.notify("sliderResized",null)}createSlider(e){this.slider=this.elementFactory.createSlider(this.sliderWrapper,e),this.observer.notify("sliderElementIsCreated",this.slider.getSize())}createTrack(e){null!=this.slider&&(this.track=this.elementFactory.createTrack(this.slider.getElement(),e,this.observer))}createThumbOne(e){null!=this.slider&&(this.thumbOne=this.elementFactory.createThumb(this.slider.getElement(),e,this.observer),this.observer.notify("thumbOneIsCreated",this.thumbOne.getSize()))}createThumbTwo(e){null!=this.slider&&(this.thumbTwo=this.elementFactory.createThumb(this.slider.getElement(),e,this.observer))}createTooltipOne(e){null!=this.slider&&null!=this.thumbOne&&(this.tooltipOne=this.elementFactory.createTooltip(this.slider.getElement(),e))}createTooltipTwo(e){null!=this.slider&&null!=this.thumbTwo&&(this.tooltipTwo=this.elementFactory.createTooltip(this.slider.getElement(),e))}createProgressBar(e){null!=this.slider&&(this.progressBar=this.elementFactory.createProgressBar(this.slider.getElement(),e))}createScale(e){null!=this.slider&&(this.scale=this.elementFactory.createScale(this.slider.getElement(),e,this.observer),this.observer.notify("scaleIsCreated",null))}moveThumbOne(e){null!==this.thumbOne&&this.thumbOne.moveTo(e)}moveTooltipOne(e){null!==this.tooltipOne&&this.tooltipOne.moveTo(e)}getCoordsForMargins(){let e=null,t=null,i=null;return null!==this.slider&&(e=this.slider.getCoords()),null!==this.tooltipOne&&(t=this.tooltipOne.getCoords()),null!==this.scale&&(i=this.scale.getCoords()),{sliderCoords:e,tooltipCoords:t,scaleCoords:i}}setSliderMargins(e){null!==this.slider&&this.slider.setMargins(e)}tooltipOneSetValue(e){null!==this.tooltipOne&&this.tooltipOne.setValue(e)}moveThumbTwo(e){null!=this.thumbTwo&&this.thumbTwo.moveTo(e)}moveTooltipTwo(e){null!==this.tooltipTwo&&this.tooltipTwo.moveTo(e)}tooltipTwoSetValue(e){null!==this.tooltipTwo&&this.tooltipTwo.setValue(e)}setProgressBarPosition(e){null!==this.progressBar&&this.progressBar.setPosition(e)}getScalePointMaxSize(e){return null!==this.scale?this.scale.getScalePointMaxSize(e):{width:0,height:0}}addScalePoint(e){null!==this.scale&&this.scale.addScalePoint(e.position,e.scalePointSize,e.scalePointValue)}removeSlider(){null!==this.slider&&(this.slider.remove(),this.slider=null)}removeThumbOne(){null!==this.thumbOne&&(this.thumbOne.remove(),null!=this.tooltipOne&&(this.tooltipOne.remove(),this.tooltipOne=null))}removeThumbTwo(){null!==this.thumbTwo&&(this.thumbTwo.remove(),null!=this.tooltipTwo&&(this.tooltipTwo.remove(),this.tooltipTwo=null))}removeScale(){null!==this.scale&&(this.scale.remove(),this.scale=null)}removeTooltipOne(){null!==this.tooltipOne&&(this.tooltipOne.remove(),this.tooltipOne=null)}removeTooltipTwo(){null!==this.tooltipTwo&&(this.tooltipTwo.remove(),this.tooltipTwo=null)}setScaleSize(e){null!==this.scale&&this.scale.setScaleSize(e.width,e.height)}}},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(11)),o=s(i(12)),l=s(i(13)),r=s(i(14)),a=s(i(15)),h=s(i(16));t.default=class{createElement(e,t,i){const s=document.createElement("div");s.className=t;const n=i(s);return e.prepend(s),n}createSlider(e,t){return this.createElement(e,t,e=>new n.default(e))}createTrack(e,t,i){return this.createElement(e,t,e=>new o.default(e,i))}createThumb(e,t,i){return this.createElement(e,t,e=>new l.default(e,i))}createTooltip(e,t){return this.createElement(e,t,e=>new r.default(e))}createProgressBar(e,t){return this.createElement(e,t,e=>new a.default(e))}createScale(e,t,i){return this.createElement(e,t,e=>new h.default(e,i))}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.element=e}getElement(){return this.element}setSize(e){this.element.style.width=e.width+"px",this.element.style.height=e.height+"px"}getSize(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}remove(){this.element.remove()}getCoords(){const e=this.element.getBoundingClientRect();return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}setMargins(e){this.element.style.margin=`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this.element=e,this.observer=t,this.addClickEventListener()}addClickEventListener(){this.element.addEventListener("click",this.clickToTrack.bind(this))}clickToTrack(e){this.observer.notify("clickOnTheTrack",this.getPosition({x:e.clientX,y:e.clientY}))}getPosition(e){const t=Object.assign({},e),i=this.element.parentElement;if(null!==i){const e=i.getBoundingClientRect();t.x=t.x-e.left,t.y=t.y-e.top}return t}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this.shift={shiftX:0,shiftY:0},this.onMouseMoveHandler=new Function,this.onMouseUpHandler=new Function,this.element=e,this.observer=t,this.addMousedownEventListener(),this.addTouchstartEventListener(),this.disableDragAndDrop()}disableDragAndDrop(){this.element.ondragstart=function(){return!1}}addMousedownEventListener(){this.element.addEventListener("mousedown",this.moveMouse.bind(this))}moveMouse(e){this.startDrag(e.clientX,e.clientY)}addTouchstartEventListener(){this.element.addEventListener("touchstart",this.moveTouch.bind(this))}moveTouch(e){this.startDrag(e.targetTouches[0].pageX,e.targetTouches[0].pageY)}getElement(){return this.element}getSize(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}setZIndex(e){this.element.style.zIndex=e}moveTo(e){this.element.style.left=e.left+"px",this.element.style.top=e.top+"px"}remove(){this.element.remove()}startDrag(e,t){this.setZIndex("3"),this.observer.notify("changeZIndexToAnotherThumb",this.element);const i=this.element.getBoundingClientRect();this.shift.shiftX=e-i.left,this.shift.shiftY=t-i.top,this.onMouseMoveHandler=this.drag.bind(this),this.onMouseUpHandler=this.endDrag.bind(this),document.addEventListener("mousemove",this.onMouseMoveHandler),document.addEventListener("mouseup",this.onMouseUpHandler),document.addEventListener("touchmove",this.onMouseMoveHandler),document.addEventListener("touchend",this.onMouseUpHandler)}drag(e){let t="thumbOneIsDragged";this.element.classList.contains("slider__thumb-two")&&(t="thumbTwoIsDragged"),e instanceof MouseEvent?this.observer.notify(t,this.getPosition({x:e.clientX,y:e.clientY})):this.observer.notify(t,this.getPosition({x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY}))}getPosition(e){const t={left:e.x,top:e.y},i=this.element.parentElement;if(null!==i){const e=i.getBoundingClientRect();t.left=t.left-e.left-this.shift.shiftX,t.top=t.top-e.top-this.shift.shiftY}return t}endDrag(){document.removeEventListener("mousemove",this.onMouseMoveHandler),document.removeEventListener("mouseup",this.onMouseUpHandler),document.removeEventListener("touchmove",this.onMouseMoveHandler),document.removeEventListener("touchend",this.onMouseUpHandler)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.element=e}setValue(e){this.element.innerText=e.toString()}moveTo(e){this.element.style.left=e.left+"px",this.element.style.top=e.top+"px"}remove(){this.element.remove()}getCoords(){const e=this.element.getBoundingClientRect();return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.element=e}getElement(){return this.element}setPosition(e){"horizontal"===e.orientation?(this.setHorizontalOrientation(),this.element.style.left=e.start+"px",this.element.style.width=e.end+"px"):(this.setVerticalOrientation(),this.element.style.top=e.start+"px",this.element.style.height=e.end+"px")}setHorizontalOrientation(){this.element.removeAttribute("style"),this.element.classList.remove("slider__progress-bar_vertical"),this.element.classList.add("slider__progress-bar_horizontal")}setVerticalOrientation(){this.element.removeAttribute("style"),this.element.classList.remove("slider__progress-bar_horizontal"),this.element.classList.add("slider__progress-bar_vertical")}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this.element=e,this.observer=t,this.orientation=e.classList.contains("slider__scale_vertical")?"vertical":"horizontal",this.addClickEventListener()}addClickEventListener(){this.element.addEventListener("click",this.clickToScale.bind(this))}clickToScale(e){this.observer.notify("clickOnTheScale",this.getPosition({x:e.clientX,y:e.clientY}))}getScalePointMaxSize(e){const t=this.addScalePoint(0,0,e),i=t.offsetWidth,s=t.offsetHeight;return t.remove(),{width:i,height:s}}addScalePoint(e,t,i){const s=document.createElement("div");"horizontal"===this.orientation?s.className="slider__scale-point slider__scale-point_horizontal":s.className="slider__scale-point slider__scale-point_vertical",t>0&&(s.style.width=t+"px");const n=document.createElement("div");n.className="slider__scale-point-marker";const o=document.createElement("div");return"horizontal"===this.orientation?o.className="slider__scale-point-label slider__scale-point-label_horizontal":o.className="slider__scale-point-label slider__scale-point-label_vertical",o.innerText=i.toString(),"horizontal"===this.orientation?s.style.left=e+"px":s.style.top=e+"px",s.append(n),s.append(o),this.element.append(s),s}remove(){this.element.remove()}setScaleSize(e,t){this.element.style.width=e+"px",this.element.style.height=t+"px"}getPosition(e){const t=Object.assign({},e),i=this.element.parentElement;if(null!==i){const e=i.getBoundingClientRect();t.x=t.x-e.left,t.y=t.y-e.top}return t}getCoords(){const e=this.element.getBoundingClientRect();return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}}},function(e,t,i){"use strict";(function(e){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(18));e.fn.sliderControlPanel=function(){return new n.default(this),this}}).call(this,i(0))},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(19)),o=s(i(20)),l=s(i(21));t.default=class{constructor(e){this.sliderPanel=document.createElement("div"),this.minValue=document.createElement("input"),this.maxValue=document.createElement("input"),this.step=document.createElement("input"),this.scaleChBox=document.createElement("input"),this.tooltipChBox=document.createElement("input"),this.singleRadioButton=document.createElement("input"),this.rangeRadioButton=document.createElement("input"),this.horizontalRadioButton=document.createElement("input"),this.verticalRadioButton=document.createElement("input"),this.sliderElem=e,this.createPanel(),this.addEventListenersToPanel()}createPanel(){const e=this.createInputTextGroup(),t=this.createRadioTextGroup(),i=this.createCheckboxTextGroup(),s=this.wrapElements("slider-panel__checkboxes-and-radio-wrapper",t,i);this.sliderPanel.className="slider-panel",this.sliderPanel.append(e),this.sliderPanel.append(s);const n=String(this.sliderElem.incredibleSliderPlugin("getSliderType"));"single"==n?this.singleRadioButton.checked=!0:"range"==n&&(this.rangeRadioButton.checked=!0);const o=String(this.sliderElem.incredibleSliderPlugin("getSliderOrientation"));"horizontal"==o?(this.setSliderWrapperHorizontalOrientation(),this.horizontalRadioButton.checked=!0):"vertical"==o&&(this.setSliderWrapperVerticalOrientation(),this.verticalRadioButton.checked=!0);const l=document.createElement("div");l.className="panel-wrapper",l.append(this.sliderPanel),this.sliderElem.append(l)}addEventListenersToPanel(){this.minValue.addEventListener("keyup",this.minKeyupEvent.bind(this)),this.maxValue.addEventListener("keyup",this.maxKeyupEvent.bind(this)),this.step.addEventListener("keyup",this.stepKeyupEvent.bind(this)),this.scaleChBox.addEventListener("click",this.scaleChBoxClickEvent.bind(this)),this.tooltipChBox.addEventListener("click",this.tooltipChBoxClickEvent.bind(this)),this.singleRadioButton.addEventListener("click",this.singleRadioButtonClickEvent.bind(this)),this.rangeRadioButton.addEventListener("click",this.rangeRadioButtonClickEvent.bind(this)),this.horizontalRadioButton.addEventListener("click",this.horizontalRadioButtonClickEvent.bind(this)),this.verticalRadioButton.addEventListener("click",this.verticalRadioButtonClickEvent.bind(this))}minKeyupEvent(){const e=this.minValue.value.replace(/[^\d]/g,"");this.setMinValueSlider(e)}maxKeyupEvent(){const e=this.maxValue.value.replace(/[^\d]/g,"");this.setMaxValueSlider(e)}stepKeyupEvent(){const e=this.step.value.replace(/[^\d]/g,"");this.setStepValueSlider(e)}scaleChBoxClickEvent(){this.sliderElem.incredibleSliderPlugin("changeScaleVisibility",this.scaleChBox.checked)}tooltipChBoxClickEvent(){this.sliderElem.incredibleSliderPlugin("changeTooltipsVisibility",this.tooltipChBox.checked)}singleRadioButtonClickEvent(){this.sliderElem.incredibleSliderPlugin("changeSliderType",this.singleRadioButton.value)}rangeRadioButtonClickEvent(){this.sliderElem.incredibleSliderPlugin("changeSliderType",this.rangeRadioButton.value)}horizontalRadioButtonClickEvent(){this.setSliderWrapperHorizontalOrientation(),this.sliderElem.incredibleSliderPlugin("changeSliderOrientation",this.horizontalRadioButton.value)}verticalRadioButtonClickEvent(){this.setSliderWrapperVerticalOrientation(),this.sliderElem.incredibleSliderPlugin("changeSliderOrientation",this.verticalRadioButton.value)}createInputTextGroup(){this.minValue.value=String(this.sliderElem.incredibleSliderPlugin("getMin")),this.maxValue.value=String(this.sliderElem.incredibleSliderPlugin("getMax")),this.step.value=String(this.sliderElem.incredibleSliderPlugin("getStep"));return this.wrapElements("slider-panel__input-text-group",new l.default(this.minValue,"min","min").getControl(),new l.default(this.maxValue,"max","max").getControl(),new l.default(this.step,"step","step").getControl())}createRadioTextGroup(){const e=[{input:this.singleRadioButton,id:"single",label:"single",value:"single"},{input:this.rangeRadioButton,id:"range",label:"range",value:"range"}],t=document.createElement("label");t.innerText="type",t.classList.add("slider-panel__radio-group-label");const i=new o.default(e,"sliderType"),s=[{input:this.horizontalRadioButton,id:"horizontal",label:"horizontal",value:"horizontal"},{input:this.verticalRadioButton,id:"vertical",label:"vertical",value:"vertical"}],n=document.createElement("label");n.innerText="orientation",n.classList.add("slider-panel__radio-group-label");const l=new o.default(s,"sliderOrientation");return this.wrapElements("slider-panel__input-radio-buttons-group",t,i.getControl(),n,l.getControl())}createCheckboxTextGroup(){const e=document.createElement("label");e.innerText="on/off elements",e.classList.add("slider-panel__checkboxes-group-label");const t=new n.default(this.scaleChBox,"scale","scale");this.scaleChBox.checked=Boolean(this.sliderElem.incredibleSliderPlugin("getScaleVisiblity"));const i=new n.default(this.tooltipChBox,"tooltips","tooltips");this.tooltipChBox.checked=Boolean(this.sliderElem.incredibleSliderPlugin("getTooltipsVisiblity"));return this.wrapElements("slider-panel__input-checkboxes-group",e,t.getControl(),i.getControl())}wrapElements(e,...t){const i=document.createElement("div");i.className=e;for(const e of t)i.append(e);return i}setSliderWrapperHorizontalOrientation(){this.sliderElem.removeClass("slider-wrapper_vertical"),this.sliderElem.addClass("slider-wrapper_horizontal"),this.setPanelHorizontalOrientation()}setSliderWrapperVerticalOrientation(){this.sliderElem.removeClass("slider-wrapper_horizontal"),this.sliderElem.addClass("slider-wrapper_vertical"),this.setPanelVerticalOrientation()}setPanelHorizontalOrientation(){this.sliderPanel.classList.remove("slider-panel_vertical"),this.sliderPanel.classList.add("slider-panel_horizontal")}setPanelVerticalOrientation(){this.sliderPanel.classList.remove("slider-panel_horizontal"),this.sliderPanel.classList.add("slider-panel_vertical")}setMinValueSlider(e){if(this.minValue){let t=parseInt(e);isNaN(t)&&(t=0),t>=parseInt(this.maxValue.value)&&(t=Number(this.sliderElem.incredibleSliderPlugin("getMax"))-1),this.sliderElem.incredibleSliderPlugin("setMin",t),this.minValue.value=t.toString()}}setMaxValueSlider(e){if(this.maxValue){let t=parseInt(e);isNaN(t)&&(t=Number(this.sliderElem.incredibleSliderPlugin("getMax"))),t<=parseInt(this.minValue.value)&&(t=Number(this.sliderElem.incredibleSliderPlugin("getMin"))+1),this.sliderElem.incredibleSliderPlugin("setMax",t),this.maxValue.value=t.toString()}}setStepValueSlider(e){if(this.step){const t=parseInt(e);isNaN(t)?this.step.value="1":(this.sliderElem.incredibleSliderPlugin("setStep",t),this.step.value=t.toString())}}}},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(1));class o extends n.default{constructor(e,t,i){super();const s={inputElement:e,id:this.generateID(i),inputType:"checkbox",inputClass:"slider-panel__checkbox",labelText:t,labelClass:"slider-panel__input-checkbox-label",wrapperClass:"slider-panel__input-checkbox-wrapper"};this.control=this.createControl(s)}getControl(){return this.control}}t.default=o},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(1));class o extends n.default{constructor(e,t){super();const i=this.generateName(t),s=document.createElement("div");s.className="slider-panel__radio-group";for(const t of e){const e={inputElement:t.input,id:this.generateID(t.id),name:i,value:t.value,inputType:"radio",inputClass:"slider-panel__radio-button",labelText:t.label,labelClass:"slider-panel__input-radio-label",wrapperClass:"slider-panel__input-radio-wrapper"},n=this.createControl(e);s.append(n)}this.control=s}getControl(){return this.control}}t.default=o},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(1));class o extends n.default{constructor(e,t,i){super();const s={inputElement:e,id:this.generateID(i),inputType:"text",inputClass:"slider-panel__input",labelText:t,labelClass:"slider-panel__input-text-label",wrapperClass:"slider-panel__input-text-wrapper"};this.control=this.createControl(s)}getControl(){return this.control}}t.default=o},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcGx1Z2lucy9zbGlkZXJQYW5lbFBsdWdpbi9wYW5lbEVsZW1lbnRzL3BhbmVsRWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9wbHVnaW5zL3NsaWRlclBsdWdpbi9pbmNyZWRpYmxlU2xpZGVyUGx1Z2luLnRzIiwid2VicGFjazovLy8uL3BsdWdpbnMvc2xpZGVyUGx1Z2luL3ByZXNlbnRlci9wcmVzZW50ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vcGx1Z2lucy9zbGlkZXJQbHVnaW4vb2JzZXJ2ZXIvb2JzZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vcGx1Z2lucy9zbGlkZXJQbHVnaW4vbW9kZWwvbW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vcGx1Z2lucy9zbGlkZXJQbHVnaW4vbW9kZWwvbW9kZWxDYWxjdWxhdG9yLnRzIiwid2VicGFjazovLy8uL3BsdWdpbnMvc2xpZGVyUGx1Z2luL21vZGVsL21vZGVsRGF0YS50cyIsIndlYnBhY2s6Ly8vLi9wbHVnaW5zL3NsaWRlclBsdWdpbi92aWV3L3ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vcGx1Z2lucy9zbGlkZXJQbHVnaW4vdmlldy9lbGVtZW50RmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9wbHVnaW5zL3NsaWRlclBsdWdpbi92aWV3L3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9wbHVnaW5zL3NsaWRlclBsdWdpbi92aWV3L3RyYWNrLnRzIiwid2VicGFjazovLy8uL3BsdWdpbnMvc2xpZGVyUGx1Z2luL3ZpZXcvdGh1bWIudHMiLCJ3ZWJwYWNrOi8vLy4vcGx1Z2lucy9zbGlkZXJQbHVnaW4vdmlldy90b29sdGlwLnRzIiwid2VicGFjazovLy8uL3BsdWdpbnMvc2xpZGVyUGx1Z2luL3ZpZXcvcHJvZ3Jlc3NCYXIudHMiLCJ3ZWJwYWNrOi8vLy4vcGx1Z2lucy9zbGlkZXJQbHVnaW4vdmlldy9zY2FsZS50cyIsIndlYnBhY2s6Ly8vLi9wbHVnaW5zL3NsaWRlclBhbmVsUGx1Z2luL3NsaWRlckNvbnRyb2xQYW5lbC50cyIsIndlYnBhY2s6Ly8vLi9wbHVnaW5zL3NsaWRlclBhbmVsUGx1Z2luL3BhbmVsLnRzIiwid2VicGFjazovLy8uL3BsdWdpbnMvc2xpZGVyUGFuZWxQbHVnaW4vcGFuZWxFbGVtZW50cy9pbnB1dENoZWNrYm94LnRzIiwid2VicGFjazovLy8uL3BsdWdpbnMvc2xpZGVyUGFuZWxQbHVnaW4vcGFuZWxFbGVtZW50cy9pbnB1dFJhZGlvLnRzIiwid2VicGFjazovLy8uL3BsdWdpbnMvc2xpZGVyUGFuZWxQbHVnaW4vcGFuZWxFbGVtZW50cy9pbnB1dFRleHQudHMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCIwIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJwcmVmaXgiLCJpZCIsInRoaXMiLCJnZW5lcmF0ZVJhbmROdW1iZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwYXJhbXMiLCJpbnB1dEVsZW1lbnQiLCJ0eXBlIiwiaW5wdXRUeXBlIiwiY2xhc3NOYW1lIiwiaW5wdXRDbGFzcyIsImNvbnRyb2xMYWJlbCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJsYWJlbENsYXNzIiwidGV4dENvbnRlbnQiLCJsYWJlbFRleHQiLCJodG1sRm9yIiwid3JhcEVsZW1lbnRzIiwid3JhcHBlckNsYXNzIiwiZWxlbWVudHMiLCJ3cmFwcGVyIiwiZWxlbWVudCIsImFwcGVuZCIsImFkZE5ld1NsaWRlckJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJoZWxwSW1hZ2UiLCJidXR0b25XcmFwcGVyIiwicmVtb3ZlU2xpZGVyIiwic2xpZGVyV3JhcHBlciIsInJlbW92ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwiYmVmb3JlIiwiaWNvbiIsImlubmVyVGV4dCIsInJlbW92ZVNsaWRlckJ1dHRvbiIsIiQiLCJpbmNyZWRpYmxlU2xpZGVyUGx1Z2luIiwic2xpZGVyQ29udHJvbFBhbmVsIiwiZGVmYXVsdFNldHRpbmdzIiwibWV0aG9kcyIsImluaXQiLCJvcHRpb25zIiwic2V0dGluZ3MiLCJleHRlbmQiLCJlYWNoIiwic2xpZGVyUHJlc2VudGVyIiwic2V0TWluIiwiY2hhbmdlTWluVmFsdWUiLCJnZXRNaW4iLCJnZXRTbGlkZXJNaW5WYWx1ZSIsInNldE1heCIsImNoYW5nZU1heFZhbHVlIiwiZ2V0TWF4IiwiZ2V0U2xpZGVyTWF4VmFsdWUiLCJnZXRTdGVwIiwiZ2V0U2xpZGVyU3RlcCIsInNldFN0ZXAiLCJjaGFuZ2VTdGVwIiwiY2hhbmdlU2NhbGVWaXNpYmlsaXR5IiwiZmxhZyIsImNoYW5nZVRvb2x0aXBzVmlzaWJpbGl0eSIsImdldFNjYWxlVmlzaWJsaXR5IiwiZ2V0VG9vbHRpcHNWaXNpYmxpdHkiLCJjaGFuZ2VTbGlkZXJUeXBlIiwiZ2V0U2xpZGVyVHlwZSIsImdldFNsaWRlck9yaWVudGF0aW9uIiwiY2hhbmdlU2xpZGVyT3JpZW50YXRpb24iLCJvcmllbnRhdGlvbiIsImZuIiwiYWN0aW9uIiwiYXJncyIsImVycm9yIiwialF1ZXJ5Iiwib2JzZXJ2ZXIiLCJtb2RlbCIsInZpZXciLCJhZGRPYnNlcnZlckxpc3RlbmVycyIsImNyZWF0ZU5ld1NsaWRlciIsInN1YnNjcmliZSIsInNsaWRlclNpemUiLCJzZXRTbGlkZXJTaXplIiwidGh1bWJTaXplIiwic2V0VGh1bWJTaXplIiwidGh1bWJQb3NpdGlvbiIsImRyYWd0aHVtYk9uZSIsImRyYWdUaHVtYlR3byIsIm1vdmVUaHVtYk9uZSIsInRvb2x0aXBPbmVTZXRWYWx1ZSIsInRvb2x0aXBWYWx1ZSIsIm1vdmVUb29sdGlwT25lIiwiZ2V0VG9vbHRpcFBvc2l0aW9uIiwibW92ZVRodW1iVHdvIiwidG9vbHRpcFR3b1NldFZhbHVlIiwibW92ZVRvb2x0aXBUd28iLCJwcm9ncmVzc0JhclBvc2l0aW9uIiwic2V0UHJvZ3Jlc3NCYXJQb3NpdGlvbiIsInNldFNjYWxlUG9pbnRTaXplIiwiZ2V0U2NhbGVQb2ludE1heFNpemUiLCJnZW5lcmF0ZVNjYWxlIiwicG9pbnRTZXR0aW5ncyIsImFkZFNjYWxlUG9pbnQiLCJjdXJzb3JQb3NpdGlvbiIsIm1vdmVUaHVtYlRvQ2xpY2tQb3NpdGlvbiIsInNjYWxlU2l6ZSIsInNldFNjYWxlU2l6ZSIsImFkZE1hcmdpbnNUb1NsaWRlciIsInNldFNsaWRlck1hcmdpbnMiLCJtYXJnaW5zIiwiZ2V0U2xpZGVyTWFyZ2lucyIsImdldENvb3Jkc0Zvck1hcmdpbnMiLCJpc1RodW1ic1N0YXJ0UG9zaXRpb24iLCJjcmVhdGVTbGlkZXIiLCJjcmVhdGVUcmFjayIsImNyZWF0ZVByb2dyZXNzQmFyIiwiY3JlYXRlVGh1bWJzIiwiY3JlYXRlU2NhbGUiLCJpc1N0YXJ0UG9zaXRpb24iLCJzbGlkZXJUeXBlIiwidG9vbHRpcHNWaXNpYmxlIiwiY3JlYXRlVGh1bWJPbmUiLCJjcmVhdGVUb29sdGlwT25lIiwiY3JlYXRlVGh1bWJUd28iLCJjcmVhdGVUb29sdGlwVHdvIiwic2V0VGh1bWJUd29Ub1N0YXJ0aW5nUG9zaXRpb24iLCJnZXRUaHVtYlR3b1Bvc2l0aW9uIiwic2V0VGh1bWJPbmVUb1N0YXJ0aW5nUG9zaXRpb24iLCJnZXRUaHVtYk9uZVBvc2l0aW9uIiwic2xpZGVyTWF4VmFsdWUiLCJvcmllbmF0aW9uIiwic2V0U2xpZGVyT3JpZW50YXRpb24iLCJ0aHVtYk9uZVBvc2l0aW9uIiwidGh1bWJUd29Qb3NpdGlvbiIsInNldFRodW1iT25lUG9zaXRpb24iLCJ0b3AiLCJsZWZ0Iiwic2V0VGh1bWJUd29Qb3NpdGlvbiIsInJlbW92ZVRodW1iT25lIiwicmVtb3ZlVGh1bWJUd28iLCJzZXRTbGlkZXJUeXBlIiwibmV3TWluIiwibmV3TWF4IiwibmV3U3RlcCIsInNjYWxlVmlzaWJsZSIsInNldFNjYWxlVmlzaWJpbGl0eSIsInJlbW92ZVNjYWxlIiwic2V0VG9vbHRpcHNWaXNpYmxlIiwicmVtb3ZlVG9vbHRpcE9uZSIsInJlbW92ZVRvb2x0aXBUd28iLCJvYnNlcnZhYmxlcyIsIm5vdGlmaWNhdGlvbiIsImZ1bmMiLCJmaWx0ZXIiLCJzdWJzY3JpYmVyZnVuYyIsImZvckVhY2giLCJsaXN0ZW5lciIsImNhbGN1bGF0b3IiLCJnZXRPcmllbnRhdGlvbiIsInNldE9yaWVudGF0aW9uIiwiZ2V0VG9vbHRpcHNWaXNpYmxlIiwic2NhbGVQb2ludFNpemUiLCJkcmFnVGh1bWJPbmUiLCJzZXRTY2FsZVZpc2libGUiLCJnZXRTY2FsZVZpc2libGUiLCJjaGFuZ2VQb3NpdGlvbkFjY29yZGluZ1RvU3RlcCIsImNvcnJlY3RUaHVtT25lUG9zaXRpb24iLCJ0aHVtYlZhbHVlIiwicG9zaXRpb25Ub1ZhbHVlIiwiZ2V0RWxlbWVudFBvc0J5T3JpZW50YXRpb24iLCJ0aHVtYkRyYWciLCJjb3JyZWN0VGh1bVR3b1Bvc2l0aW9uIiwicG9zaXRpb24iLCJ4IiwiZ2V0VGh1bWJTaXplIiwid2lkdGgiLCJ5IiwiaGVpZ2h0IiwiYWJzIiwiZ2V0U2xpZGVyU2l6ZSIsInNjYWxlUG9pbnRQb3NpdGlvbiIsImdldEVsZW1lbnRTaXplQnlPcmllbnRhdGlvbiIsImdldFNjYWxlUG9pbnRTaXplIiwic3RlcHNDb3VudCIsImNhbGN1bGF0ZVN0ZXBzQ291bnQiLCJzdGVwU2l6ZSIsImNhbGN1bGF0ZVN0ZXBTaXplIiwicHJldlNjYWxlUG9pbnRQb3NpdGlvbiIsInNjYWxlUG9pbnRzQ291bnQiLCJyb3VuZCIsInBvaW50VmFsdWUiLCJpc1BvaW50Rml0cyIsIm5vdGlmeSIsInJpZ2h0IiwiYm90dG9tIiwic2xpZGVyQ29vcmRzIiwic2NhbGVDb29yZHMiLCJ0b29sdGlwQ29vcmRzIiwibm90eWZ5TWVzc2FnZSIsIm5ld1RodW1iUG9zaXRpb24iLCJhc3NpZ24iLCJjYWxjUHJvZ3Jlc3NCYXJQb3NpdGlvbiIsInBpeGVsc1BlclZhbHVlIiwiY2FsY3VsYXRlUGl4ZWxzUGVyVmFsdWUiLCJwcm9ncmVzcyIsInN0YXJ0IiwiZW5kIiwic2NhbGUiLCJ0b29sdGlwcyIsIm1pbiIsIm1heCIsInN0ZXAiLCJ2aXNpYmxlIiwidGh1bWJJc091dE9mUmFuZ2VIb3Jpem9udGFsbHkiLCJ0aHVtYklzT3V0T2ZSYW5nZVZlcnRpY2FsbHkiLCJzbGlkZXIiLCJ0cmFjayIsInRodW1iT25lIiwidGh1bWJUd28iLCJ0b29sdGlwT25lIiwidG9vbHRpcFR3byIsInByb2dyZXNzQmFyIiwiZWxlbWVudEZhY3RvcnkiLCJhZGRXaW5kb3dSZXNpemVFdmVudExpc3RlbmVyIiwidGh1bWJFbGVtIiwiaXNFcXVhbE5vZGUiLCJnZXRFbGVtZW50Iiwic2V0WkluZGV4Iiwid2luZG93UmVzaXplIiwic3R5bGVDbGFzc2VzIiwiZ2V0U2l6ZSIsImNyZWF0ZVRodW1iIiwiY3JlYXRlVG9vbHRpcCIsIm1vdmVUbyIsInRvb2x0aXBPbmVDb29yZHMiLCJnZXRDb29yZHMiLCJzZXRNYXJnaW5zIiwibmV3VmFsdWUiLCJzZXRWYWx1ZSIsInByb2dyZXNzUG9zaXRpb24iLCJzZXRQb3NpdGlvbiIsInNjYWxlUG9pbnRWYWx1ZSIsInBhcnJlbnQiLCJjcmVhdGVPYmoiLCJvYmoiLCJwcmVwZW5kIiwic2xpZGVyRWxlbWVudCIsInNpemUiLCJzdHlsZSIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibWFyZ2luIiwiYWRkQ2xpY2tFdmVudExpc3RlbmVyIiwiY2xpY2tUb1RyYWNrIiwiZXZlbnQiLCJnZXRQb3NpdGlvbiIsImNsaWVudFgiLCJjbGllbnRZIiwicG9zaXRpb25JbnNpZGVQYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwicGFycmVudENvb3JkcyIsInRodW1iRWxlbWVudCIsIm9uTW91c2VNb3ZlSGFuZGxlciIsIkZ1bmN0aW9uIiwib25Nb3VzZVVwSGFuZGxlciIsImFkZE1vdXNlZG93bkV2ZW50TGlzdGVuZXIiLCJhZGRUb3VjaHN0YXJ0RXZlbnRMaXN0ZW5lciIsImRpc2FibGVEcmFnQW5kRHJvcCIsIm9uZHJhZ3N0YXJ0IiwibW92ZU1vdXNlIiwic3RhcnREcmFnIiwibW92ZVRvdWNoIiwidGFyZ2V0VG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJ6SW5kZXgiLCJjdXJzb3JYIiwiY3Vyc29yWSIsInRodW1iQ29vcmRzIiwic2hpZnRYIiwic2hpZnRZIiwiZHJhZyIsImVuZERyYWciLCJub3RpZnlNZXNzYWdlIiwiY29udGFpbnMiLCJNb3VzZUV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRvb2x0aXBFbGVtZW50IiwidG9TdHJpbmciLCJzZXRIb3Jpem9udGFsT3JpZW50YXRpb24iLCJzZXRWZXJ0aWNhbE9yaWVudGF0aW9uIiwicmVtb3ZlQXR0cmlidXRlIiwiY2xpY2tUb1NjYWxlIiwibWF4VmFsdWUiLCJzY2FsZVBvaW50Iiwic2NhbGVQb2ludFdpZHRoIiwiZGl2aXNpb25NYXJrZXIiLCJkaXZpc2lvbkxhYmVsIiwiU2NhbGVDb29yZHMiLCJzbGlkZXJQYW5lbCIsIm1pblZhbHVlIiwic2NhbGVDaEJveCIsInRvb2x0aXBDaEJveCIsInNpbmdsZVJhZGlvQnV0dG9uIiwicmFuZ2VSYWRpb0J1dHRvbiIsImhvcml6b250YWxSYWRpb0J1dHRvbiIsInZlcnRpY2FsUmFkaW9CdXR0b24iLCJzbGlkZXJFbGVtIiwiY3JlYXRlUGFuZWwiLCJhZGRFdmVudExpc3RlbmVyc1RvUGFuZWwiLCJpbnB1dFRleHRzR3JvdXAiLCJjcmVhdGVJbnB1dFRleHRHcm91cCIsImlucHV0UmFkaW9CdXR0b25zR3JvdXAiLCJjcmVhdGVSYWRpb1RleHRHcm91cCIsImlucHV0Q2hlY2tib3hlc0dyb3VwIiwiY3JlYXRlQ2hlY2tib3hUZXh0R3JvdXAiLCJjaGVja2JveGVzQW5kUmFkaW9XcmFwcGVyIiwiU3RyaW5nIiwiY2hlY2tlZCIsInNsaWRlck9yaWVudGF0aW9uIiwic2V0U2xpZGVyV3JhcHBlckhvcml6b250YWxPcmllbnRhdGlvbiIsInNldFNsaWRlcldyYXBwZXJWZXJ0aWNhbE9yaWVudGF0aW9uIiwicGFuZWxXcmFwcGVyIiwibWluS2V5dXBFdmVudCIsIm1heEtleXVwRXZlbnQiLCJzdGVwS2V5dXBFdmVudCIsInNjYWxlQ2hCb3hDbGlja0V2ZW50IiwidG9vbHRpcENoQm94Q2xpY2tFdmVudCIsInNpbmdsZVJhZGlvQnV0dG9uQ2xpY2tFdmVudCIsInJhbmdlUmFkaW9CdXR0b25DbGlja0V2ZW50IiwiaG9yaXpvbnRhbFJhZGlvQnV0dG9uQ2xpY2tFdmVudCIsInZlcnRpY2FsUmFkaW9CdXR0b25DbGlja0V2ZW50IiwicmVwbGFjZSIsInNldE1pblZhbHVlU2xpZGVyIiwic2V0TWF4VmFsdWVTbGlkZXIiLCJzZXRTdGVwVmFsdWVTbGlkZXIiLCJnZXRDb250cm9sIiwic2xpZGVyVHlwZVJhZGlvUGFyYW1zIiwidHlwZVJhZGlvR3JvdXBMYWJlbCIsInNsaWRlclR5cGVSYWRpb0NvbnRyb2wiLCJzbGlkZXJPcmllbnRhdGlvblJhZGlvUGFyYW1zIiwib3JpZW50YXRpb25SYWRpb0dyb3VwTGFiZWwiLCJzbGlkZXJPcmllbnRhdGlvblJhZGlvQ29udHJvbCIsImNoZWNrYm94ZXNHcm91cExhYmVsIiwiQm9vbGVhbiIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJzZXRQYW5lbEhvcml6b250YWxPcmllbnRhdGlvbiIsInNldFBhbmVsVmVydGljYWxPcmllbnRhdGlvbiIsInBhcnNlSW50IiwiaXNOYU4iLCJOdW1iZXIiLCJJbnB1dENoZWNrYm94IiwiaW5wdXQiLCJpZFByZWZpeCIsInN1cGVyIiwiY29udHJvbFBhcmFtcyIsImdlbmVyYXRlSUQiLCJjb250cm9sIiwiY3JlYXRlQ29udHJvbCIsIklucHV0UmFkaW8iLCJyYWRpb1BhcmFtcyIsIm5hbWVQcHJlZml4IiwiZ2VuZXJhdGVOYW1lIiwibGFiZWwiLCJ3cmFwcGVkUmFkaW8iLCJJbnB1dFRleHQiXSwibWFwcGluZ3MiOiJhQUNFLFNBQVNBLEVBQXFCQyxHQVE3QixJQVBBLElBTUlDLEVBQVVDLEVBTlZDLEVBQVdILEVBQUssR0FDaEJJLEVBQWNKLEVBQUssR0FDbkJLLEVBQWlCTCxFQUFLLEdBSUhNLEVBQUksRUFBR0MsRUFBVyxHQUNwQ0QsRUFBSUgsRUFBU0ssT0FBUUYsSUFDekJKLEVBQVVDLEVBQVNHLEdBQ2hCRyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLQyxFQUFpQlgsSUFBWVcsRUFBZ0JYLElBQ3BGSyxFQUFTTyxLQUFLRCxFQUFnQlgsR0FBUyxJQUV4Q1csRUFBZ0JYLEdBQVcsRUFFNUIsSUFBSUQsS0FBWUcsRUFDWkssT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBYUgsS0FDcERjLEVBQVFkLEdBQVlHLEVBQVlILElBS2xDLElBRkdlLEdB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Z0Isb0NBR3BCcEIsS0FBSzJXLFFBQVUzVyxLQUFLNFcsY0FBY0gsR0FHdEMsYUFDSSxPQUFPelcsS0FBSzJXLFNBS3BCLFVBQWVRLEciLCJmaWxlIjoibWFpbi40M2Q1ODg4NzE0Njg0NjdmZGVlNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MDogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMiwxXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsImltcG9ydCB7SUlucHV0Q29udHJvbH0gZnJvbSAnLi4vaW50ZXJmYWNlcydcblxuY2xhc3MgUGFuZWxFbGVtZW50IHtcbiAgICBwcm90ZWN0ZWQgZ2VuZXJhdGVJRChwcmVmaXg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHByZWZpeCArIHRoaXMuZ2VuZXJhdGVSYW5kTnVtYmVyKClcblxuICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2VuZXJhdGVOYW1lKHByZWZpeDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBwcmVmaXggKyB0aGlzLmdlbmVyYXRlUmFuZE51bWJlcigpXG5cbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShuYW1lKS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVJhbmROdW1iZXIoKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgbWluID0gMTtcbiAgICAgICAgY29uc3QgbWF4ID0gMTAwMDAwO1xuXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4ICsgMSAtIG1pbikpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjcmVhdGVDb250cm9sKHBhcmFtczogSUlucHV0Q29udHJvbCk6IEhUTUxEaXZFbGVtZW50IHtcblxuICAgICAgICBwYXJhbXMuaW5wdXRFbGVtZW50LnR5cGUgPSBwYXJhbXMuaW5wdXRUeXBlO1xuICAgICAgICBwYXJhbXMuaW5wdXRFbGVtZW50LmNsYXNzTmFtZSA9IHBhcmFtcy5pbnB1dENsYXNzO1xuXG4gICAgICAgIGNvbnN0IGNvbnRyb2xMYWJlbDogSFRNTExhYmVsRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIGNvbnRyb2xMYWJlbC5jbGFzc0xpc3QuYWRkKHBhcmFtcy5sYWJlbENsYXNzKTtcbiAgICAgICAgY29udHJvbExhYmVsLnRleHRDb250ZW50ID0gcGFyYW1zLmxhYmVsVGV4dDtcblxuICAgICAgICBpZiAocGFyYW1zLmlkKSB7XG4gICAgICAgICAgICBwYXJhbXMuaW5wdXRFbGVtZW50LmlkID0gcGFyYW1zLmlkO1xuICAgICAgICAgICAgY29udHJvbExhYmVsLmh0bWxGb3IgPSBwYXJhbXMuaWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zLm5hbWUpIHtcbiAgICAgICAgICAgIHBhcmFtcy5pbnB1dEVsZW1lbnQubmFtZSA9IHBhcmFtcy5uYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcy52YWx1ZSkge1xuICAgICAgICAgICAgcGFyYW1zLmlucHV0RWxlbWVudC52YWx1ZSA9IHBhcmFtcy52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLndyYXBFbGVtZW50cyhwYXJhbXMud3JhcHBlckNsYXNzLCBwYXJhbXMuaW5wdXRFbGVtZW50LCBjb250cm9sTGFiZWwpO1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSB3cmFwRWxlbWVudHMod3JhcHBlckNsYXNzOiBzdHJpbmcsIC4uLmVsZW1lbnRzOiBIVE1MRWxlbWVudFtdKTogSFRNTERpdkVsZW1lbnQge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDQntCx0L7RgNCw0YfQuNCy0LDQtdGCINC/0L7Qu9GD0YfQtdC90L3Ri9C1INGN0LvQtdC80LXQvdGC0Ysg0LIgZGl2INGBINC30LDQtNCw0L3QvdGL0Lwg0LrQu9Cw0YHRgdC+0LxcbiAgICAgICAgICogXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB3cmFwcGVyQ2xhc3MgLSDQutC70LDRgdGBLCDQutC+0YLQvtGA0YvQuSDQsdGD0LTQtdGCINC90LDQt9C90LDRh9C10L0g0L7QsdGR0YDRgtC60LVcbiAgICAgICAgICogQHBhcmFtIHtIVE1MRWxlbWVudFtdfSAtINC80LDRgdGB0LjQsiDRjdC70LXQvNC10L3RgtC+0LIsINC60L7RgtC+0YDRi9C1INGC0YDQtdCx0YPQtdGC0YHRjyDQvtCx0LXRgNC90YPRgtGMXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcmV0dXJucyB7SFRNTERpdkVsZW1lbnR9IC0g0Y3Qu9C10LzQtdC90YLRiyDQsiDQvtCx0ZHRgNGC0LrQtVxuICAgICAgICAgKi9cblxuICAgICAgICBjb25zdCB3cmFwcGVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9IHdyYXBwZXJDbGFzcztcblxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYW5lbEVsZW1lbnQ7IiwiaW1wb3J0ICdAL3BsdWdpbnMvc2xpZGVyUGx1Z2luL2luY3JlZGlibGVTbGlkZXJQbHVnaW4udHMnXG5pbXBvcnQgJ0AvcGx1Z2lucy9zbGlkZXJQYW5lbFBsdWdpbi9zbGlkZXJDb250cm9sUGFuZWwudHMnXG5cbmltcG9ydCAnQC9zdHlsZS5zY3NzJztcbmltcG9ydCAnQC9ub3JtYWxpemUuc2Nzcyc7XG5pbXBvcnQgJ0AvcGx1Z2lucy9zbGlkZXJQbHVnaW4vc3R5bGVzL3N0eWxlLnNjc3MnXG5pbXBvcnQgJ0AvcGx1Z2lucy9zbGlkZXJQYW5lbFBsdWdpbi9zdHlsZXMvc3R5bGUuc2NzcydcbmltcG9ydCAnQC9mb250cy9mb250c1N0eWxlcy5zY3NzJ1xuXG5jb25zdCBhZGROZXdTbGlkZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLW5ldy1zbGlkZXItYnRuJyk7XG5sZXQgaGVscEltYWdlOiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVscC1pbWFnZScpXG5jb25zdCBidXR0b25XcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi13cmFwcGVyJyk7XG5cbmlmIChhZGROZXdTbGlkZXJCdG4gIT09IG51bGwpIHtcbiAgICBhZGROZXdTbGlkZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja1RvQWRkTmV3U2xpZGVyQnRuKTtcbn1cblxuZnVuY3Rpb24gY2xpY2tUb0FkZE5ld1NsaWRlckJ0bigpOiB2b2lkIHtcbiAgICBpZiAoYnV0dG9uV3JhcHBlciAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoaGVscEltYWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhlbHBJbWFnZS5yZW1vdmUoKTtcbiAgICAgICAgICAgIGhlbHBJbWFnZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWRkTmV3U2xpZGVyQnRuICE9IG51bGwpIHtcbiAgICAgICAgICAgIGFkZE5ld1NsaWRlckJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhZGQtbmV3LXNsaWRlci1idG5fbWFyZ2luLXRvcCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2xpZGVyV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzbGlkZXJXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci13cmFwcGVyJyk7XG4gICAgICAgIGJ1dHRvbldyYXBwZXIuYmVmb3JlKHNsaWRlcldyYXBwZXIpO1xuXG4gICAgICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWwtaWNvbnMnLCAncmVtb3ZlLXNsaWRlci1idXR0b25fX2ljb24nKTtcbiAgICAgICAgaWNvbi5pbm5lclRleHQgPSAnY2xlYXInO1xuXG4gICAgICAgIGNvbnN0IHJlbW92ZVNsaWRlckJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICByZW1vdmVTbGlkZXJCdXR0b24uY2xhc3NMaXN0LmFkZCgncmVtb3ZlLXNsaWRlci1idXR0b24nKTtcbiAgICAgICAgcmVtb3ZlU2xpZGVyQnV0dG9uLmFwcGVuZChpY29uKTtcbiAgICAgICAgcmVtb3ZlU2xpZGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlU2xpZGVyLmJpbmQocmVtb3ZlU2xpZGVyQnV0dG9uLCBzbGlkZXJXcmFwcGVyKSk7XG4gICAgICAgIHNsaWRlcldyYXBwZXIuYXBwZW5kKHJlbW92ZVNsaWRlckJ1dHRvbik7XG4gICAgICAgIFxuICAgICAgICAkKHNsaWRlcldyYXBwZXIpLmluY3JlZGlibGVTbGlkZXJQbHVnaW4oKTtcbiAgICAgICAgJChzbGlkZXJXcmFwcGVyKS5zbGlkZXJDb250cm9sUGFuZWwoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVNsaWRlcihzbGlkZXJXcmFwcGVyOiBIVE1MRGl2RWxlbWVudCkge1xuICAgIHNsaWRlcldyYXBwZXIucmVtb3ZlKCk7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXItd3JhcHBlcicpLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIGlmIChhZGROZXdTbGlkZXJCdG4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGFkZE5ld1NsaWRlckJ0bi5jbGFzc0xpc3QuYWRkKCdhZGQtbmV3LXNsaWRlci1idG5fbWFyZ2luLXRvcCcpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IElTbGlkZXJTZXR0aW5ncyB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5cbmltcG9ydCBQcmVzZW50ZXIgZnJvbSAnLi9wcmVzZW50ZXIvcHJlc2VudGVyJztcblxuKGZ1bmN0aW9uICgkKSB7XG5cbiAgICAvLyDQndCw0YHRgtGA0L7QudC60Lgg0L/Qu9Cw0LPQuNC90LAg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y5cbiAgICBjb25zdCBkZWZhdWx0U2V0dGluZ3M6IElTbGlkZXJTZXR0aW5ncyA9IHtcbiAgICAgICAgJ29yaWVuYXRpb24nOiAnaG9yaXpvbnRhbCcsXG4gICAgICAgICd0eXBlJzogJ3JhbmdlJyxcbiAgICAgICAgJ3NjYWxlJzogdHJ1ZSxcbiAgICAgICAgJ3Rvb2x0aXBzJzogdHJ1ZSwgICAgICAgXG4gICAgICAgICdtaW4nOiAwLFxuICAgICAgICAnbWF4JzogMTAsXG4gICAgICAgICdzdGVwJzogMVxuICAgIH07XG5cbiAgICAvLyBBUEkg0LzQvtGC0L7QtNGLINC/0LvQsNCz0LjQvdCwXG4gICAgY29uc3QgbWV0aG9kczogYW55ID0ge1xuXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uIChvcHRpb25zOiBJU2xpZGVyU2V0dGluZ3MpIHtcblxuICAgICAgICAgICAgLy8g0J7QsdC90L7QstC70LXQvdC40LUg0L3QsNGB0YLRgNC+0LXQuiDQv9C70LDQs9C40L3QsCDQsiDRgdC+0L7RgtCy0LXRgtGB0LLQuNC4INGBINC/0L7Qu9GD0YfQtdC90L3Ri9C80Lgg0L/QsNGA0LDQvNC10YLRgNCw0LzQuFxuICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3M6IElTbGlkZXJTZXR0aW5ncyA9ICQuZXh0ZW5kKGRlZmF1bHRTZXR0aW5ncywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vINCh0L7Qt9C00LDQvdC40LUg0YHQu9Cw0LnQtNC10YDQvtCyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICh0aGlzOiBhbnkpIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBvYnNlcnZlciA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgbW9kZWw6IE1vZGVsID0gbmV3IE1vZGVsKG9ic2VydmVyLCBzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgdmlldzogVmlldyA9IG5ldyBWaWV3KG9ic2VydmVyLCB0aGlzLFxuICAgICAgICAgICAgICAgIC8vICAgICB7J3R5cGUnOiBzZXR0aW5ncy50eXBlLCAnb3JpZW50YXRpb24nOiBzZXR0aW5ncy5vcmllbmF0aW9ufSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xpZGVyUHJlc2VudGVyOiBQcmVzZW50ZXIgPSBuZXcgUHJlc2VudGVyKHNldHRpbmdzLCB0aGlzKTtcblxuICAgICAgICAgICAgICAgICQodGhpcykuZGF0YSgnc2V0dGluZ3MnLCBzZXR0aW5ncyk7IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8g0LTQvtCx0LDQstC40YLRjCDQv9GA0L7QstC10YDQutGDINC90LAg0YHRg9GJ0LXRgdGC0LLQvtCy0LDQvdC40LUg0L7QsdGK0LXQutGC0LBcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmRhdGEoJ3NsaWRlclByZXNlbnRlcicsIHNsaWRlclByZXNlbnRlcik7XG4gICAgICAgICAgICAgICAgLy8gJCh0aGlzKS5kYXRhKCdzbGlkZXInLCB7XG4gICAgICAgICAgICAgICAgLy8gICAgIHRhcmdldDogJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAvLyAgICAgbTogbW9kZWxcbiAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRNaW46IGZ1bmN0aW9uKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgICAgICQodGhpcykuZGF0YSgpLnNsaWRlclByZXNlbnRlci5jaGFuZ2VNaW5WYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldE1pbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5kYXRhKCkuc2xpZGVyUHJlc2VudGVyLmdldFNsaWRlck1pblZhbHVlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldE1heDogZnVuY3Rpb24odmFsdWU6IG51bWJlcikge1xuICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCkuc2xpZGVyUHJlc2VudGVyLmNoYW5nZU1heFZhbHVlKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TWF4OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLmRhdGEoKS5zbGlkZXJQcmVzZW50ZXIuZ2V0U2xpZGVyTWF4VmFsdWUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3RlcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5kYXRhKCkuc2xpZGVyUHJlc2VudGVyLmdldFNsaWRlclN0ZXAoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0U3RlcDogZnVuY3Rpb24odmFsdWU6IG51bWJlcikge1xuICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCkuc2xpZGVyUHJlc2VudGVyLmNoYW5nZVN0ZXAodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBjaGFuZ2VTY2FsZVZpc2liaWxpdHk6IGZ1bmN0aW9uKGZsYWc6IGJvb2xlYW4pIHtcbiAgICAgICAgICAgICQodGhpcykuZGF0YSgpLnNsaWRlclByZXNlbnRlci5jaGFuZ2VTY2FsZVZpc2liaWxpdHkoZmxhZyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoYW5nZVRvb2x0aXBzVmlzaWJpbGl0eTogZnVuY3Rpb24oZmxhZzogYm9vbGVhbikge1xuICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCkuc2xpZGVyUHJlc2VudGVyLmNoYW5nZVRvb2x0aXBzVmlzaWJpbGl0eShmbGFnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U2NhbGVWaXNpYmxpdHk6IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgcmV0dXJuICQodGhpcykuZGF0YSgpLnNsaWRlclByZXNlbnRlci5nZXRTY2FsZVZpc2libGl0eSgpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRUb29sdGlwc1Zpc2libGl0eTogZnVuY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5kYXRhKCkuc2xpZGVyUHJlc2VudGVyLmdldFRvb2x0aXBzVmlzaWJsaXR5KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoYW5nZVNsaWRlclR5cGU6IGZ1bmN0aW9uKHR5cGU6IHN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuICQodGhpcykuZGF0YSgpLnNsaWRlclByZXNlbnRlci5jaGFuZ2VTbGlkZXJUeXBlKHR5cGUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRTbGlkZXJUeXBlOiBmdW5jdGlvbigpOiBzdHJpbmcge1xuICAgICAgICAgICAgcmV0dXJuICQodGhpcykuZGF0YSgpLnNsaWRlclByZXNlbnRlci5nZXRTbGlkZXJUeXBlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNsaWRlck9yaWVudGF0aW9uOiBmdW5jdGlvbigpOiBzdHJpbmcge1xuICAgICAgICAgICAgcmV0dXJuICQodGhpcykuZGF0YSgpLnNsaWRlclByZXNlbnRlci5nZXRTbGlkZXJPcmllbnRhdGlvbigpO1xuICAgICAgICB9LFxuICAgICAgICBjaGFuZ2VTbGlkZXJPcmllbnRhdGlvbjogZnVuY3Rpb24ob3JpZW50YXRpb246IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAgICAgcmV0dXJuICQodGhpcykuZGF0YSgpLnNsaWRlclByZXNlbnRlci5jaGFuZ2VTbGlkZXJPcmllbnRhdGlvbihvcmllbnRhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfTtcblxuICAgICQuZm4uaW5jcmVkaWJsZVNsaWRlclBsdWdpbiA9IGZ1bmN0aW9uIChhY3Rpb24/OiBzdHJpbmcgfCBJU2xpZGVyU2V0dGluZ3MsIGFyZ3M/KTogSlF1ZXJ5PEhUTUxFbGVtZW50PiB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnICYmIG1ldGhvZHNbYWN0aW9uXSkge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZHNbYWN0aW9uXS5jYWxsKHRoaXMsIGFyZ3MpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdvYmplY3QnIHx8ICFhY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2RzLmluaXQuY2FsbCh0aGlzLCBhcmdzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQuZXJyb3IoJ9Cc0LXRgtC+0LQg0YEg0LjQvNC10L3QtdC8ICcgKyBhY3Rpb24gKyAnINC90LUg0YHRg9GJ0LXRgdGC0LLRg9C10YIg0LTQu9GPIGpRdWVyeS5pbmNyZWRpYmxlU2xpZGVyUGx1Z2luJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgfTtcblxufSkoalF1ZXJ5KTsiLCJpbXBvcnQgeyBJU2xpZGVyU2V0dGluZ3MgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IElTbGlkZXJTaXplIH0gZnJvbSAnLi4vaW50ZXJmYWNlcydcbmltcG9ydCB7IElUaHVtYlNpemUgfSBmcm9tICcuLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IHsgSVRodW1iUG9zaXRpb24gfSBmcm9tICcuLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IHsgSURyYWdUaHVtYkFyZ3MgfSBmcm9tICcuLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IHsgSVByb2dyZXNzQmFyUG9zaXRpb24gfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IElTY2FsZVBvaW50U2l6ZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSVNjYWxlUG9pbnRTZXR0aW5ncyB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSUN1cnNvclBvc2l0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBJU2NhbGVTaXplIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5cbmltcG9ydCBPYnNlcnZlciBmcm9tICcuLi9vYnNlcnZlci9vYnNlcnZlcic7XG5pbXBvcnQgTW9kZWwgZnJvbSAnLi4vbW9kZWwvbW9kZWwnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi4vdmlldy92aWV3JztcblxuXG4vKipcbiAqINCg0LXQsNC70LjQt9GD0LXRgiDQstC30LDQuNC80L7QtNC10LnRgdGC0LLQuNC1INC80LXQttC00YMg0JzQvtC00LXQu9GM0Y4g0Lgg0JLQuNC00L7QvC4g0JLRi9C/0L7Qu9C90Y/QtdGCINGB0LvQtdC00YPRjtGJ0LjQtSDQtNC10LnRgdGC0LLQuNGPOlxuICog0KDQtdCw0LPQuNGA0YPQtdGCINC90LAg0YPQstC10LTQvtC80LvQtdC90LjRjyDQvtGCINCS0LjQtNCwINC+INC90L7QstGL0YUg0YHQvtCx0YvRgtC40Y/RhSDRgdCy0Y/Qt9Cw0L3QvdGL0YUg0YEg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GM0YHQutC40Lwg0LLQstC+0LTQvtC8INC4INC/0LXRgNC10LTQsNGR0YIg0LTQsNC90L3Ri9C1INCyINCc0L7QtNC10LvRjDtcbiAqINCg0LXQsNCz0LjRgNGD0LXRgiDQvdCwINGD0LLQtdC00L7QvNC70LXQvdC40Y8g0L7RgiDQnNC+0LTQtdC70Lgg0L4g0L3QvtCy0YvRhSDQuNC30LzQtdC90LXQvdC40Y/RhSDQuCDQv9C10YDQtdC00LDRkdGCINC00LDQvdC90YvQtSDQsiDQktC40LQsINC00LvRjyDQuNC30LzQtdC90LXQvdC40Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRjyDRgdC70LDQudC00LXRgNCwO1xuICog0J/RgNC10LTQvtGB0YLQsNCy0LvRj9C10YIg0LzQtdGC0L7QtNGLIEFQSSDQtNC70Y8g0LLQvdC10YjQvdC10LPQviDRg9C/0YDQsNCy0LvQtdC90LjRjyDRgdC70LDQudC00LXRgNC+0LxcbiAqL1xuY2xhc3MgUHJlc2VudGVyIHtcbiAgICBwcml2YXRlIG9ic2VydmVyOiBPYnNlcnZlcjtcbiAgICBwcml2YXRlIG1vZGVsOiBNb2RlbDtcbiAgICBwcml2YXRlIHZpZXc6IFZpZXc7XG5cblxuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzOiBJU2xpZGVyU2V0dGluZ3MsIHNsaWRlcldyYXBwZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgT2JzZXJ2ZXIoKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbCh0aGlzLm9ic2VydmVyLCBzZXR0aW5ncyk7XG4gICAgICAgIHRoaXMudmlldyA9IG5ldyBWaWV3KHRoaXMub2JzZXJ2ZXIsIHNsaWRlcldyYXBwZXIpO1xuXG4gICAgICAgIHRoaXMuYWRkT2JzZXJ2ZXJMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVOZXdTbGlkZXIoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCf0L7QtNC/0LjRgdGL0LLQsNC10YIg0L3QsNCx0LvRjtC00LDRgtC10LvRjyDQvdCwINC/0YDQvtGB0LvRg9GI0LjQstCw0L3QuNC1INGD0LLQtdC00L7QvNC70LXQvdC40Lkg0L7RgiBNb2RlbCDQuCBWaWV3XG4gICAgICovXG4gICAgcHJpdmF0ZSBhZGRPYnNlcnZlckxpc3RlbmVycygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5zdWJzY3JpYmUoJ3NsaWRlckVsZW1lbnRJc0NyZWF0ZWQnLFxuICAgICAgICAgICAgKHNsaWRlclNpemU6IElTbGlkZXJTaXplKSA9PiB7IHRoaXMubW9kZWwuc2V0U2xpZGVyU2l6ZShzbGlkZXJTaXplKSB9KTtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5zdWJzY3JpYmUoJ3RodW1iT25lSXNDcmVhdGVkJyxcbiAgICAgICAgICAgICh0aHVtYlNpemU6IElUaHVtYlNpemUpID0+IHsgdGhpcy5tb2RlbC5zZXRUaHVtYlNpemUodGh1bWJTaXplKTsgfSk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIuc3Vic2NyaWJlKCd0aHVtYk9uZUlzRHJhZ2dlZCcsXG4gICAgICAgICAgICAodGh1bWJQb3NpdGlvbjogSVRodW1iUG9zaXRpb24pID0+IHsgdGhpcy5tb2RlbC5kcmFndGh1bWJPbmUodGh1bWJQb3NpdGlvbikgfSk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIuc3Vic2NyaWJlKCd0aHVtYlR3b0lzRHJhZ2dlZCcsXG4gICAgICAgICAgICAodGh1bWJQb3NpdGlvbjogSVRodW1iUG9zaXRpb24pID0+IHsgdGhpcy5tb2RlbC5kcmFnVGh1bWJUd28odGh1bWJQb3NpdGlvbikgfSk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIuc3Vic2NyaWJlKCd0aHVtYk9uZURyYWdnZWQnLFxuICAgICAgICAgICAgKGFyZ3M6IElEcmFnVGh1bWJBcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Lm1vdmVUaHVtYk9uZShhcmdzLnRodW1iUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy50b29sdGlwT25lU2V0VmFsdWUoYXJncy50b29sdGlwVmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5tb3ZlVG9vbHRpcE9uZSh0aGlzLm1vZGVsLmdldFRvb2x0aXBQb3NpdGlvbihhcmdzLnRodW1iUG9zaXRpb24pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9ic2VydmVyLnN1YnNjcmliZSgndGh1bWJUd29EcmFnZ2VkJyxcbiAgICAgICAgICAgIChhcmdzOiBJRHJhZ1RodW1iQXJncykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5tb3ZlVGh1bWJUd28oYXJncy50aHVtYlBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcudG9vbHRpcFR3b1NldFZhbHVlKGFyZ3MudG9vbHRpcFZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcubW92ZVRvb2x0aXBUd28odGhpcy5tb2RlbC5nZXRUb29sdGlwUG9zaXRpb24oYXJncy50aHVtYlBvc2l0aW9uKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5zdWJzY3JpYmUoJ3Byb2dyZXNzQmFyRHJhZ2VkJyxcbiAgICAgICAgICAgIChwcm9ncmVzc0JhclBvc2l0aW9uOiBJUHJvZ3Jlc3NCYXJQb3NpdGlvbikgPT4geyB0aGlzLnZpZXcuc2V0UHJvZ3Jlc3NCYXJQb3NpdGlvbihwcm9ncmVzc0JhclBvc2l0aW9uKSB9KTtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5zdWJzY3JpYmUoJ3NjYWxlSXNDcmVhdGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXRTY2FsZVBvaW50U2l6ZSh0aGlzLmdldFNjYWxlUG9pbnRNYXhTaXplKCkpO1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5nZW5lcmF0ZVNjYWxlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9ic2VydmVyLnN1YnNjcmliZSgnYWRkU2NhbGVQb2ludCcsXG4gICAgICAgICAgICAocG9pbnRTZXR0aW5nczogSVNjYWxlUG9pbnRTZXR0aW5ncykgPT4geyB0aGlzLnZpZXcuYWRkU2NhbGVQb2ludChwb2ludFNldHRpbmdzKSB9KTtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5zdWJzY3JpYmUoJ2NsaWNrT25UaGVTY2FsZScsXG4gICAgICAgICAgICAoY3Vyc29yUG9zaXRpb246IElDdXJzb3JQb3NpdGlvbikgPT4geyB0aGlzLm1vZGVsLm1vdmVUaHVtYlRvQ2xpY2tQb3NpdGlvbihjdXJzb3JQb3NpdGlvbikgfSk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIuc3Vic2NyaWJlKCdjbGlja09uVGhlVHJhY2snLFxuICAgICAgICAgICAgKGN1cnNvclBvc2l0aW9uOiBJQ3Vyc29yUG9zaXRpb24pID0+IHsgdGhpcy5tb2RlbC5tb3ZlVGh1bWJUb0NsaWNrUG9zaXRpb24oY3Vyc29yUG9zaXRpb24pIH0pO1xuICAgICAgICB0aGlzLm9ic2VydmVyLnN1YnNjcmliZSgnc2NhbGVDcmVhdGVkJyxcbiAgICAgICAgICAgIChzY2FsZVNpemU6IElTY2FsZVNpemUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0U2NhbGVTaXplKHNjYWxlU2l6ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRNYXJnaW5zVG9TbGlkZXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9ic2VydmVyLnN1YnNjcmliZSgnc2xpZGVyUmVzaXplZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW1vdmVTbGlkZXIoKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTmV3U2xpZGVyKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQlNC+0LHQsNCy0LvRj9C10YIg0L7RgtGB0YLRg9C/0Ysg0Log0YHQu9Cw0LnQtNC10YDRgy4g0J7RgtGB0YLRg9C/0Ysg0L3Rg9C20L3RiyDQtNC70Y8g0YTQvtGA0LzQuNGA0L7QstCw0L3QuNGPINGA0LDQt9C80LXRgNCwINC60L7QvdGC0LXQudC90LXRgNCwINCyINGB0L7QvtGC0LLQtdGC0YHRgtCy0LjQuFxuICAgICAqINGBINCy0LvQvtC20LXQvdC90YvQvNC4INCyINC90LXQs9C+INGN0LvQtdC80LXQvdGC0LDQvNC4INGBINCw0LHRgdC+0LvRjtGC0L3Ri9C8INC/0L7Qt9C40YbQuNC+0L3QuNGA0L7QstCw0L3QuNC10LxcbiAgICAgKi9cbiAgICBwcml2YXRlIGFkZE1hcmdpbnNUb1NsaWRlcigpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldFNsaWRlck1hcmdpbnMoeydsZWZ0JzogMCwgJ3RvcCc6IDAsICdyaWdodCc6IDAsICdib3R0b20nOiAwfSk7XG4gICAgICAgIGNvbnN0IG1hcmdpbnMgPSB0aGlzLm1vZGVsLmdldFNsaWRlck1hcmdpbnModGhpcy52aWV3LmdldENvb3Jkc0Zvck1hcmdpbnMoKSk7XG4gICAgICAgIHRoaXMudmlldy5zZXRTbGlkZXJNYXJnaW5zKG1hcmdpbnMpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0KHQvtC30LTQsNGR0YIg0L3QvtCy0YvQuSDRgdC70LDQudC00LXRgCDQuNGB0YXQvtC00Y8g0LjQtyDQvdCw0YHRgtGA0L7QtdC6LCDRhdGA0LDQvdGP0YnQuNGF0YHRjyDQsiBNb2RlbFxuICAgICAqL1xuICAgIGNyZWF0ZU5ld1NsaWRlcihpc1RodW1ic1N0YXJ0UG9zaXRpb24gPSB0cnVlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uID0gdGhpcy5tb2RlbC5nZXRTbGlkZXJPcmllbnRhdGlvbigpO1xuXG4gICAgICAgIHRoaXMudmlldy5jcmVhdGVTbGlkZXIoYHNsaWRlciBzbGlkZXJfJHtvcmllbnRhdGlvbn1gKTtcbiAgICAgICAgdGhpcy52aWV3LmNyZWF0ZVRyYWNrKGBzbGlkZXJfX3RyYWNrIHNsaWRlcl9fdHJhY2tfJHtvcmllbnRhdGlvbn1gKTtcbiAgICAgICAgdGhpcy52aWV3LmNyZWF0ZVByb2dyZXNzQmFyKGBzbGlkZXJfX3Byb2dyZXNzLWJhciBzbGlkZXJfX3Byb2dyZXNzLWJhcl8ke29yaWVudGF0aW9ufWApXG4gICAgICAgIHRoaXMuY3JlYXRlVGh1bWJzKG9yaWVudGF0aW9uLCBpc1RodW1ic1N0YXJ0UG9zaXRpb24pO1xuICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXRTY2FsZVZpc2libGl0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcuY3JlYXRlU2NhbGUoYHNsaWRlcl9fc2NhbGUgc2xpZGVyX19zY2FsZV8ke29yaWVudGF0aW9ufWApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQodC+0LfQtNCw0ZHRgiDQsdC10LPRg9C90LrQuCDQuCDRg9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDQuNGFINC90LAg0L/QvtC30LjRhtC40LhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3JpZW50YXRpb24gLSDQvtGA0LjQtdC90YLQsNGG0LjRjyDRgdC70LDQudC00LXRgNCwICdob3Jpem9udGFsINC40LvQuCAndmVydGljYWwnXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc1N0YXJ0UG9zaXRpb24gLSDRhNC70LDQsyDRgNCw0YHRgdGC0LDQvdC+0LLQutC4INCx0LXQs9GD0L3QutC+0LIg0L3QsCDRgdGC0LDRgNGC0L7QstGL0LUg0L/QvtC30LjRhtC40LguINCV0YHQu9C4IHRydWUgLSDQsdC10LPRg9C90LrQuCDRg9GB0YLQsNC90LDQstC70LjQstCw0Y7RgtGB0Y8g0L3QsCDRgdGC0LDRgNGC0L7QstGL0LUg0L/QvtC30LjRhtC40LguXG4gICAgICog0JXRgdC70LggZmFsc2UgLSDQvdCwINC/0L7Qt9C40YbQuNC4INGB0L7RhdGA0LDQvdGR0L3QvdGL0LUg0LIg0JzQvtC00LXQu9C4XG4gICAgICovXG4gICAgcHJpdmF0ZSBjcmVhdGVUaHVtYnMob3JpZW50YXRpb246IHN0cmluZywgaXNTdGFydFBvc2l0aW9uID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBzbGlkZXJUeXBlOiBzdHJpbmcgPSB0aGlzLm1vZGVsLmdldFNsaWRlclR5cGUoKTtcbiAgICAgICAgY29uc3QgdG9vbHRpcHNWaXNpYmxlOiBib29sZWFuID0gdGhpcy5tb2RlbC5nZXRUb29sdGlwc1Zpc2libGl0eSgpO1xuXG4gICAgICAgIHRoaXMudmlldy5jcmVhdGVUaHVtYk9uZShgc2xpZGVyX190aHVtYiBzbGlkZXJfX3RodW1iLW9uZSBzbGlkZXJfX3RodW1iXyR7b3JpZW50YXRpb259YCk7XG4gICAgICAgIGlmICh0b29sdGlwc1Zpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5jcmVhdGVUb29sdGlwT25lKGBzbGlkZXJfX3Rvb2x0aXAgc2xpZGVyX190b29sdGlwXyR7b3JpZW50YXRpb259YCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2xpZGVyVHlwZSA9PT0gJ3JhbmdlJykge1xuICAgICAgICAgICAgdGhpcy52aWV3LmNyZWF0ZVRodW1iVHdvKGBzbGlkZXJfX3RodW1iIHNsaWRlcl9fdGh1bWItdHdvIHNsaWRlcl9fdGh1bWJfJHtvcmllbnRhdGlvbn1gKTtcbiAgICAgICAgICAgIGlmICh0b29sdGlwc1Zpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuY3JlYXRlVG9vbHRpcFR3byhgc2xpZGVyX190b29sdGlwIHNsaWRlcl9fdG9vbHRpcF8ke29yaWVudGF0aW9ufWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RhcnRQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0VGh1bWJUd29Ub1N0YXJ0aW5nUG9zaXRpb24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5kcmFnVGh1bWJUd28odGhpcy5tb2RlbC5nZXRUaHVtYlR3b1Bvc2l0aW9uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzU3RhcnRQb3NpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXRUaHVtYk9uZVRvU3RhcnRpbmdQb3NpdGlvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5kcmFndGh1bWJPbmUodGhpcy5tb2RlbC5nZXRUaHVtYk9uZVBvc2l0aW9uKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDRgNCw0LfQvNC10YAg0L/QvtGB0LvQtdC00L3QtdC5INGC0L7Rh9C60Lgg0YjQutCw0LvRiywg0LrQvtGC0L7RgNGL0Lkg0Y/QstC70Y/QtdGC0YHRjyDQvNCw0LrRgdC40LzQsNC70YzQvdGL0LwuXG4gICAgICog0JzQsNC60YHQuNC80LDQu9GM0L3Ri9C5INGA0LDQt9C80LXRgCDRgtC+0YfQutC4INGI0LrQsNC70Ysg0L3QtdC+0LHRhdC+0LTQuNC8INC00LvRjyDRgtC+0LPQviwg0YfRgtC+0LHRiyDQstGB0LUg0YLQvtGH0LrQuCDQsdGL0LvQuCDQvtC00LjQvdCw0LrQvtCy0YvQvNC4INC4INC00LvRjyDQuNC30LHQtdC20LDQvdC40Y8g0LjRhSDQvdCw0LvQvtC20LXQvdC40Y9cbiAgICAgKiDQtNGA0YPQsyDQvdCwINC00YDRg9Cz0LAg0LLQviDQstGA0LXQvNGPINGE0L7RgNC80LjRgNC+0LLQsNC90LjRjyDRiNC60LDQu9GLXG4gICAgICogXG4gICAgICogQHJldHVybnMge0lTY2FsZVBvaW50U2l6ZX0gLSDQvtCx0YrQtdC60YIg0YEg0LzQsNC60YHQuNC80LDQu9GM0L3QvtC5INGI0LjRgNC40L3QvtC5INC4INCy0YvRgdC+0YLQvtC5INGC0L7Rh9C60Lgg0YjQutCw0LvRi1xuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0U2NhbGVQb2ludE1heFNpemUoKTogSVNjYWxlUG9pbnRTaXplIHtcbiAgICAgICAgY29uc3Qgc2xpZGVyTWF4VmFsdWU6IG51bWJlciA9IHRoaXMubW9kZWwuZ2V0TWF4KCk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0U2NhbGVQb2ludE1heFNpemUoc2xpZGVyTWF4VmFsdWUpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0YTQu9Cw0LMg0LLQuNC00LjQvNC+0YHRgtC4INGI0LrQsNC70YtcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSDRhNC70LDQsyDQstC40LTQuNC80L7RgdGC0Lgg0YjQutCw0LvRiy4gdHJ1ZSAtINGI0LrQsNC70LAg0LLQuNC00L3QsCwgZmFsc2UgLSDQvdC10YJcbiAgICAgKi9cbiAgICBnZXRTY2FsZVZpc2libGl0eSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuZ2V0U2NhbGVWaXNpYmxpdHkoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGE0LvQsNCzINCy0LjQtNC40LzQvtGB0YLQuCDQsdC10LPRg9C90LrQvtCyXG4gICAgICogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0g0YTQu9Cw0LMg0LLQuNC00LjQvNC+0YHRgtC4INC30L3QsNGH0LXQvdC40Lkg0LHQtdCz0YPQvdC60L7Qsi4gdHJ1ZSAtINC30L3QsNGH0LXQvdC40LUg0L7RgtC+0LHRgNCw0LbQsNC10YLRgdGPLCBmYWxzZSAtINC90LXRglxuICAgICAqL1xuICAgIGdldFRvb2x0aXBzVmlzaWJsaXR5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5nZXRUb29sdGlwc1Zpc2libGl0eSgpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0YLQuNC/INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtINGC0LjQvyDRgdC70LDQudC00LXRgNCwIHNpbmdsZSDQuNC70LggcmFuZ2VcbiAgICAgKi9cbiAgICBnZXRTbGlkZXJUeXBlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmdldFNsaWRlclR5cGUoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0YDQuNC10L3RgtCw0YbQuNGOINGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtINC+0YDQuNC10L3RgtCw0YbQuNGPINGB0LvQsNC50LTQtdGA0LAgaG9yaXpvbnRhbCDQuNC70LggdmVydGljYWxcbiAgICAgKi9cbiAgICBnZXRTbGlkZXJPcmllbnRhdGlvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5nZXRTbGlkZXJPcmllbnRhdGlvbigpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YbQsNC10YIg0LzQuNC90LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtINC80LjQvdC40LzQsNC70YzQvdC+0LUg0LfQvdCw0YfQtdC90LjQtSDRgdC70LDQudC00LXRgNCwXG4gICAgICovXG4gICAgZ2V0U2xpZGVyTWluVmFsdWUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuZ2V0TWluKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRhtCw0LXRgiDQvNCw0LrRgdC40LzQsNC70YzQvdC+0LUg0LfQvdCw0YfQtdC90LjQtSDRgdC70LDQudC00LXRgNCwXG4gICAgICogXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSDQvNCw0LrRgdC40LzQsNC70YzQvdC+0LUg0LfQvdCw0YfQtdC90LjQtSDRgdC70LDQudC00LXRgNCwXG4gICAgICovXG4gICAgZ2V0U2xpZGVyTWF4VmFsdWUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuZ2V0TWF4KCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQmNC30LzQtdC90Y/QtdGCINC+0YDQuNC10L3RgtCw0YbQuNGOINGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gb3JpZW5hdGlvbiAtINC+0YDQuNC10L3RgtCw0YbQuNGPINGB0LvQsNC50LTQtdGA0LAgaG9yaXpvbnRhbCDQuNC70LggdmVydGljYWxcbiAgICAgKi9cbiAgICBjaGFuZ2VTbGlkZXJPcmllbnRhdGlvbihvcmllbmF0aW9uOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKG9yaWVuYXRpb24gIT09IHRoaXMubW9kZWwuZ2V0U2xpZGVyT3JpZW50YXRpb24oKSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXRTbGlkZXJPcmllbnRhdGlvbihvcmllbmF0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHRodW1iT25lUG9zaXRpb24gPSB0aGlzLm1vZGVsLmdldFRodW1iT25lUG9zaXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IHRodW1iVHdvUG9zaXRpb24gPSB0aGlzLm1vZGVsLmdldFRodW1iVHdvUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0VGh1bWJPbmVQb3NpdGlvbih7ICdsZWZ0JzogdGh1bWJPbmVQb3NpdGlvbi50b3AsICd0b3AnOiB0aHVtYk9uZVBvc2l0aW9uLmxlZnQgfSk7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldFRodW1iVHdvUG9zaXRpb24oeyAnbGVmdCc6IHRodW1iVHdvUG9zaXRpb24udG9wLCAndG9wJzogdGh1bWJUd29Qb3NpdGlvbi5sZWZ0IH0pO1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlbW92ZVNsaWRlcigpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVOZXdTbGlkZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JjQt9C80LXQvdGP0LXRgiDRgtC40L8g0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0g0YLQuNC/INGB0LvQsNC50LTQtdGA0LAgc2luZ2xlINC40LvQuCByYW5nZVxuICAgICAqL1xuICAgIGNoYW5nZVNsaWRlclR5cGUodHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMudmlldy5yZW1vdmVUaHVtYk9uZSgpO1xuICAgICAgICB0aGlzLnZpZXcucmVtb3ZlVGh1bWJUd28oKTtcbiAgICAgICAgdGhpcy5tb2RlbC5zZXRTbGlkZXJUeXBlKHR5cGUpO1xuICAgICAgICB0aGlzLmNyZWF0ZVRodW1icyh0aGlzLm1vZGVsLmdldFNsaWRlck9yaWVudGF0aW9uKCksIGZhbHNlKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCY0LfQvNC10L3Rj9C10YIg0LzQuNC90LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmV3TWluIC0g0LzQuNC90LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1IFxuICAgICAqL1xuICAgIGNoYW5nZU1pblZhbHVlKG5ld01pbjogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHZhbHVlSXNTZXQ6IGJvb2xlYW4gPSB0aGlzLm1vZGVsLnNldE1pbihuZXdNaW4pO1xuXG4gICAgICAgIGlmICh2YWx1ZUlzU2V0KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVtb3ZlU2xpZGVyKCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZU5ld1NsaWRlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQmNC30LzQtdC90Y/QtdGCINC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmV3TWluIC0g0LzQsNC60YHQuNC80LDQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LUgXG4gICAgICovXG4gICAgY2hhbmdlTWF4VmFsdWUobmV3TWF4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdmFsdWVJc1NldDogYm9vbGVhbiA9IHRoaXMubW9kZWwuc2V0TWF4KG5ld01heCk7XG5cbiAgICAgICAgaWYgKHZhbHVlSXNTZXQpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW1vdmVTbGlkZXIoKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTmV3U2xpZGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGI0LDQsywg0YEg0LrQvtGC0L7RgNGL0Lwg0L/QtdGA0LXQvNC10YnQsNC10YLRgdGPINCx0LXQs9GD0L3QvtC6XG4gICAgICogXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSDQstC10LvQuNGH0LjQvdCwINGI0LDQs9CwINC/0LXRgNC10LzQtdGJ0LXQvdC40Y8g0LHQtdCz0YPQvdC60LBcbiAgICAgKi9cbiAgICBnZXRTbGlkZXJTdGVwKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmdldFN0ZXAoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCY0LfQvNC10L3Rj9C10YIg0LLQtdC70LjRh9C40L3RgyDRiNCw0LPQsCDQsdC10LPRg9C90LrQsFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuZXdTdGVwIC0g0LLQtdC70LjRh9C40L3QsCDRgSDQutC+0YLQvtGA0L7QuSDQv9C10YDQtdC80LXRidCw0LXRgtGB0Y8g0LHQtdCz0YPQvdC+0LogXG4gICAgICovXG4gICAgY2hhbmdlU3RlcChuZXdTdGVwOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdmFsdWVJc1NldDogYm9vbGVhbiA9IHRoaXMubW9kZWwuc2V0U3RlcChuZXdTdGVwKTtcblxuICAgICAgICBpZiAodmFsdWVJc1NldCkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlbW92ZVNsaWRlcigpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVOZXdTbGlkZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JjQt9C80LXQvdGP0LXRgiDRhNC70LDQsyDQstC40LTQuNC80L7RgdGC0Lgg0YjQutCw0LvRi1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2NhbGVWaXNpYmxlIC0g0YTQu9Cw0LMg0LLQuNC00LjQvNC+0YHRgtC4INGI0LrQsNC70YsuIHRydWUgLSDRiNC60LDQu9CwINCy0LjQtNC90LAsIGZhbHNlIC0g0L3QtdGCXG4gICAgICovXG4gICAgY2hhbmdlU2NhbGVWaXNpYmlsaXR5KHNjYWxlVmlzaWJsZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLm1vZGVsLnNldFNjYWxlVmlzaWJpbGl0eShzY2FsZVZpc2libGUpO1xuXG4gICAgICAgIGlmIChzY2FsZVZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5jcmVhdGVTY2FsZShgc2xpZGVyX19zY2FsZSBzbGlkZXJfX3NjYWxlXyR7dGhpcy5tb2RlbC5nZXRTbGlkZXJPcmllbnRhdGlvbigpfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlbW92ZVNjYWxlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZE1hcmdpbnNUb1NsaWRlcigpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JjQt9C80LXQvdGP0LXRgiDRhNC70LDQsyDQstC40LTQuNC80L7RgdGC0Lgg0LfQvdCw0YfQtdC90LjQuSDQsdC10LPRg9C90LrQvtCyXG4gICAgICogXG4gICAgICogQHBhcmFtIHtib29sZWFufSB0b29sdGlwc1Zpc2libGUgLSDRhNC70LDQsyDQstC40LTQuNC80L7RgdGC0Lgg0LfQvdCw0YfQtdC90LjQuSDQsdC10LPRg9C90LrQvtCyLiB0cnVlIC0g0LfQvdCw0YfQtdC90LjQtSDQvtGC0L7QsdGA0LDQttCw0LXRgtGB0Y8sIGZhbHNlIC0g0L3QtdGCXG4gICAgICovXG4gICAgY2hhbmdlVG9vbHRpcHNWaXNpYmlsaXR5KHRvb2x0aXBzVmlzaWJsZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLm1vZGVsLnNldFRvb2x0aXBzVmlzaWJsZSh0b29sdGlwc1Zpc2libGUpO1xuXG4gICAgICAgIGlmICh0b29sdGlwc1Zpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW1vdmVUaHVtYk9uZSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlbW92ZVRodW1iVHdvKCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRodW1icyh0aGlzLm1vZGVsLmdldFNsaWRlck9yaWVudGF0aW9uKCksIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW1vdmVUb29sdGlwT25lKCk7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVtb3ZlVG9vbHRpcFR3bygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRNYXJnaW5zVG9TbGlkZXIoKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJlc2VudGVyOyIsImltcG9ydCB7IElPYnNlcnZhYmxlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBJT2JzZXJ2ZXJGdW5jIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5cblxuLyoqXG4gKiDQodC+0LfQtNCw0ZHRgiDQvNC10YXQsNC90LjQt9C8INC/0L7QtNC/0LjRgdC60LgsINC/0L7Qt9Cy0L7Qu9GP0Y7RidC40Lkg0L7QtNC90LjQvCDQvtCx0YrQtdC60YLQsNC8INGB0LvQtdC00LjRgtGMINC4INGA0LXQsNCz0LjRgNC+0LLQsNGC0Ywg0L3QsCDRgdC+0LHRi9GC0LjRjywg0L/RgNC+0LjRgdGF0L7QtNGP0YnQuNC1INCyINC00YDRg9Cz0LjRhSDQvtCx0YrQtdC60YLQsNGFXG4gKi9cbmNsYXNzIE9ic2VydmFibGUge1xuXG4gICAgLy8g0L7QsdGK0LXQutGCINGF0YDQsNC90Y/RidC40Lkg0YPQstC10LTQvtC80LvQtdC90LjRjyDQsiDQstC40LTQtSDQutC70Y7Rh9C10Lkg0Lgg0YHQstGP0LfQsNC90L3Ri9C1INGBINC90LjQvNC4INGE0YPQvdC60YbQuNC4INCyINCy0LjQtNC1INC30L3QsNGH0LXQvdC40LlcbiAgICBwcml2YXRlIG9ic2VydmFibGVzOiBJT2JzZXJ2YWJsZTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm9ic2VydmFibGVzID0ge307XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQn9C+0LTQv9C40YHRi9Cy0LXRgiDQvdCw0LHQu9GO0LTQsNGC0LXQu9GPINC90LAg0LLRi9C/0L7Qu9C90LXQvdC40LUg0YTRg9C90LrRhtC40LggZnVuYyDQv9GA0Lgg0L/QvtC70YPRh9C10L3QuNC4INGD0LLQtdC00L7QvNC70LXQvdC40Y8gbm90aWZpY2F0aW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5vdGlmaWNhdGlvbiAtINGD0LLQtdC00L7QvNC70LXQvdC40LUg0L/RgNC4INC/0L7Qu9GD0YfQtdC90LjQuCDQutC+0YLQvtGA0L7Qs9C+INCy0YvQt9GL0LLQsNC10YLRgdGPINGE0YPQvdC60YbQuNGPIGZ1bmNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0g0YTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDQsNGPINCy0YvQt9GL0LLQsNC10YLRgdGPINC/0L7RgdC70LUg0L/QvtC70YPRh9C10L3QuNGPINC90LDQsdC70Y7QtNCw0YLQtdC70LXQvCDRg9Cy0LXQtNC+0LzQu9C10L3QuNGPIG5vdGlmaWNhdGlvblxuICAgICAqL1xuICAgIHN1YnNjcmliZTxUPihub3RpZmljYXRpb246IHN0cmluZywgZnVuYzogSU9ic2VydmVyRnVuYzxUPik6IHZvaWQge1xuICAgICAgICB0aGlzLm9ic2VydmFibGVzW25vdGlmaWNhdGlvbl0gPSB0aGlzLm9ic2VydmFibGVzW25vdGlmaWNhdGlvbl0gfHwgW107XG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZXNbbm90aWZpY2F0aW9uXS5wdXNoKGZ1bmMpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0J7RgtC/0LjRgdGL0LLQsNC10YIg0L3QsNCx0LvRjtC00LDRgtC10LvRjyDQvtGCINCy0YvQv9C+0LvQvdC10L3QuNGPINGE0YPQvdC60YbQuNC4IGZ1bmMg0L/RgNC4INC/0L7Qu9GD0YfQtdC90LjQuCDRg9Cy0LXQtNC+0LzQu9C10L3QuNGPIG5vdGlmaWNhdGlvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBub3RpZmljYXRpb24gLSDRg9Cy0LXQtNC+0LzQu9C10L3QuNC1INC40Lcg0LrQvtGC0L7RgNC+0LPQviDQvdGD0LbQvdC+INGD0LTQsNC70LjRgtGMINC+0LHRgNCw0LHQvtGC0YfQuNC6IGZ1bmNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0g0YTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDRg9GOINC90LXQvtCx0YXQvtC00LjQvNC+INGD0LTQsNC70LjRgtGMINC40Lcg0YPQstC10LTQvtC80LvQtdC90LjRjyBub3RpZmljYXRpb25cbiAgICAgKi9cbiAgICB1bnN1YnNjcmliZTxUPihub3RpZmljYXRpb246IHN0cmluZywgZnVuYzogSU9ic2VydmVyRnVuYzxUPik6IHZvaWQge1xuICAgICAgICB0aGlzLm9ic2VydmFibGVzW25vdGlmaWNhdGlvbl0gPSB0aGlzLm9ic2VydmFibGVzW25vdGlmaWNhdGlvbl0uZmlsdGVyKHN1YnNjcmliZXJmdW5jID0+IHN1YnNjcmliZXJmdW5jICE9PSBmdW5jKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCe0YLQv9GA0LDQstC70Y/QtdGCINC90LDQsdC70Y7QtNCw0YLQtdC70Y4g0YPQstC10LTQvtC80LvQtdC90LjQtSBub3RpZmljYXRpb24sINC/0YDQuCDQv9C+0LvRg9GH0LXQvdC40Lgg0LrQvtGC0L7RgNC+0LPQviDQsdGD0LTQtdGCINC30LDQv9GD0YnQtdC90LAg0L/RgNC40LLRj9C30LDQvdC90LDRjyDQuiDQvdC10LzRg1xuICAgICAqINGE0YPQvdC60YbQuNGPINGBINCw0YDQs9GD0LzQtdC90YLQvtC8IGRhdGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbm90aWZpY2F0aW9uIC0g0YPQstC10LTQvtC80LvQtdC90LjQtSDQvdCwINC60L7RgtC+0YDQvtC1INC00L7Qu9C20LXQvSDRgdGA0LXQsNCz0LjRgNC+0LLQsNGC0Ywg0L3QsNCx0LvRjtC00LDRgtC10LvRjFxuICAgICAqIEBwYXJhbSB7YW55fSBkYXRhIC0g0LDRgNCz0YPQvNC10L3Rgiwg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDQv9C10YDQtdC00LDQvSDQsiDRhNGD0L3QutGG0LjRjiwg0LLRi9C30YvQstCw0LXQvNGD0Y4g0L/QvtGB0LvQtSDQv9C+0LvRg9GH0LXQvdC40Y9cbiAgICAgKiDQvdCw0LHQu9GO0LTQsNGC0LXQu9C10Lwg0YPQstC10LTQvtC80LvQtdC90LjRjyBub3RpZmljYXRpb25cbiAgICAgKi9cbiAgICBub3RpZnk8VD4obm90aWZpY2F0aW9uOiBzdHJpbmcsIGRhdGE6IFQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2YWJsZXNbbm90aWZpY2F0aW9uXSkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmxlc1tub3RpZmljYXRpb25dLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyOiBJT2JzZXJ2ZXJGdW5jPFQ+KSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIoZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBPYnNlcnZhYmxlOyIsImltcG9ydCB7IElDb29yZHNGb3JNYXJnaW5zLCBJU2xpZGVyTWFyZ2lucywgSVNsaWRlclNldHRpbmdzLCBJVG9vbHRpcFBvc2l0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBJU2xpZGVyU2l6ZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSVRodW1iU2l6ZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSVRodW1iUG9zaXRpb24gfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IElTY2FsZVBvaW50U2l6ZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSUN1cnNvclBvc2l0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5cbmltcG9ydCBPYnNlcnZlciBmcm9tICcuLi9vYnNlcnZlci9vYnNlcnZlcic7XG5pbXBvcnQgTW9kZWxDYWxjdWxhdG9yIGZyb20gJy4vbW9kZWxDYWxjdWxhdG9yJztcbmltcG9ydCBNb2RlbERhdGEgZnJvbSAnLi9tb2RlbERhdGEnO1xuXG5cbi8qKlxuICog0JrQu9Cw0YHRgSDQvtGC0LLQtdGH0LDRjtGJ0LjQuSDQt9CwINCx0LjQt9C90LXRgSDQu9C+0LPQuNC60YMg0YHQu9Cw0LnQtNC10YDQsC4g0KDQsNC30LTQtdC70ZHQvSDQvdCwIDIg0L/QvtC00LrQu9Cw0YHRgdCwOlxuICogLSBNb2RlbERhdGEgLSDRhdGA0LDQvdC40YIg0LIg0YHQtdCx0LUg0LTQsNC90L3Ri9C1INC4INC90LDRgdGC0YDQvtC50LrQuCDRgdC70LDQudC00LXRgNCwLCDQvdC+INC90LUg0YHQvtC00LXRgNC40YIg0LrQsNC60LjRhS3Qu9C40LHQviDRgNCw0YHRh9GR0YLQvtCyO1xuICogLSBNb2RlbENhbGN1bGF0b3IgLSDRgdC+0LTQtdGA0LbQuNGCINC70L7Qs9C40LrRgyDRgNCw0YHRh9GR0YLQsCDQtNCw0L3QvdGL0YUsINC+0YLQstC10YfQsNGO0YnQuNGFINC30LAg0YDQsNC30LvQuNGH0L3Ri9C1INCw0YHQv9C10LrRgtGLINGA0LDQsdC+0YLRiyDRgdC70LDQudC00LXRgNCwLFxuICog0L3QsNC/0YDQuNC80LXRgCDQstGL0YfQuNGB0LvQtdC90LjQtSDQv9C+0LvQvtC20LXQvdC40Lkg0LHQtdCz0YPQvdC60L7QsiDQuNC70Lgg0YDQsNC30LzQtdGA0LAg0L/RgNC+0LPRgNC10YHRgSDQsdCw0YDQsFxuICovXG5jbGFzcyBNb2RlbCB7XG5cbiAgICBwcml2YXRlIG9ic2VydmVyOiBPYnNlcnZlcjtcbiAgICBwcml2YXRlIGRhdGE6IE1vZGVsRGF0YTtcbiAgICBwcml2YXRlIGNhbGN1bGF0b3I6IE1vZGVsQ2FsY3VsYXRvclxuXG4gICAgY29uc3RydWN0b3Iob2JzZXJ2ZXI6IE9ic2VydmVyLCBzZXR0aW5nczogSVNsaWRlclNldHRpbmdzKSB7XG5cbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgTW9kZWxEYXRhKHNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdG9yID0gbmV3IE1vZGVsQ2FsY3VsYXRvcih0aGlzLm9ic2VydmVyLCB0aGlzLmRhdGEpO1xuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDRgNCw0LfQvNC10YAg0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SVNsaWRlclNpemV9IHNsaWRlclNpemUgLSDQvtCx0YrQtdC60YIg0YEg0YjQuNGA0LjQvdC+0Lkg0Lgg0LLRi9GB0L7RgtC+0Lkg0YHQu9Cw0LnQtNC10YDQsCBcbiAgICAgKi9cbiAgICBzZXRTbGlkZXJTaXplKHNsaWRlclNpemU6IElTbGlkZXJTaXplKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGF0YS5zZXRTbGlkZXJTaXplKHNsaWRlclNpemUpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0KPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0YDQsNC30LzQtdGAINCx0LXQs9GD0L3QutCwXG4gICAgICogXG4gICAgICogQHBhcmFtIHRodW1iU2l6ZSAtINC+0LHRitC10LrRgiDRgSDRiNC40YDQuNC90L7QuSDQuCDQstGL0YHQvtGC0L7QuSDQsdC10LPRg9C90LrQsFxuICAgICAqL1xuICAgIHNldFRodW1iU2l6ZSh0aHVtYlNpemU6IElUaHVtYlNpemUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kYXRhLnNldFRodW1iU2l6ZSh0aHVtYlNpemUpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0L7RgNC40LXQvdGC0LDRhtC40Y4g0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0g0L7RgNC40LXQvdGC0LDRhtC40Y8g0YHQu9Cw0LnQtNC10YDQsCBob3Jpem9udGFsINC40LvQuCB2ZXJ0aWNhbFxuICAgICAqL1xuICAgIGdldFNsaWRlck9yaWVudGF0aW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0T3JpZW50YXRpb24oKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINC+0YDQuNC10L3RgtCw0YbQuNGOINGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3JpZW5hdGlvbiAtINC+0YDQuNC10L3RgtCw0YbQuNGPINGB0LvQsNC50LTQtdGA0LAgaG9yaXpvbnRhbCDQuNC70LggdmVydGljYWxcbiAgICAgKi9cbiAgICBzZXRTbGlkZXJPcmllbnRhdGlvbihvcmllbmF0aW9uOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kYXRhLnNldE9yaWVudGF0aW9uKG9yaWVuYXRpb24pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0YLQuNC/INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtINGC0LjQvyDRgdC70LDQudC00LXRgNCwIHNpbmdsZSDQuNC70LggcmFuZ2VcbiAgICAgKi9cbiAgICBnZXRTbGlkZXJUeXBlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0U2xpZGVyVHlwZSgpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0KPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0YLQuNC/INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2xpZGVyVHlwZSAtINGC0LjQvyDRgdC70LDQudC00LXRgNCwIHNpbmdsZSDQuNC70LggcmFuZ2VcbiAgICAgKi9cbiAgICBzZXRTbGlkZXJUeXBlKHNsaWRlclR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmRhdGEuc2V0U2xpZGVyVHlwZShzbGlkZXJUeXBlKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINGE0LvQsNCzINCy0LjQtNC40LzQvtGB0YLQuCDQt9C90LDRh9C10L3QuNC5INCx0LXQs9GD0L3QutC+0LJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRvb2x0aXBzVmlzaWJsZSAtINGE0LvQsNCzINCy0LjQtNC40LzQvtGB0YLQuCDQt9C90LDRh9C10L3QuNC5INCx0LXQs9GD0L3QutC+0LIuIHRydWUgLSDQt9C90LDRh9C10L3QuNC1INC+0YLQvtCx0YDQsNC20LDQtdGC0YHRjywgZmFsc2UgLSDQvdC10YJcbiAgICAgKi9cbiAgICBzZXRUb29sdGlwc1Zpc2libGUodG9vbHRpcHNWaXNpYmxlOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGF0YS5zZXRUb29sdGlwc1Zpc2libGUodG9vbHRpcHNWaXNpYmxlKVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0YTQu9Cw0LMg0LLQuNC00LjQvNC+0YHRgtC4INCx0LXQs9GD0L3QutC+0LJcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSDRhNC70LDQsyDQstC40LTQuNC80L7RgdGC0Lgg0LfQvdCw0YfQtdC90LjQuSDQsdC10LPRg9C90LrQvtCyLiB0cnVlIC0g0LfQvdCw0YfQtdC90LjQtSDQvtGC0L7QsdGA0LDQttCw0LXRgtGB0Y8sIGZhbHNlIC0g0L3QtdGCXG4gICAgICovXG4gICAgZ2V0VG9vbHRpcHNWaXNpYmxpdHkoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0VG9vbHRpcHNWaXNpYmxlKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDRgNCw0LfQvNC10YAg0YLQvtGH0LrQuCDRiNC60LDQu9GLXG4gICAgICogXG4gICAgICogQHBhcmFtIHtJU2NhbGVQb2ludFNpemV9IHNjYWxlUG9pbnRTaXplIC0g0L7QsdGK0LXQutGCINGBINGI0LjRgNC40L3QvtC5INC4INCy0YvRgdC+0YLQvtC5INGC0L7Rh9C60Lgg0YjQutCw0LvRi1xuICAgICAqL1xuICAgIHNldFNjYWxlUG9pbnRTaXplKHNjYWxlUG9pbnRTaXplOiBJU2NhbGVQb2ludFNpemUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kYXRhLnNldFNjYWxlUG9pbnRTaXplKHNjYWxlUG9pbnRTaXplKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGG0LDQtdGCINC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtINC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKi9cbiAgICBnZXRNYXgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXRNYXgoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCh0L7Qt9C00LDRkdGCINC90L7QstGD0Y4g0YjQutCw0LvRgyDQuCDQs9C10L3QtdGA0LjRgNGD0LXRgiDQtdGRINGC0L7Rh9C60Lgg0YHQviDQt9C90LDRh9C10L3QuNGP0LzQuFxuICAgICAqL1xuICAgIGdlbmVyYXRlU2NhbGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRvci5nZW5lcmF0ZVNjYWxlKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQn9C10YDQtdC00LLQuNCz0LDQtdGCINC/0LXRgNCy0YvQuSDQsdC10LPRg9C90L7QuiDQvdCwINC90L7QstGD0Y4g0L/QvtC30LjRhtC40Y5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lUaHVtYlBvc2l0aW9ufSB0aHVtYlBvc2l0aW9uIC0g0L7QsdGK0LXQutGCINGBINGA0LDRgdGB0YLQvtGP0L3QuNGP0LzQuCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC4INCy0LXRgNGF0L3QtdCz0L4g0LrRgNCw0Y8g0YDQvtC00LjRgtC10LvRjNGB0L7Qs9C+INC60L7QvdGC0LXQudC90LXRgNCwXG4gICAgICovXG4gICAgZHJhZ3RodW1iT25lKHRodW1iUG9zaXRpb246IElUaHVtYlBvc2l0aW9uKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRvci5kcmFnVGh1bWJPbmUodGh1bWJQb3NpdGlvbik7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQn9C10YDQtdC00LLQuNCz0LDQtdGCINCy0YLQvtGA0L7QuSDQsdC10LPRg9C90L7QuiDQvdCwINC90L7QstGD0Y4g0L/QvtC30LjRhtC40Y5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lUaHVtYlBvc2l0aW9ufSB0aHVtYlBvc2l0aW9uIC0g0L7QsdGK0LXQutGCINGBINGA0LDRgdGB0YLQvtGP0L3QuNGP0LzQuCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC4INCy0LXRgNGF0L3QtdCz0L4g0LrRgNCw0Y8g0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LBcbiAgICAgKi9cbiAgICBkcmFnVGh1bWJUd28odGh1bWJQb3NpdGlvbjogSVRodW1iUG9zaXRpb24pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdG9yLmRyYWdUaHVtYlR3byh0aHVtYlBvc2l0aW9uKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCf0LXRgNC10LTQstC40LPQsNC10YIg0L/QtdGA0LLRi9C5INCx0LXQs9GD0L3QvtC6INC90LAg0YHRgtCw0YDRgtC+0LLRg9GOINC/0L7Qt9C40YbQuNGOXG4gICAgICovXG4gICAgc2V0VGh1bWJPbmVUb1N0YXJ0aW5nUG9zaXRpb24oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRvci5zZXRUaHVtYk9uZVRvU3RhcnRpbmdQb3NpdGlvbigpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0J/QtdGA0LXQtNCy0LjQs9Cw0LXRgiDQstGC0L7RgNC+0Lkg0LHQtdCz0YPQvdC+0Log0L3QsCDRgdGC0LDRgNGC0L7QstGD0Y4g0L/QvtC30LjRhtC40Y5cbiAgICAgKi9cbiAgICBzZXRUaHVtYlR3b1RvU3RhcnRpbmdQb3NpdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdG9yLnNldFRodW1iVHdvVG9TdGFydGluZ1Bvc2l0aW9uKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDQvNC40L3QuNC80LDQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LUg0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuZXdNaW4gLSDQvNC40L3QuNC80LDQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LUg0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqL1xuICAgIHNldE1pbihuZXdNaW46IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNldE1pbihuZXdNaW4pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YbQsNC10YIg0LzQuNC90LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtINC80LjQvdC40LzQsNC70YzQvdC+0LUg0LfQvdCw0YfQtdC90LjQtSDRgdC70LDQudC00LXRgNCwXG4gICAgICovXG4gICAgZ2V0TWluKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0TWluKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDQvNCw0LrRgdC40LzQsNC70YzQvdC+0LUg0LfQvdCw0YfQtdC90LjQtSDRgdC70LDQudC00LXRgNCwXG4gICAgICogXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5ld01heCAtINC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKi9cbiAgICBzZXRNYXgobmV3TWF4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zZXRNYXgobmV3TWF4KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINGI0LDQsywg0YEg0LrQvtGC0L7RgNGL0Lwg0L/QtdGA0LXQvNC10YnQsNC10YLRgdGPINCx0LXQs9GD0L3QvtC6XG4gICAgICogXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5ld1N0ZXAgLSDQstC10LvQuNGH0LjQvdCwINGI0LDQs9CwINC/0LXRgNC10LzQtdGJ0LXQvdC40Y8g0LHQtdCz0YPQvdC60LBcbiAgICAgKi9cbiAgICBzZXRTdGVwKG5ld1N0ZXA6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNldFN0ZXAobmV3U3RlcCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDRiNCw0LMsINGBINC60L7RgtC+0YDRi9C8INC/0LXRgNC10LzQtdGJ0LDQtdGC0YHRjyDQsdC10LPRg9C90L7QulxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0g0LLQtdC70LjRh9C40L3QsCDRiNCw0LPQsCDQv9C10YDQtdC80LXRidC10L3QuNGPINCx0LXQs9GD0L3QutCwXG4gICAgICovXG4gICAgZ2V0U3RlcCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmdldFN0ZXAoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINGE0LvQsNCzINCy0LjQtNC40LzQvtGB0YLQuCDRiNC60LDQu9GLXG4gICAgICogXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzY2FsZVZpc2libGUgLSDRhNC70LDQsyDQstC40LTQuNC80L7RgdGC0Lgg0YjQutCw0LvRiy4gdHJ1ZSAtINGI0LrQsNC70LAg0LLQuNC00L3QsCwgZmFsc2UgLSDQvdC10YJcbiAgICAgKi9cbiAgICBzZXRTY2FsZVZpc2liaWxpdHkoc2NhbGVWaXNpYmxlOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGF0YS5zZXRTY2FsZVZpc2libGUoc2NhbGVWaXNpYmxlKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGE0LvQsNCzINCy0LjQtNC40LzQvtGB0YLQuCDRiNC60LDQu9GLXG4gICAgICogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0g0YTQu9Cw0LMg0LLQuNC00LjQvNC+0YHRgtC4INGI0LrQsNC70YsuIHRydWUgLSDRiNC60LDQu9CwINCy0LjQtNC90LAsIGZhbHNlIC0g0L3QtdGCXG4gICAgICovXG4gICAgZ2V0U2NhbGVWaXNpYmxpdHkoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0U2NhbGVWaXNpYmxlKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQv9C+0LfQuNGG0LjRjiDQv9C10YDQstC+0LPQviDQsdC10LPRg9C90LrQsFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtJVGh1bWJQb3NpdGlvbn0gLSDQvtCx0YrQtdC60YIg0YEg0YDQsNGB0YHRgtC+0Y/QvdC40Y/QvNC4INC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QviDQu9C10LLQvtCz0L4g0Lgg0LLQtdGA0YXQvdC10LPQviDQutGA0LDRjyDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LPQviDQutC+0L3RgtC10LnQvdC10YDQsFxuICAgICAqL1xuICAgIGdldFRodW1iT25lUG9zaXRpb24oKTogSVRodW1iUG9zaXRpb24ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmdldFRodW1iT25lUG9zaXRpb24oKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINC/0L7Qt9C40YbQuNGOINC/0LXRgNCy0L7Qs9C+INCx0LXQs9GD0L3QutCwXG4gICAgICogXG4gICAgICogQHBhcmFtIHtJVGh1bWJQb3NpdGlvbn0gdGh1bWJQb3NpdGlvbiAtINC+0LHRitC10LrRgiDRgSDRgNCw0YHRgdGC0L7Rj9C90LjRj9C80Lgg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INC70LXQstC+0LPQviDQuCDQstC10YDRhdC90LXQs9C+INC60YDQsNGPINGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC60L7QvdGC0LXQudC90LXRgNCwIFxuICAgICAqL1xuICAgIHNldFRodW1iT25lUG9zaXRpb24odGh1bWJQb3NpdGlvbjogSVRodW1iUG9zaXRpb24pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kYXRhLnNldFRodW1iT25lUG9zaXRpb24odGh1bWJQb3NpdGlvbik7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQv9C+0LfQuNGG0LjRjiDQstGC0L7RgNCz0L4g0LHQtdCz0YPQvdC60LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lUaHVtYlBvc2l0aW9ufSB0aHVtYlBvc2l0aW9uIC0g0L7QsdGK0LXQutGCINGBINGA0LDRgdGB0YLQvtGP0L3QuNGP0LzQuCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC4INCy0LXRgNGF0L3QtdCz0L4g0LrRgNCw0Y8g0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LAgXG4gICAgICovXG4gICAgZ2V0VGh1bWJUd29Qb3NpdGlvbigpOiBJVGh1bWJQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0VGh1bWJUd29Qb3NpdGlvbigpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0KPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0L/QvtC30LjRhtC40Y4g0LLRgtC+0YDQs9C+INCx0LXQs9GD0L3QutCwXG4gICAgICogXG4gICAgICogQHBhcmFtIHtJVGh1bWJQb3NpdGlvbn0gdGh1bWJQb3NpdGlvbiAtINC+0LHRitC10LrRgiDRgSDRgNCw0YHRgdGC0L7Rj9C90LjRj9C80Lgg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INC70LXQstC+0LPQviDQuCDQstC10YDRhdC90LXQs9C+INC60YDQsNGPINGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC60L7QvdGC0LXQudC90LXRgNCwIFxuICAgICAqL1xuICAgIHNldFRodW1iVHdvUG9zaXRpb24odGh1bWJQb3NpdGlvbjogSVRodW1iUG9zaXRpb24pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kYXRhLnNldFRodW1iVHdvUG9zaXRpb24odGh1bWJQb3NpdGlvbik7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQn9C10YDQtdC80LXRidCw0LXRgiDQsdC70LjQttCw0LnRiNC40Lkg0LHQtdCz0YPQvdC+0Log0L3QsCDQvNC10YHRgtC+INC60LvQuNC60LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lDdXJzb3JQb3NpdGlvbn0gY3Vyc29yUG9zaXRpb24gLSDQv9C+0LvQvtC20LXQvdC40LUg0LrRg9GA0YHQvtGA0LAg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INC70LXQstC+0LPQviDQuCDQv9GA0LDQstC+0LPQviDQutGA0LDRjyDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LPQviDQutC+0L3RgtC10LnQvdC10YDQsFxuICAgICAqL1xuICAgIG1vdmVUaHVtYlRvQ2xpY2tQb3NpdGlvbihjdXJzb3JQb3NpdGlvbjogSUN1cnNvclBvc2l0aW9uKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRvci5tb3ZlVGh1bWJUb0NsaWNrUG9zaXRpb24oY3Vyc29yUG9zaXRpb24pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0L/QvtC30LjRhtC40Y4g0LfQvdCw0YfQtdC90LjRjyDQvdCw0LQg0LHQtdCz0YPQvdC60L7QvFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SVRodW1iUG9zaXRpb259IHRodW1iUG9zaXRpb24gLSDQv9C+0LfQuNGG0LjRjyDQsdC10LPRg9C90LrQsFxuICAgICAqIEByZXR1cm5zIHtJVG9vbHRpcFBvc2l0aW9ufSAtINC/0L7Qt9C40YbQuNGPINC30L3QsNGH0LXQvdC40Y8g0L3QsNC0INCx0LXQs9GD0L3QutC+0LxcbiAgICAgKi9cbiAgICBnZXRUb29sdGlwUG9zaXRpb24odGh1bWJQb3NpdGlvbjogSVRodW1iUG9zaXRpb24pOiBJVG9vbHRpcFBvc2l0aW9uIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRvci5nZXRUb29sdGlwUG9zaXRpb24odGh1bWJQb3NpdGlvbik7XG4gICAgfVxuXG5cbiAgICBnZXRTbGlkZXJNYXJnaW5zKGVsZW1lbnRzOiBJQ29vcmRzRm9yTWFyZ2lucyk6IElTbGlkZXJNYXJnaW5zIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRvci5nZXRTbGlkZXJNYXJnaW5zKGVsZW1lbnRzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGVsOyIsImltcG9ydCB7IElUaHVtYlBvc2l0aW9uLCBJVG9vbHRpcFBvc2l0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcydcbmltcG9ydCB7IElTbGlkZXJTaXplIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBJVGh1bWJTaXplIH0gZnJvbSAnLi4vaW50ZXJmYWNlcydcbmltcG9ydCB7IElTY2FsZVBvaW50U2l6ZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnXG5pbXBvcnQgeyBJUHJvZ3Jlc3NCYXJQb3NpdGlvbiB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSUN1cnNvclBvc2l0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBJQ29vcmRzRm9yTWFyZ2lucyB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSVNsaWRlck1hcmdpbnMgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcblxuaW1wb3J0IE9ic2VydmVyIGZyb20gJy4uL29ic2VydmVyL29ic2VydmVyJztcbmltcG9ydCBNb2RlbERhdGEgZnJvbSAnLi9tb2RlbERhdGEnO1xuXG5cbi8qKlxuICog0JrQu9Cw0YHRgSDQvtCx0LXRgdC/0LXRh9C40LLQsNC10YIg0YDQsNGB0YfRkdGCINCx0LjQt9C90LXRgS3Qu9C+0LPQuNC60Lgg0YHQu9Cw0LnQtNC10YDQsFxuICovXG5jbGFzcyBNb2RlbENhbGN1bGF0b3Ige1xuICAgIHByaXZhdGUgb2JzZXJ2ZXI6IE9ic2VydmVyO1xuICAgIHByaXZhdGUgZGF0YTogTW9kZWxEYXRhO1xuXG5cbiAgICBjb25zdHJ1Y3RvcihvYnNlcnZlcjogT2JzZXJ2ZXIsIGRhdGE6IE1vZGVsRGF0YSkge1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQn9C+0LvRg9GH0LDQtdGCINC+0LHRitC10LrRgiDRgSDQv9C+0LfQuNGG0LjQtdC5INC/0LXRgNCy0L7Qs9C+INCx0LXQs9GD0L3QutCwLCDQv9GA0LjRgNCw0LLQvdC40LLQsNC10YIg0LXQs9C+INGB0LLQvtC50YHRgtCy0LAg0Log0LTQvtC/0YPRgdGC0LjQvNGL0Lwg0LfQvdCw0YfQtdC90LjRj9C8INC4INC/0LXRgNC10LTQsNGR0YIg0LXQs9C+INCyINC80LXRgtC+0LQgdGh1bWJEcmFnLFxuICAgICAqINC60L7RgtC+0YDRi9C5INC+0YHRg9GJ0LXRgdGC0LLQu9GP0LXRgiDQv9C10YDQtdC00LLQuNC20LXQvdC40LUg0LHQtdCz0YPQvdC60LAg0LIg0YHQvtC+0YLQstC10YLRgdGC0LLQuNC4INGBINC/0L7Qu9GD0YfQtdC90L3Ri9C80Lgg0LTQsNC90L3Ri9C80LhcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lUaHVtYlBvc2l0aW9ufSB0aHVtYlBvc2l0aW9uIC0g0YHRi9GA0LDRjyDQv9C+0LfQuNGG0LjRjyDQsdC10LPRg9C90LrQsCwg0LzQvtC20LXRgiDQstGL0YXQvtC00LjRgtGMINC30LAg0L/RgNC10LTQtdC70Ysg0YHQu9Cw0LnQtNC10YDQsCDQuNC70Lgg0LLRgtC+0YDQvtCz0L4g0LHQtdCz0YPQvdC60LBcbiAgICAgKi9cbiAgICBkcmFnVGh1bWJPbmUodGh1bWJQb3NpdGlvbjogSVRodW1iUG9zaXRpb24pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kYXRhLnNldFRodW1iT25lUG9zaXRpb24odGhpcy5jaGFuZ2VQb3NpdGlvbkFjY29yZGluZ1RvU3RlcCh0aHVtYlBvc2l0aW9uKSk7XG4gICAgICAgIGNvbnN0IGNvcnJlY3RUaHVtT25lUG9zaXRpb246IElUaHVtYlBvc2l0aW9uID0gdGhpcy5kYXRhLmdldFRodW1iT25lUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgdGh1bWJWYWx1ZTogbnVtYmVyID0gdGhpcy5wb3NpdGlvblRvVmFsdWUodGhpcy5nZXRFbGVtZW50UG9zQnlPcmllbnRhdGlvbih0aGlzLmRhdGEuZ2V0VGh1bWJPbmVQb3NpdGlvbigpKSk7XG5cbiAgICAgICAgdGhpcy50aHVtYkRyYWcoY29ycmVjdFRodW1PbmVQb3NpdGlvbiwgJ3RodW1iT25lRHJhZ2dlZCcsIHRodW1iVmFsdWUpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0J/QvtC70YPRh9Cw0LXRgiDQvtCx0YrQtdC60YIg0YEg0L/QvtC30LjRhtC40LXQuSDQstGC0L7RgNCz0L4g0LHQtdCz0YPQvdC60LAsINC/0YDQuNGA0LDQstC90LjQstCw0LXRgiDQtdCz0L4g0YHQstC+0LnRgdGC0LLQsCDQuiDQtNC+0L/Rg9GB0YLQuNC80YvQvCDQt9C90LDRh9C10L3QuNGP0Lwg0Lgg0L/QtdGA0LXQtNCw0ZHRgiDQtdCz0L4g0LIg0LzQtdGC0L7QtCB0aHVtYkRyYWcsXG4gICAgICog0LrQvtGC0L7RgNGL0Lkg0L7RgdGD0YnQtdGB0YLQstC70Y/QtdGCINC/0LXRgNC10LTQstC40LbQtdC90LjQtSDQsdC10LPRg9C90LrQsCDQsiDRgdC+0L7RgtCy0LXRgtGB0YLQstC40Lgg0YEg0L/QvtC70YPRh9C10L3QvdGL0LzQuCDQtNCw0L3QvdGL0LzQuFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SVRodW1iUG9zaXRpb259IHRodW1iUG9zaXRpb24gLSDRgdGL0YDQsNGPINC/0L7Qt9C40YbQuNGPINCx0LXQs9GD0L3QutCwLCDQvNC+0LbQtdGCINCy0YvRhdC+0LTQuNGC0Ywg0LfQsCDQv9GA0LXQtNC10LvRiyDRgdC70LDQudC00LXRgNCwINC40LvQuCDQv9C10YDQstC+0LPQviDQsdC10LPRg9C90LrQsFxuICAgICAqL1xuICAgIGRyYWdUaHVtYlR3byh0aHVtYlBvc2l0aW9uOiBJVGh1bWJQb3NpdGlvbik6IHZvaWQge1xuICAgICAgICB0aGlzLmRhdGEuc2V0VGh1bWJUd29Qb3NpdGlvbih0aGlzLmNoYW5nZVBvc2l0aW9uQWNjb3JkaW5nVG9TdGVwKHRodW1iUG9zaXRpb24pKTtcbiAgICAgICAgY29uc3QgY29ycmVjdFRodW1Ud29Qb3NpdGlvbjogSVRodW1iUG9zaXRpb24gPSB0aGlzLmRhdGEuZ2V0VGh1bWJUd29Qb3NpdGlvbigpO1xuICAgICAgICBjb25zdCB0aHVtYlZhbHVlOiBudW1iZXIgPSB0aGlzLnBvc2l0aW9uVG9WYWx1ZSh0aGlzLmdldEVsZW1lbnRQb3NCeU9yaWVudGF0aW9uKHRoaXMuZGF0YS5nZXRUaHVtYlR3b1Bvc2l0aW9uKCkpKTtcblxuICAgICAgICB0aGlzLnRodW1iRHJhZyhjb3JyZWN0VGh1bVR3b1Bvc2l0aW9uLCAndGh1bWJUd29EcmFnZ2VkJywgdGh1bWJWYWx1ZSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQn9C10YDQtdC80LXRidCw0LXRgiDQsdC70LjQttCw0LnRiNC40Lkg0LHQtdCz0YPQvdC+0Log0L3QsCDQvNC10YHRgtC+INC60LvQuNC60LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lDdXJzb3JQb3NpdGlvbn0gY3Vyc29yUG9zaXRpb24gLSDQv9C+0LvQvtC20LXQvdC40LUg0LrRg9GA0YHQvtGA0LAg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INC70LXQstC+0LPQviDQuCDQv9GA0LDQstC+0LPQviDQutGA0LDRjyDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LPQviDQutC+0L3RgtC10LnQvdC10YDQsFxuICAgICAqL1xuICAgIG1vdmVUaHVtYlRvQ2xpY2tQb3NpdGlvbihjdXJzb3JQb3NpdGlvbjogSUN1cnNvclBvc2l0aW9uKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uOiBJVGh1bWJQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICdsZWZ0JzogY3Vyc29yUG9zaXRpb24ueCAtIHRoaXMuZGF0YS5nZXRUaHVtYlNpemUoKS53aWR0aCAvIDIsXG4gICAgICAgICAgICAndG9wJzogY3Vyc29yUG9zaXRpb24ueSAtIHRoaXMuZGF0YS5nZXRUaHVtYlNpemUoKS5oZWlnaHQgLyAyXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kYXRhLmdldFNsaWRlclR5cGUoKSA9PT0gJ3JhbmdlJyAmJlxuICAgICAgICAgICAgTWF0aC5hYnModGhpcy5nZXRFbGVtZW50UG9zQnlPcmllbnRhdGlvbihwb3NpdGlvbikgLSB0aGlzLmdldEVsZW1lbnRQb3NCeU9yaWVudGF0aW9uKHRoaXMuZGF0YS5nZXRUaHVtYk9uZVBvc2l0aW9uKCkpKSA+XG4gICAgICAgICAgICBNYXRoLmFicyh0aGlzLmdldEVsZW1lbnRQb3NCeU9yaWVudGF0aW9uKHBvc2l0aW9uKSAtIHRoaXMuZ2V0RWxlbWVudFBvc0J5T3JpZW50YXRpb24odGhpcy5kYXRhLmdldFRodW1iVHdvUG9zaXRpb24oKSkpKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdUaHVtYlR3byhwb3NpdGlvbilcbiAgICAgICAgfSBlbHNlIChcbiAgICAgICAgICAgIHRoaXMuZHJhZ1RodW1iT25lKHBvc2l0aW9uKVxuICAgICAgICApXG4gICAgfVxuXG5cbiAgICAvKiog0KPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0L/QtdGA0LLRi9C5INCx0LXQs9GD0L3QvtC6INC90LAg0YHRgtCw0YDRgtC+0LLRg9GOINC/0L7Qt9C40YbQuNGOICovXG4gICAgc2V0VGh1bWJPbmVUb1N0YXJ0aW5nUG9zaXRpb24oKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuZ2V0T3JpZW50YXRpb24oKSA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLmdldFNsaWRlclR5cGUoKSA9PT0gJ3NpbmdsZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWdUaHVtYk9uZSh7XG4gICAgICAgICAgICAgICAgICAgICdsZWZ0JzogdGhpcy5kYXRhLmdldFNsaWRlclNpemUoKS53aWR0aCAvIDIgLSB0aGlzLmRhdGEuZ2V0VGh1bWJTaXplKCkud2lkdGggLyAyLFxuICAgICAgICAgICAgICAgICAgICAndG9wJzogMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWdUaHVtYk9uZSh7XG4gICAgICAgICAgICAgICAgICAgICdsZWZ0JzogdGhpcy5kYXRhLmdldFNsaWRlclNpemUoKS53aWR0aCAqIDAuMyAtIHRoaXMuZGF0YS5nZXRUaHVtYlNpemUoKS53aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgICAgICd0b3AnOiAwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLmdldFNsaWRlclR5cGUoKSA9PT0gJ3NpbmdsZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWdUaHVtYk9uZSh7XG4gICAgICAgICAgICAgICAgICAgICdsZWZ0JzogMCxcbiAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IHRoaXMuZGF0YS5nZXRTbGlkZXJTaXplKCkuaGVpZ2h0IC8gMiAtIHRoaXMuZGF0YS5nZXRUaHVtYlNpemUoKS5oZWlnaHQgLyAyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ1RodW1iT25lKHtcbiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiAwLFxuICAgICAgICAgICAgICAgICAgICAndG9wJzogdGhpcy5kYXRhLmdldFNsaWRlclNpemUoKS5oZWlnaHQgKiAwLjMgLSB0aGlzLmRhdGEuZ2V0VGh1bWJTaXplKCkuaGVpZ2h0IC8gMlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKiog0KPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0LLRgtC+0YDQvtC5INCx0LXQs9GD0L3QvtC6INC90LAg0YHRgtCw0YDRgtC+0LLRg9GOINC/0L7Qt9C40YbQuNGOICovXG4gICAgc2V0VGh1bWJUd29Ub1N0YXJ0aW5nUG9zaXRpb24oKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuZ2V0T3JpZW50YXRpb24oKSA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdUaHVtYlR3byh7XG4gICAgICAgICAgICAgICAgJ2xlZnQnOiB0aGlzLmRhdGEuZ2V0U2xpZGVyU2l6ZSgpLndpZHRoICogMC43IC0gdGhpcy5kYXRhLmdldFRodW1iU2l6ZSgpLndpZHRoIC8gMixcbiAgICAgICAgICAgICAgICAndG9wJzogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdUaHVtYlR3byh7XG4gICAgICAgICAgICAgICAgJ2xlZnQnOiAwLFxuICAgICAgICAgICAgICAgICd0b3AnOiB0aGlzLmRhdGEuZ2V0U2xpZGVyU2l6ZSgpLmhlaWdodCAqIDAuNyAtIHRoaXMuZGF0YS5nZXRUaHVtYlNpemUoKS5oZWlnaHQgLyAyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqINCT0LXQvdC10YDQuNGA0YPQtdGCINGI0LrQsNC70YMg0LjRgdGF0L7QtNGPINC40Lcg0YDQsNC30LzQtdGA0L7QsiDRgdC70LDQudC00LXRgNCwLCDQutC+0LvQuNGH0LXRgdGC0LLQsCDRiNCw0LPQvtCyLCDQvNC40L3QuNC80LDQu9GM0L3QvtCz0L4g0Lgg0LzQsNC60YHQuNC80LDQu9GM0L3QvtCz0L4g0LfQvdCw0YfQtdC90LjRjyAqL1xuICAgIGdlbmVyYXRlU2NhbGUoKTogdm9pZCB7XG4gICAgICAgIGxldCBzY2FsZVBvaW50UG9zaXRpb24gPSB0aGlzLmdldEVsZW1lbnRTaXplQnlPcmllbnRhdGlvbih0aGlzLmRhdGEuZ2V0VGh1bWJTaXplKCkpIC8gMiAtIHRoaXMuZ2V0RWxlbWVudFNpemVCeU9yaWVudGF0aW9uKHRoaXMuZGF0YS5nZXRTY2FsZVBvaW50U2l6ZSgpKSAvIDI7XG4gICAgICAgIGNvbnN0IHN0ZXBzQ291bnQ6IG51bWJlciA9IHRoaXMuY2FsY3VsYXRlU3RlcHNDb3VudCgpO1xuICAgICAgICBjb25zdCBzdGVwU2l6ZTogbnVtYmVyID0gdGhpcy5jYWxjdWxhdGVTdGVwU2l6ZSgpO1xuXG4gICAgICAgIGxldCBwcmV2U2NhbGVQb2ludFBvc2l0aW9uID0gMDtcbiAgICAgICAgY29uc3Qgc2NhbGVQb2ludHNDb3VudCA9IHN0ZXBzQ291bnQgKyAxO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IE1hdGgucm91bmQoc2NhbGVQb2ludHNDb3VudCAtIDEpOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50VmFsdWUgPSB0aGlzLnBvc2l0aW9uVG9WYWx1ZShzY2FsZVBvaW50UG9zaXRpb24gLSB0aGlzLmdldEVsZW1lbnRTaXplQnlPcmllbnRhdGlvbih0aGlzLmRhdGEuZ2V0VGh1bWJTaXplKCkpIC8gMlxuICAgICAgICAgICAgICAgICsgdGhpcy5nZXRFbGVtZW50U2l6ZUJ5T3JpZW50YXRpb24odGhpcy5kYXRhLmdldFNjYWxlUG9pbnRTaXplKCkpIC8gMik7XG5cbiAgICAgICAgICAgIGlmIChpID09PSAwIHx8IHRoaXMuaXNQb2ludEZpdHMoc2NhbGVQb2ludFBvc2l0aW9uLCBwcmV2U2NhbGVQb2ludFBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIubm90aWZ5KCdhZGRTY2FsZVBvaW50JyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzogc2NhbGVQb2ludFBvc2l0aW9uLCAnc2NhbGVQb2ludFNpemUnOiB0aGlzLmdldEVsZW1lbnRTaXplQnlPcmllbnRhdGlvbih0aGlzLmRhdGEuZ2V0U2NhbGVQb2ludFNpemUoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2NhbGVQb2ludFZhbHVlJzogcG9pbnRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHByZXZTY2FsZVBvaW50UG9zaXRpb24gPSBzY2FsZVBvaW50UG9zaXRpb247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjYWxlUG9pbnRQb3NpdGlvbiArPSBzdGVwU2l6ZTtcblxuICAgICAgICAgICAgLy8g0KPRgdGC0LDQvdC+0LLQutCwINCy0YvRgdC+0YLRiyDQuCDRiNC40YDQuNC90Ysg0YjQutCw0LvRiyDQtNC70Y8g0YLQvtCz0L4sINGH0YLQvtCx0Ysg0L/QviDQvdC10Lkg0LzQvtC20L3QviDQsdGL0LvQviDRgdC+0LLQtdGA0YjQsNGC0Ywg0LrQu9C40LrQuCwg0LTQu9GPINC/0LXRgNC10LzQtdGJ0LXQvdC40Y8g0LHQtdCz0YPQvdC60L7QslxuICAgICAgICAgICAgaWYgKGkgPT09IE1hdGgucm91bmQoc2NhbGVQb2ludHNDb3VudCAtIDIpKSB7XG4gICAgICAgICAgICAgICAgc2NhbGVQb2ludFBvc2l0aW9uID0gdGhpcy5nZXRFbGVtZW50U2l6ZUJ5T3JpZW50YXRpb24odGhpcy5kYXRhLmdldFNsaWRlclNpemUoKSlcbiAgICAgICAgICAgICAgICAgICAgLSB0aGlzLmdldEVsZW1lbnRTaXplQnlPcmllbnRhdGlvbih0aGlzLmRhdGEuZ2V0VGh1bWJTaXplKCkpIC8gMiAtIHRoaXMuZ2V0RWxlbWVudFNpemVCeU9yaWVudGF0aW9uKHRoaXMuZGF0YS5nZXRTY2FsZVBvaW50U2l6ZSgpKSAvIDI7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhLmdldE9yaWVudGF0aW9uKCkgPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmVyLm5vdGlmeSgnc2NhbGVDcmVhdGVkJywgeyAnd2lkdGgnOiB0aGlzLmRhdGEuZ2V0U2xpZGVyU2l6ZSgpLndpZHRoLCAnaGVpZ2h0JzogdGhpcy5kYXRhLmdldFNjYWxlUG9pbnRTaXplKCkuaGVpZ2h0IH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIubm90aWZ5KCdzY2FsZUNyZWF0ZWQnLCB7ICd3aWR0aCc6IHRoaXMuZGF0YS5nZXRTY2FsZVBvaW50U2l6ZSgpLndpZHRoLCAnaGVpZ2h0JzogdGhpcy5kYXRhLmdldFNsaWRlclNpemUoKS5oZWlnaHQgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQoNCw0YHRh9C40YLRi9Cy0LDQtdGCINC4INCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0YLRgdGC0YPQv9GLINGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lDb29yZHNGb3JNYXJnaW5zfSBlbGVtZW50cyAtINC+0LHRitC10LrRgiDRgSDQutC+0L7RgNC00LjQvdCw0YLQsNC80Lgg0YHQu9Cw0LnQtNC10YDQsCwg0YjQutCw0LvRiyDQuCDQt9C90LDRh9C10L3QuNGPINC/0L7Qt9C40YbQuNC4INCx0LXQs9GD0L3QutCwXG4gICAgICogQHJldHVybnMge0lTbGlkZXJNYXJnaW5zfSAtINC+0LHRitC10LrRgiDRgdC+INC30L3QsNGH0LXQvdC40Y/QvNC4INC+0YLRgdGC0YPQv9C+0LJcbiAgICAgKi9cbiAgICBnZXRTbGlkZXJNYXJnaW5zKGVsZW1lbnRzOiBJQ29vcmRzRm9yTWFyZ2lucyk6IElTbGlkZXJNYXJnaW5zIHtcbiAgICAgICAgbGV0IGxlZnQgPSAwO1xuICAgICAgICBsZXQgdG9wID0gMDtcbiAgICAgICAgbGV0IHJpZ2h0ID0gMDtcbiAgICAgICAgbGV0IGJvdHRvbSA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YS5nZXRPcmllbnRhdGlvbigpID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50cy5zbGlkZXJDb29yZHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50cy5zY2FsZUNvb3JkcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBib3R0b20gPSBlbGVtZW50cy5zY2FsZUNvb3Jkcy5ib3R0b20gLSBlbGVtZW50cy5zbGlkZXJDb29yZHMuYm90dG9tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHMudG9vbHRpcENvb3JkcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0b3AgPSBlbGVtZW50cy5zbGlkZXJDb29yZHMudG9wIC0gZWxlbWVudHMudG9vbHRpcENvb3Jkcy50b3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzLnNsaWRlckNvb3JkcyAhPT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHMudG9vbHRpcENvb3JkcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gZWxlbWVudHMuc2xpZGVyQ29vcmRzLmxlZnQgLSBlbGVtZW50cy50b29sdGlwQ29vcmRzLmxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50cy5zY2FsZUNvb3JkcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByaWdodCA9IGVsZW1lbnRzLnNjYWxlQ29vcmRzLnJpZ2h0IC0gZWxlbWVudHMuc2xpZGVyQ29vcmRzLnJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnbGVmdCc6IGxlZnQsXG4gICAgICAgICAgICAndG9wJzogdG9wLFxuICAgICAgICAgICAgJ3JpZ2h0JzogcmlnaHQsXG4gICAgICAgICAgICAnYm90dG9tJzogYm90dG9tXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC/0L7Qt9C40YbQuNGOINC30L3QsNGH0LXQvdC40Y8g0L3QsNC0INCx0LXQs9GD0L3QutC+0LxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lUaHVtYlBvc2l0aW9ufSB0aHVtYlBvc2l0aW9uIC0g0L/QvtC30LjRhtC40Y8g0LHQtdCz0YPQvdC60LBcbiAgICAgKiBAcmV0dXJucyB7SVRvb2x0aXBQb3NpdGlvbn0gLSDQv9C+0LfQuNGG0LjRjyDQt9C90LDRh9C10L3QuNGPINC90LDQtCDQsdC10LPRg9C90LrQvtC8XG4gICAgICovXG4gICAgZ2V0VG9vbHRpcFBvc2l0aW9uKHRodW1iUG9zaXRpb246IElUaHVtYlBvc2l0aW9uKTogSVRvb2x0aXBQb3NpdGlvbiB7XG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uID0gdGhpcy5kYXRhLmdldE9yaWVudGF0aW9uKCk7XG4gICAgICAgIGNvbnN0IHRodW1iU2l6ZSA9IHRoaXMuZGF0YS5nZXRUaHVtYlNpemUoKTtcbiAgICAgICAgbGV0IGxlZnQgPSAwO1xuICAgICAgICBsZXQgdG9wID0gMDtcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgbGVmdCA9IHRodW1iUG9zaXRpb24ubGVmdCArIHRodW1iU2l6ZS53aWR0aCAvIDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b3AgPSB0aHVtYlBvc2l0aW9uLnRvcCArIHRodW1iU2l6ZS5oZWlnaHQgLyAyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICh7ICdsZWZ0JzogbGVmdCwgJ3RvcCc6IHRvcCB9KTtcbiAgICB9XG5cblxuICAgIC8qKiBcbiAgICAgKiDQn9GA0L7QstC10YDRj9C10YIg0LzQvtC80LXRidCw0LXRgtGB0Y8g0LvQuCDRgtC+0YfQutCwINC90LAg0YjQutCw0LvQtSDQsdC10Lcg0L/QtdGA0LXRgdC10YfQtdC90LjRjyDQtNGA0YPQs9C40YUg0YLQvtGH0LXQuiwg0LXRgdC70Lgg0L3QtdGCLCDRgtC+INC+0L3QsFxuICAgICAqINC90LUg0LTQvtCx0LDQstC70Y/QtdGC0YHRjyDQvdCwINGI0LrQsNC70YNcbiAgICAqL1xuICAgIHByaXZhdGUgaXNQb2ludEZpdHMoc2NhbGVQb2ludFBvc2l0aW9uOiBudW1iZXIsIHByZXZTY2FsZVBvaW50UG9zaXRpb246IG51bWJlcik6IGJvb2xlYW4ge1xuXG4gICAgICAgIHJldHVybiAoc2NhbGVQb2ludFBvc2l0aW9uIC0gcHJldlNjYWxlUG9pbnRQb3NpdGlvbiAtIDIgPlxuICAgICAgICAgICAgdGhpcy5nZXRFbGVtZW50U2l6ZUJ5T3JpZW50YXRpb24odGhpcy5kYXRhLmdldFNjYWxlUG9pbnRTaXplKCkpKTtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqINCf0L7RgdGL0LvQsNC10YIg0YPQstC10LTQvtC80LvQtdC90LjRjyDRgSDQvdC+0LLQvtC5INC/0L7Qt9C40YbQuNC10Lkg0LHQtdCz0YPQvdC60LAg0LTQu9GPINC10LPQviDQv9C10YDQtdC00LLQuNC20LXQvdC40Y8g0Lgg0L/QvtC70L7QttC10L3QuNC10Lwg0L/RgNC+0LPRgNC10YHRgdCx0LDRgNCwXG4gICAgICogXG4gICAgICogQHBhcmFtIHtJVGh1bWJQb3NpdGlvbn0gdGh1bWJQb3NpdGlvbiAtINC/0L7Qt9C40YbQuNGPINC90LAg0LrQvtGC0L7RgNGD0Y4g0L3QtdC+0LHRhdC+0LTQuNC80L4g0L/QtdGA0LXQtNCy0LjQvdGD0YLRjCDQsdC10LPRg9C90L7QuiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbm90eWZ5TWVzc2FnZSAtINGC0LXQutGB0YIg0YPQstC10LTQvtC80LvQtdC90LjRjywg0L/QviDQutC+0YLQvtGA0L7QvNGDINC+0L/RgNC10LTQtdC70Y/QtdGC0YHRjyDQsdC10LPRg9C90L7Quiwg0LrQvtGC0L7RgNGL0Lkg0L3QtdC+0LHRhdC+0LTQuNC80L4g0L/QtdGA0LXQtNCy0LjQvdGD0YLRjCBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGh1bWJWYWx1ZSAtINC30L3QsNGH0LXQvdC40LUg0L/QvtC30LjRhtC40LgsINC90LAg0LrQvtGC0L7RgNC+0Lkg0L3QsNGF0L7QtNC40YLRjNGB0Y8g0LHQtdCz0YPQvdC+0LpcbiAgICAgKi9cbiAgICBwcml2YXRlIHRodW1iRHJhZyh0aHVtYlBvc2l0aW9uOiBJVGh1bWJQb3NpdGlvbiwgbm90eWZ5TWVzc2FnZTogc3RyaW5nLCB0aHVtYlZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbmV3VGh1bWJQb3NpdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIHRodW1iUG9zaXRpb24pO1xuXG4gICAgICAgIC8vINCX0LDQvdGD0LvQtdC90LjQtSDRgdCy0L7QudGB0YLQsiwg0L3QtSDRg9GH0LDQstGB0YLQstGD0Y7RidC40YUg0LIg0L/QtdGA0LXQtNCy0LjQttC10L3QuNC4INCx0LXQs9GD0L3QutCwXG4gICAgICAgIGlmICh0aGlzLmRhdGEuZ2V0T3JpZW50YXRpb24oKSA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICBuZXdUaHVtYlBvc2l0aW9uLnRvcCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdUaHVtYlBvc2l0aW9uLmxlZnQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vYnNlcnZlci5ub3RpZnkobm90eWZ5TWVzc2FnZSwgeyAndGh1bWJQb3NpdGlvbic6IG5ld1RodW1iUG9zaXRpb24sICd0b29sdGlwVmFsdWUnOiB0aHVtYlZhbHVlIH0pO1xuICAgICAgICB0aGlzLm9ic2VydmVyLm5vdGlmeSgncHJvZ3Jlc3NCYXJEcmFnZWQnLCB0aGlzLmNhbGNQcm9ncmVzc0JhclBvc2l0aW9uKCkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0YjQuNGA0LjQvdGDINC40LvQuCDQtNC70LjQvdGDINC/0LXRgNC10LTQsNC90L3QvtCz0L4g0L7QsdGK0LXQutGC0LAg0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLQuCDQvtGCINC+0YDQuNC10L3RgtCw0YbQuNC4INGB0LvQsNC50LTQtdGA0LAuXG4gICAgICog0J/RgNC4INCz0L7RgNC40LfQvtC90YLQsNC70YzQvdC+0Lkg0L7RgNC40LXQvdGC0LDRhtC40Lgg0LLQvtC30LLRgNCw0YnQsNC10YLRgdGPINGI0LjRgNC40L3QsCwg0L/RgNC4INCy0LXRgNGC0LjQutCw0LvRjNC90L7QuSAtINC00LvQuNC90LAuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtJU2xpZGVyU2l6ZSB8IElUaHVtYlNpemUgfCBJU2NhbGVQb2ludFNpemV9IGVsZW1lbnQgLSDQvtCx0YrQtdC60YIsINGI0LjRgNC40L3RgyDQuNC70Lgg0LTQu9C40L3RgyDQutC+0YLQvtGA0L7Qs9C+INC90LXQvtCx0YXQvtC00LjQvNC+INC/0L7Qu9GD0YfQuNGC0YxcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldEVsZW1lbnRTaXplQnlPcmllbnRhdGlvbihlbGVtZW50OiBJU2xpZGVyU2l6ZSB8IElUaHVtYlNpemUgfCBJU2NhbGVQb2ludFNpemUpOiBudW1iZXIge1xuICAgICAgICBpZiAodGhpcy5kYXRhLmdldE9yaWVudGF0aW9uKCkgPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50LndpZHRoXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQv9C+0LvQvtC20LXQvdC40LUg0L/QtdGA0LXQtNCw0L3QvdC+0LPQviDQvtCx0YrQtdC60YLQsCwg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INC70LXQstC+0LPQviDQuNC70Lgg0LLQtdGA0YXQvdC10LPQviDQutGA0LDRjyDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LPQviDQutC+0L3RgtC10LnQvdC10YDQsCwgXG4gICAgICog0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLQuCDQvtGCINC+0YDQuNC10L3RgtCw0YbQuNC4INGB0LvQsNC50LTQtdGA0LAuXG4gICAgICog0J/RgNC4INCz0L7RgNC40LfQvtC90YLQsNC70YzQvdC+0Lkg0L7RgNC40LXQvdGC0LDRhtC40Lgg0LLQvtC30LLRgNCw0YnQsNC10YLRgdGPINC/0L7Qu9C+0LbQtdC90LjQtSDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC60YDQsNGPINGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC60L7QvdGC0LXQudC90LXRgNCwLCBcbiAgICAgKiDQv9GA0Lgg0LLQtdGA0YLQuNC60LDQu9GM0L3QvtC5IC0g0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INCy0LXRgNGF0L3QtdCz0L4uXG4gICAgICogXG4gICAgICogQHBhcmFtIHtJU2xpZGVyU2l6ZSB8IElUaHVtYlNpemUgfCBJU2NhbGVQb2ludFNpemV9IGVsZW1lbnQgLSDQvtCx0YrQtdC60YIsINGI0LjRgNC40L3RgyDQuNC70Lgg0LTQu9C40L3RgyDQutC+0YLQvtGA0L7Qs9C+INC90LXQvtCx0YXQvtC00LjQvNC+INC/0L7Qu9GD0YfQuNGC0YxcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldEVsZW1lbnRQb3NCeU9yaWVudGF0aW9uKGVsZW1lbnQ6IElUaHVtYlBvc2l0aW9uKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5nZXRPcmllbnRhdGlvbigpID09PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC50b3A7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWxlbWVudC5sZWZ0XG4gICAgfVxuXG5cbiAgICAvKiogXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0LrQvtC70LjRh9C10YHRgtCy0L4g0YjQsNCz0L7QsiDQsdC10LPRg9C90LrQsCDQuNGB0YXQvtC00Y8g0LjQtyDQt9Cw0LTQsNC90L3Ri9GFINC30L3QsNGH0LXQvdC40Lkg0Lgg0LLQtdC70LjRh9C40L3RiyDRiNCw0LPQsFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0g0LrQvtC70LjRh9C10YHRgtCy0L4g0YjQsNCz0L7QsiDQsdC10LPRg9C90LrQsCDQsiDRgdC70LDQudC00LXRgNC1XG4gICAgICovXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVTdGVwc0NvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAodGhpcy5kYXRhLmdldE1heCgpIC0gdGhpcy5kYXRhLmdldE1pbigpKSAvIHRoaXMuZGF0YS5nZXRTdGVwKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDRgNCw0LfQvNC10YAg0L7QtNC90L7Qs9C+INGI0LDQs9CwINCx0LXQs9GD0L3QutCwINCyINC/0LjQutGB0LXQu9GP0YVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtINGA0LDQt9C80LXRgCDQvtC00L3QvtCz0L4g0YjQsNCz0LAg0LHQtdCz0YPQvdC60LBcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbGN1bGF0ZVN0ZXBTaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAodGhpcy5nZXRFbGVtZW50U2l6ZUJ5T3JpZW50YXRpb24odGhpcy5kYXRhLmdldFNsaWRlclNpemUoKSkgLVxuICAgICAgICAgICAgdGhpcy5nZXRFbGVtZW50U2l6ZUJ5T3JpZW50YXRpb24odGhpcy5kYXRhLmdldFRodW1iU2l6ZSgpKSkgLyB0aGlzLmNhbGN1bGF0ZVN0ZXBzQ291bnQoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0YvRgdGH0LjRgtGL0LLQsNC10YIg0L3QvtCy0YPRjiDQv9C+0LfQuNGG0LjRjiDQsdC10LPRg9C90LrQsCDQsiDRgdC+0L7RgtCy0LXRgtGB0YLQstC40Lgg0YEg0LfQsNC00LDQvdC90YvQvCDRiNCw0LPQvtC8XG4gICAgICogXG4gICAgICogQHJldHVybnMge0lUaHVtYlBvc2l0aW9ufSAtINC+0LHRitC10LrRgiDRgSDQv9C+0LfQuNGG0LjQtdC5INCx0LXQs9GD0L3QutCwLiDQn9C+0LfQuNGG0LjRjyDRgdGH0LjRgtCw0LXRgtGB0Y8g0L7RgiDQu9C10LLQvtCz0L4g0Lgg0LLQtdGA0YXQvdC10LPQviDQutGA0LDRkdCyXG4gICAgICog0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LBcbiAgICAgKi9cbiAgICBwcml2YXRlIGNoYW5nZVBvc2l0aW9uQWNjb3JkaW5nVG9TdGVwKHBvc2l0aW9uOiBJVGh1bWJQb3NpdGlvbik6IElUaHVtYlBvc2l0aW9uIHtcbiAgICAgICAgcG9zaXRpb24ubGVmdCA9IE1hdGgucm91bmQocG9zaXRpb24ubGVmdCAvIHRoaXMuY2FsY3VsYXRlU3RlcFNpemUoKSkgKiB0aGlzLmNhbGN1bGF0ZVN0ZXBTaXplKCk7XG4gICAgICAgIHBvc2l0aW9uLnRvcCA9IE1hdGgucm91bmQocG9zaXRpb24udG9wIC8gdGhpcy5jYWxjdWxhdGVTdGVwU2l6ZSgpKSAqIHRoaXMuY2FsY3VsYXRlU3RlcFNpemUoKTtcblxuICAgICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQt9C90LDRh9C10L3QuNC1INCx0LXQs9GD0L3QutCwINC40YHRhdC+0LTRjyDQuNC3INC10LPQviDQv9C+0LfQuNGG0LjQuFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0g0LfQvdCw0YfQtdC90LjQtSDQv9C+0LfQuNGG0LjQuCwg0L3QsCDQutC+0YLQvtGA0L7QuSDQvdCw0YXQvtC00LjRgtGB0Y8g0LHQtdCz0YPQvdC+0LpcbiAgICAgKi9cbiAgICBwcml2YXRlIHBvc2l0aW9uVG9WYWx1ZShwb3NpdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgcGl4ZWxzUGVyVmFsdWUgPSB0aGlzLmNhbGN1bGF0ZVBpeGVsc1BlclZhbHVlKCk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5kYXRhLmdldE1pbigpICsgKCh0aGlzLmRhdGEuZ2V0TWF4KCkgLSB0aGlzLmRhdGEuZ2V0TWluKCkpIC9cbiAgICAgICAgICAgIDEwMCAqIE1hdGgucm91bmQocG9zaXRpb24gLyBwaXhlbHNQZXJWYWx1ZSkpKTtcbiAgICB9XG5cblxuICAgIC8qKiBcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQutC+0LvQuNGH0LXRgdGC0LLQviDQv9C40LrRgdC10LvQtdC5INCyINC10LTQuNC90LjRhtC1INGI0LjRgNC40L3RiyDRgdC70LDQudC00LXRgNCwLCDRgSDQstGL0YfQtdGC0L7QvCDQutGA0LDQudC90LjRhSBcbiAgICAgKiAo0YLRg9C/0LjQutC+0LLRi9GFKSDQt9C+0L1cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtINC60L7Qu9C40YfQtdGB0YLQstC+INC/0LjQutGB0LXQu9C10Lkg0LIg0LXQtNC40L3QuNGG0LUg0YjQuNGA0LjQvdGLINGB0LvQsNC50LTQtdGA0LBcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbGN1bGF0ZVBpeGVsc1BlclZhbHVlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAodGhpcy5nZXRFbGVtZW50U2l6ZUJ5T3JpZW50YXRpb24odGhpcy5kYXRhLmdldFNsaWRlclNpemUoKSkgLSB0aGlzLmdldEVsZW1lbnRTaXplQnlPcmllbnRhdGlvbih0aGlzLmRhdGEuZ2V0VGh1bWJTaXplKCkpKSAvIDEwMDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGA0LDQt9C80LXRgCDQuCDRgtC+0YfQutGDINC90LDRh9Cw0LvQsCDQv9GA0L7Qs9GA0LXRgdGB0LHQsNGA0LAg0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLQuCDQvtGCINGC0LXQutGD0YnQtdCz0L4g0L/QvtC70L7QttC10L3QuNGPINCx0LXQs9GD0L3QutC+0LJcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7SVByb2dyZXNzQmFyUG9zaXRpb259IC0g0L7QsdGK0LXQutGCINGBINC/0L7Qt9C40YbQuNC10Lkg0L/RgNC+0LPRgNC10YHRgSDQsdCw0YDQsC4g0KHQvtC00LXRgNC20LjRgiDRgdCy0LXQtNC10L3QuNGPINC+0LEg0L7RgNC40LXQvdGC0LDRhtC40LgsXG4gICAgICog0YLQvtGH0LrQtSDQvdCw0YfQsNC70LAg0Lgg0YjQuNGA0LjQvdC1ICjQuNC70Lgg0LLRi9GB0L7RgtC1LCDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0L7RgNC40LXQvdGC0LDRhtC40Lgg0YHQu9Cw0LnQtNC10YDQsCkg0L/RgNC+0LPRgNC10YHRgSDQsdCw0YDQsFxuICAgICAqL1xuICAgIHByaXZhdGUgY2FsY1Byb2dyZXNzQmFyUG9zaXRpb24oKTogSVByb2dyZXNzQmFyUG9zaXRpb24ge1xuICAgICAgICBjb25zdCBwcm9ncmVzczogSVByb2dyZXNzQmFyUG9zaXRpb24gPSB7XG4gICAgICAgICAgICAnb3JpZW50YXRpb24nOiB0aGlzLmRhdGEuZ2V0T3JpZW50YXRpb24oKSxcbiAgICAgICAgICAgICdzdGFydCc6IDAsXG4gICAgICAgICAgICAnZW5kJzogMFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLmRhdGEuZ2V0U2xpZGVyVHlwZSgpID09PSAnc2luZ2xlJykge1xuICAgICAgICAgICAgcHJvZ3Jlc3Muc3RhcnQgPSAwO1xuICAgICAgICAgICAgcHJvZ3Jlc3MuZW5kID0gdGhpcy5nZXRFbGVtZW50UG9zQnlPcmllbnRhdGlvbih0aGlzLmRhdGEuZ2V0VGh1bWJPbmVQb3NpdGlvbigpKSArIHRoaXMuZ2V0RWxlbWVudFNpemVCeU9yaWVudGF0aW9uKHRoaXMuZGF0YS5nZXRUaHVtYlNpemUoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9ncmVzcy5zdGFydCA9IHRoaXMuZ2V0RWxlbWVudFBvc0J5T3JpZW50YXRpb24odGhpcy5kYXRhLmdldFRodW1iT25lUG9zaXRpb24oKSk7XG4gICAgICAgICAgICBwcm9ncmVzcy5lbmQgPSB0aGlzLmdldEVsZW1lbnRQb3NCeU9yaWVudGF0aW9uKHRoaXMuZGF0YS5nZXRUaHVtYlR3b1Bvc2l0aW9uKCkpIC1cbiAgICAgICAgICAgICAgICB0aGlzLmdldEVsZW1lbnRQb3NCeU9yaWVudGF0aW9uKHRoaXMuZGF0YS5nZXRUaHVtYk9uZVBvc2l0aW9uKCkpICsgdGhpcy5nZXRFbGVtZW50U2l6ZUJ5T3JpZW50YXRpb24odGhpcy5kYXRhLmdldFRodW1iU2l6ZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwcm9ncmVzcztcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZWxDYWxjdWxhdG9yOyIsImltcG9ydCB7IElTbGlkZXJTZXR0aW5ncyB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSVNsaWRlclNpemUgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IElUaHVtYlNpemUgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IElUaHVtYlBvc2l0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcydcbmltcG9ydCB7IElTY2FsZVBvaW50U2l6ZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnXG5cblxuLyoqXG4gKiDQmtC70LDRgdGBINC+0LHQtdGB0L/QtdGH0LjQstCw0Y7RidC40Lkg0YXRgNCw0L3QtdC90LjQtSDQtNCw0L3QvdGL0YUg0YHQu9Cw0LnQtNC10YDQsCwg0LAg0YLQsNC6INC20LUg0LjRhSDQv9GA0LXQtNC+0YHRgtCw0LLQu9C10L3QuNC1INC4INCx0LXQt9C+0L/QsNGB0L3QvtC1INC40LfQvNC10L3QtdC90LjQtVxuICovXG5jbGFzcyBNb2RlbERhdGEge1xuICAgIHByaXZhdGUgb3JpZW50YXRpb246IHN0cmluZztcbiAgICBwcml2YXRlIHR5cGU6IHN0cmluZztcbiAgICBwcml2YXRlIHNjYWxlVmlzaWJsZTogYm9vbGVhbjtcbiAgICBwcml2YXRlIHRvb2x0aXBzVmlzaWJsZTogYm9vbGVhbjtcbiAgICBwcml2YXRlIG1pbjogbnVtYmVyO1xuICAgIHByaXZhdGUgbWF4OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBzdGVwOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBzbGlkZXJTaXplOiBJU2xpZGVyU2l6ZSA9IHsgJ3dpZHRoJzogMCwgJ2hlaWdodCc6IDAgfTtcbiAgICBwcml2YXRlIHRodW1iU2l6ZTogSVRodW1iU2l6ZSA9IHsgJ3dpZHRoJzogMCwgJ2hlaWdodCc6IDAgfTtcbiAgICBwcml2YXRlIHRodW1iT25lUG9zaXRpb246IElUaHVtYlBvc2l0aW9uID0geyAnbGVmdCc6IDAsICd0b3AnOiAwIH07XG4gICAgcHJpdmF0ZSB0aHVtYlR3b1Bvc2l0aW9uOiBJVGh1bWJQb3NpdGlvbiA9IHsgJ2xlZnQnOiAwLCAndG9wJzogMCB9O1xuICAgIHByaXZhdGUgc2NhbGVQb2ludFNpemU6IElTY2FsZVBvaW50U2l6ZSA9IHsgJ3dpZHRoJzogMCwgJ2hlaWdodCc6IDAgfTtcblxuXG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3M6IElTbGlkZXJTZXR0aW5ncykge1xuICAgICAgICB0aGlzLm9yaWVudGF0aW9uID0gc2V0dGluZ3Mub3JpZW5hdGlvbjtcbiAgICAgICAgdGhpcy50eXBlID0gc2V0dGluZ3MudHlwZTtcbiAgICAgICAgdGhpcy5zY2FsZVZpc2libGUgPSBzZXR0aW5ncy5zY2FsZTtcbiAgICAgICAgdGhpcy50b29sdGlwc1Zpc2libGUgPSBzZXR0aW5ncy50b29sdGlwcztcbiAgICAgICAgdGhpcy5taW4gPSBzZXR0aW5ncy5taW47XG4gICAgICAgIHRoaXMubWF4ID0gc2V0dGluZ3MubWF4O1xuICAgICAgICB0aGlzLnN0ZXAgPSBzZXR0aW5ncy5zdGVwO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0KPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0L7RgNC40LXQvdGC0LDRhtC40Y4g0YHQu9Cw0LnQtNC10YDQsC4g0JXRgdC70Lgg0LIg0L/QsNGA0LDQvNC10YLRgNC1INC/0LXRgNC10LTQsNC90LAg0YHRgtGA0L7QutCwINC90LUg0YDQsNCy0L3QsNGPIFwiaG9yaXpvbnRhbFwiXG4gICAgICog0LjQu9C4IFwidmVydGljYWxcIiwg0YLQviDQt9C90LDRh9C10L3QuNC1INC+0YHRgtCw0ZHRgtGB0Y8g0L/RgNC10LbQvdC40LxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3JpZW50YXRpb24gLSDQvtGA0LjQtdC90YLQsNGG0LjRjyDRgdC70LDQudC00LXRgNCwXG4gICAgICovXG4gICAgc2V0T3JpZW50YXRpb24ob3JpZW50YXRpb246IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyB8fCBvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQvtGA0LjQtdC90YLQsNGG0LjRjiDRgdC70LDQudC00LXRgNCwXG4gICAgICogXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSDQvtGA0LjQtdC90YLQsNGG0LjRjyDRgdC70LDQudC00LXRgNCwXG4gICAgICovXG4gICAgZ2V0T3JpZW50YXRpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZW50YXRpb247XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDRgtC40L8g0YHQu9Cw0LnQtNC10YDQsC4g0JXRgdC70Lgg0LIg0L/QsNGA0LDQvNC10YLRgNC1INC/0LXRgNC10LTQsNC90LAg0YHRgtGA0L7QutCwINC90LUg0YDQsNCy0L3QsNGPIFwic2luZ2xlXCJcbiAgICAgKiDQuNC70LggXCJyYW5nZVwiLCDRgtC+INC30L3QsNGH0LXQvdC40LUg0L7RgdGC0LDRkdGC0YHRjyDQv9GA0LXQttC90LjQvFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0g0L7RgNC40LXQvdGC0LDRhtC40Y8g0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqL1xuICAgIHNldFNsaWRlclR5cGUodHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICh0eXBlID09PSAnc2luZ2xlJyB8fCB0eXBlID09PSAncmFuZ2UnKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDRgtC40L8g0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0g0YLQuNC/INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKi9cbiAgICBnZXRTbGlkZXJUeXBlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnR5cGU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDRiNC40YDQuNC90YMg0Lgg0LLRi9GB0L7RgtGDINGB0LvQsNC50LTQtdGA0LAuINCe0YLRgNC40YbQsNGC0LXQu9GM0L3Ri9C1INC30L3QsNGH0LXQvdC40Y8g0L/RgNC40YDQsNCy0L3QuNCy0LDRjtGC0YHRjyDQuiAwXG4gICAgICogXG4gICAgICogQHBhcmFtIHtJU2xpZGVyU2l6ZX0gc2xpZGVyU2l6ZSAtINC+0LHRitC10LrRgiDRgSDRiNC40YDQuNC90L7QuSDQuCDQstGL0YHQvtGC0L7QuSDRgdC70LDQudC00LXRgNCwXG4gICAgICovXG4gICAgc2V0U2xpZGVyU2l6ZShzbGlkZXJTaXplOiBJU2xpZGVyU2l6ZSk6IHZvaWQge1xuICAgICAgICBjb25zdCB3aWR0aDogbnVtYmVyID0gKHNsaWRlclNpemUud2lkdGggPj0gMCkgPyBzbGlkZXJTaXplLndpZHRoIDogMDtcbiAgICAgICAgY29uc3QgaGVpZ2h0OiBudW1iZXIgPSAoc2xpZGVyU2l6ZS5oZWlnaHQgPj0gMCkgPyBzbGlkZXJTaXplLmhlaWdodCA6IDA7XG5cbiAgICAgICAgdGhpcy5zbGlkZXJTaXplID0geyAnd2lkdGgnOiB3aWR0aCwgJ2hlaWdodCc6IGhlaWdodCB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINGBINGI0LjRgNC40L3QvtC5INC4INCy0YvRgdC+0YLQvtC5INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7SVNsaWRlclNpemV9IC0g0L7QsdGK0LXQutGCINGBINGI0LjRgNC40L3QvtC5INC4INCy0YvRgdC+0YLQvtC5INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKi9cbiAgICBnZXRTbGlkZXJTaXplKCk6IElTbGlkZXJTaXplIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2xpZGVyU2l6ZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINGI0LjRgNC40L3RgyDQuCDQstGL0YHQvtGC0YMg0LHQtdCz0YPQvdC60LAuINCe0YLRgNC40YbQsNGC0LXQu9GM0L3Ri9C1INC30L3QsNGH0LXQvdC40Y8g0L/RgNC40YDQsNCy0L3QuNCy0LDRjtGC0YHRjyDQuiAwXG4gICAgICogXG4gICAgICogQHBhcmFtIHtJVGh1bWJTaXplfSB0aHVtYlNpemUgLSDQvtCx0YrQtdC60YIg0YEg0YjQuNGA0LjQvdC+0Lkg0Lgg0LLRi9GB0L7RgtC+0Lkg0LHQtdCz0YPQvdC60LBcbiAgICAgKi9cbiAgICBzZXRUaHVtYlNpemUodGh1bWJTaXplOiBJVGh1bWJTaXplKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHdpZHRoOiBudW1iZXIgPSAodGh1bWJTaXplLndpZHRoID49IDApID8gdGh1bWJTaXplLndpZHRoIDogMDtcbiAgICAgICAgY29uc3QgaGVpZ2h0OiBudW1iZXIgPSAodGh1bWJTaXplLmhlaWdodCA+PSAwKSA/IHRodW1iU2l6ZS5oZWlnaHQgOiAwO1xuXG4gICAgICAgIHRoaXMudGh1bWJTaXplID0geyAnd2lkdGgnOiB3aWR0aCwgJ2hlaWdodCc6IGhlaWdodCB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINGBINGI0LjRgNC40L3QvtC5INC4INCy0YvRgdC+0YLQvtC5INCx0LXQs9GD0L3QutCwXG4gICAgICogXG4gICAgICogQHJldHVybnMge0lTbGlkZXJTaXplfSAtINC+0LHRitC10LrRgiDRgSDRiNC40YDQuNC90L7QuSDQuCDQstGL0YHQvtGC0L7QuSDQsdC10LPRg9C90LrQsFxuICAgICAqL1xuICAgIGdldFRodW1iU2l6ZSgpOiBJU2xpZGVyU2l6ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRodW1iU2l6ZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINGE0LvQsNCzINCy0LjQtNC40LzQvtGB0YLQuCDQt9C90LDRh9C10L3QuNC5INC90LDQtCDQsdC10LPRg9C90LrQsNC80LhcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZpc2libGUgLSDRhNC70LDQsyDQstC40LTQuNC80L7RgdGC0Lgg0LfQvdCw0YfQtdC90LjQuSDQvdCw0LQg0LHQtdCz0YPQvdC60LDQvNC4XG4gICAgICovXG4gICAgc2V0VG9vbHRpcHNWaXNpYmxlKHZpc2libGU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy50b29sdGlwc1Zpc2libGUgPSB2aXNpYmxlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0YTQu9Cw0LMg0LLQuNC00LjQvNC+0YHRgtC4INC30L3QsNGH0LXQvdC40Lkg0L3QsNC0INCx0LXQs9GD0L3QutCw0LzQuFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtINGE0LvQsNCzINCy0LjQtNC40LzQvtGB0YLQuCDQt9C90LDRh9C10L3QuNC5INC90LDQtCDQsdC10LPRg9C90LrQsNC80LhcbiAgICAgKi9cbiAgICBnZXRUb29sdGlwc1Zpc2libGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXBzVmlzaWJsZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINGE0LvQsNCzINCy0LjQtNC40LzQvtGB0YLQuCDRiNC60LDQu9GLXG4gICAgICogXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2aXNpYmxlIC0g0YTQu9Cw0LMg0LLQuNC00LjQvNC+0YHRgtC4INGI0LrQsNC70YtcbiAgICAgKi9cbiAgICBzZXRTY2FsZVZpc2libGUodmlzaWJsZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLnNjYWxlVmlzaWJsZSA9IHZpc2libGU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDRhNC70LDQsyDQstC40LTQuNC80L7RgdGC0Lgg0YjQutCw0LvRi1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtINGE0LvQsNCzINCy0LjQtNC40LzQvtGB0YLQuCDRiNC60LDQu9GLXG4gICAgICovXG4gICAgZ2V0U2NhbGVWaXNpYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZVZpc2libGU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDQvNC40L3QuNC80LDQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LUg0Lgg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7RgtCy0LXRgiDQvtCxINGD0YHQv9C10YjQvdC+0YHRgtC4INC+0L/QtdGA0LDRhtC40LguXG4gICAgICog0JXRgdC70Lgg0L3QvtCy0L7QtSDQt9C90LDRh9C10L3QuNC1INC/0YDQtdCy0YvRiNCw0LXRgiDQvNCw0LrRgdC40LzQsNC70YzQvdC+0LUsINGC0L4g0L7QvdC+INC+0YHRgtCw0ZHRgtGB0Y8g0L/RgNC10LbQvdC40LwsINCwINC+0L/QtdGA0LDRhtC40Y8g0YHRh9C40YLQsNC10YLRgdGPINC90LUg0YPRgdC/0LXRiNC90L7QuS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmV3TWluIC0g0L3QvtCy0L7QtSDQvNC40L3QuNC80LDQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LUg0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqL1xuICAgIHNldE1pbihuZXdNaW46IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAobmV3TWluIDw9IHRoaXMubWF4KSB7XG4gICAgICAgICAgICB0aGlzLm1pbiA9IG5ld01pbjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0LzQuNC90LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1XG4gICAgICogXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSDQvNC40L3QuNC80LDQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LUg0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqL1xuICAgIGdldE1pbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5taW47XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDQvNCw0LrRgdC40LzQsNC70YzQvdC+0LUg0LfQvdCw0YfQtdC90LjQtSDQuCDQstC+0LfQstGA0LDRidCw0LXRgiDQvtGC0LLQtdGCINC+0LEg0YPRgdC/0LXRiNC90L7RgdGC0Lgg0L7Qv9C10YDQsNGG0LjQuC5cbiAgICAgKiDQldGB0LvQuCDQvdC+0LLQvtC1INC30L3QsNGH0LXQvdC40LUg0LzQtdC90YzRiNC1INC80LjQvdC40LzQsNC70YzQvdC+0LPQviwg0YLQviDQvtC90L4g0L7RgdGC0LDRkdGC0YHRjyDQv9GA0LXQttC90LjQvCwg0LAg0L7Qv9C10YDQsNGG0LjRjyDRgdGH0LjRgtCw0LXRgtGB0Y8g0L3QtSDRg9GB0L/QtdGI0L3QvtC5LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuZXdNYXggLSDQvdC+0LLQvtC1INC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKi9cbiAgICBzZXRNYXgobmV3TWF4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKG5ld01heCA+PSB0aGlzLm1pbikge1xuICAgICAgICAgICAgdGhpcy5tYXggPSBuZXdNYXg7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0LzQsNC60YHQuNC80LDQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtINC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKi9cbiAgICBnZXRNYXgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF4O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0KPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0YjQsNCzINCx0LXQs9GD0L3QutCwINC4INCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0YLQstC10YIg0L7QsSDRg9GB0L/QtdGI0L3QvtGB0YLQuCDQvtC/0LXRgNCw0YbQuNC4LlxuICAgICAqINCV0YHQu9C4INGI0LDQsyDQvtGC0YDQuNGG0LDRgtC10LvRjNC90YvQuSDQuNC70Lgg0YDQsNCy0LXQvSAwLCDRgtC+INC+0L0g0L7RgdGC0LDRkdGC0YHRjyDQv9GA0LXQttC90LjQvCwg0LAg0L7Qv9C10YDQsNGG0LjRjyDRgdGH0LjRgtCw0LXRgtGB0Y8g0L3QtSDRg9GB0L/QtdGI0L3QvtC5LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuZXdTdGVwIC0g0L3QvtCy0L7QtSDQt9C90LDRh9C10L3QuNC1INGI0LDQs9CwINGB0LvQsNC50LTQtdGA0LBcbiAgICAgKi9cbiAgICBzZXRTdGVwKG5ld1N0ZXA6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAobmV3U3RlcCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RlcCA9IG5ld1N0ZXA7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0LzQsNC60YHQuNC80LDQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtINC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKi9cbiAgICBnZXRTdGVwKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0ZXA7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDQv9C+0LfQuNGG0LjRjiDQsdC10LPRg9C90LrQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC4INCy0LXRgNGF0L3QtdCz0L4g0LrRgNCw0Y8g0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LAuXG4gICAgICog0JXRgdC70Lgg0L7QtNC90L4g0LjQtyDRgdCy0L7QudGB0YLQsiDQv9C10YDQtdC00LDQvdC90L7Qs9C+INC+0LHRitC10LrRgtCwINCx0L7Qu9GM0YjQtSDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC10LPQviDRgdCy0L7QudGB0YLQstCwINCy0YLQvtGA0L7Qs9C+INCx0LXQs9GD0L3QutCwINGB0LvQsNC50LTQtdGA0LAsIFxuICAgICAqINGC0L4g0L7QvdC+INC/0YDQuNGA0LDQstC90LjQstCw0LXRgtGB0Y8g0Log0Y3RgtC+0LzRgyDRgdCy0L7QudGB0YLQstGDXG4gICAgICog0JXRgdC70Lgg0L/RgNC4INC+0LTQuNC90L7Rh9C90L7QvCDRgNC10LbQuNC80LUg0L7QtNC90L4g0LjQtyDRgdCy0L7QudGB0YLQsiDQv9C10YDQtdC00LDQvdC90L7Qs9C+INC+0LHRitC10LrRgtCwINCy0YvRhdC+0LTQuNGCINC30LAg0LPRgNCw0L3QuNGG0Ysg0YHQu9Cw0LnQtNC10YDQsCxcbiAgICAgKiDRgtC+INC+0L3QviDQv9GA0LjRgNCw0LLQvdC40LLQsNC10YLRgdGPINC6INC80LDQutGB0LjQvNCw0LvRjNC90L4g0LTQvtC/0YPRgdGC0LjQvNC+0LzRgyDQt9C90LDRh9C10L3QuNGOINC+0LPRgNCw0L3QuNGH0LXQvdC90L7QvNGDINGA0LDQt9C80LXRgNCw0LzQuCDRgdC70LDQudC00LXRgNCwLlxuICAgICAqINCV0YHQu9C4INC+0LTQvdC+INC40Lcg0YHQstC+0LnRgdGC0LIg0L/QtdGA0LXQtNCw0L3QvdC+0LPQviDQvtCx0YrQtdC60YLQsCDQuNC80LXQtdGCINC+0YLRgNC40YbQsNGC0LXQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LUsINGC0L4g0L7QvdC+INC/0YDQuNGA0LDQstC90LjQstCw0LXRgtGB0Y8g0LogMFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SVRodW1iUG9zaXRpb259IHBvc2l0aW9uIC0g0L7QsdGK0LXQutGCINGB0L7QtNC10YDQttCw0YnQuNC5INC90L7QstGD0Y4g0L/QvtC30LjRhtC40Y4g0LHQtdCz0YPQvdC60LAg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INC70LXQstC+0LPQviDQuCDQstC10YDRhdC90LXQs9C+INC60YDQsNGPINGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC60L7QvdGC0LXQudC90LXRgNCwXG4gICAgICovXG4gICAgc2V0VGh1bWJPbmVQb3NpdGlvbihwb3NpdGlvbjogSVRodW1iUG9zaXRpb24pOiB2b2lkIHtcbiAgICAgICAgbGV0IGxlZnQ6IG51bWJlciA9IHRoaXMuZ2V0VGh1bWJPbmVQb3NpdGlvbigpLmxlZnQ7XG4gICAgICAgIGxldCB0b3A6IG51bWJlciA9IHRoaXMuZ2V0VGh1bWJPbmVQb3NpdGlvbigpLnRvcDtcblxuXG4gICAgICAgIGlmICghdGhpcy50aHVtYklzT3V0T2ZSYW5nZUhvcml6b250YWxseShwb3NpdGlvbikpIHtcbiAgICAgICAgICAgIGxlZnQgPSAocG9zaXRpb24ubGVmdCA+PSAwKSA/IHBvc2l0aW9uLmxlZnQgOiAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVmdCA9IHRoaXMudHlwZSA9PT0gJ3NpbmdsZScgP1xuICAgICAgICAgICAgICAgICh0aGlzLmdldFNsaWRlclNpemUoKS53aWR0aCAtIHRoaXMuZ2V0VGh1bWJTaXplKCkud2lkdGgpIDogdGhpcy5nZXRUaHVtYlR3b1Bvc2l0aW9uKCkubGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy50aHVtYklzT3V0T2ZSYW5nZVZlcnRpY2FsbHkocG9zaXRpb24pKSB7XG4gICAgICAgICAgICB0b3AgPSAocG9zaXRpb24udG9wID49IDApID8gcG9zaXRpb24udG9wIDogMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvcCA9IHRoaXMudHlwZSA9PT0gJ3NpbmdsZScgP1xuICAgICAgICAgICAgICAgICh0aGlzLmdldFNsaWRlclNpemUoKS5oZWlnaHQgLSB0aGlzLmdldFRodW1iU2l6ZSgpLmhlaWdodCkgOiB0aGlzLmdldFRodW1iVHdvUG9zaXRpb24oKS50b3A7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRodW1iT25lUG9zaXRpb24gPSB7ICdsZWZ0JzogbGVmdCwgJ3RvcCc6IHRvcCB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0J/RgNC+0LLQtdGA0Y/QtdGCINC90LUg0LLRi9GF0L7QtNC40YIg0LvQuCDQsdC10LPRg9C90L7QuiDQt9CwINC00L7Qv9GD0YHRgtC40LzRi9C1INC/0YDQtdC00LXQu9GLINC/0L4g0LPQvtGA0LjQt9C+0L3RgtCw0LvQuFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SVRodW1iUG9zaXRpb259IHBvc2l0aW9uIC0g0L7QsdGK0LXQutGCINGB0L7QtNC10YDQttCw0YnQuNC5INC90L7QstGD0Y4g0L/QvtC30LjRhtC40Y4g0LHQtdCz0YPQvdC60LAg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INC70LXQstC+0LPQviDQuCDQstC10YDRhdC90LXQs9C+INC60YDQsNGPINGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC60L7QvdGC0LXQudC90LXRgNCwXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0g0YTQu9Cw0LMg0LLRi9GF0L7QtNCwINCx0LXQs9GD0L3QutCwINC30LAg0LTQvtC/0YPRgdGC0LjQvNGL0LUg0L/RgNC10LTQtdC70Ysg0L/QviDQs9C+0YDQuNC30L7QvdGC0LDQu9C4XG4gICAgICovXG4gICAgcHJpdmF0ZSB0aHVtYklzT3V0T2ZSYW5nZUhvcml6b250YWxseShwb3NpdGlvbjogSVRodW1iUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEodGhpcy50eXBlID09PSAnc2luZ2xlJyAmJlxuICAgICAgICAgICAgcG9zaXRpb24ubGVmdCA8PSAodGhpcy5nZXRTbGlkZXJTaXplKCkud2lkdGggLSB0aGlzLmdldFRodW1iU2l6ZSgpLndpZHRoKSB8fFxuICAgICAgICAgICAgcG9zaXRpb24ubGVmdCA8PSB0aGlzLmdldFRodW1iVHdvUG9zaXRpb24oKS5sZWZ0KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCf0YDQvtCy0LXRgNGP0LXRgiDQvdC1INCy0YvRhdC+0LTQuNGCINC70Lgg0LHQtdCz0YPQvdC+0Log0LfQsCDQtNC+0L/Rg9GB0YLQuNC80YvQtSDQv9GA0LXQtNC10LvRiyDQv9C+INCy0LXRgNGC0LjQutCw0LvQuFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SVRodW1iUG9zaXRpb259IHBvc2l0aW9uIC0g0L7QsdGK0LXQutGCINGB0L7QtNC10YDQttCw0YnQuNC5INC90L7QstGD0Y4g0L/QvtC30LjRhtC40Y4g0LHQtdCz0YPQvdC60LAg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INC70LXQstC+0LPQviDQuCDQstC10YDRhdC90LXQs9C+INC60YDQsNGPINGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC60L7QvdGC0LXQudC90LXRgNCwXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0g0YTQu9Cw0LMg0LLRi9GF0L7QtNCwINCx0LXQs9GD0L3QutCwINC30LAg0LTQvtC/0YPRgdGC0LjQvNGL0LUg0L/RgNC10LTQtdC70Ysg0L/QviDQstC10YDRgtC40LrQsNC70LhcbiAgICAgKi9cbiAgICBwcml2YXRlIHRodW1iSXNPdXRPZlJhbmdlVmVydGljYWxseShwb3NpdGlvbjogSVRodW1iUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEodGhpcy50eXBlID09PSAnc2luZ2xlJyAmJlxuICAgICAgICAgICAgcG9zaXRpb24udG9wIDw9ICh0aGlzLmdldFNsaWRlclNpemUoKS5oZWlnaHQgLSB0aGlzLmdldFRodW1iU2l6ZSgpLmhlaWdodCkgfHxcbiAgICAgICAgICAgIHBvc2l0aW9uLnRvcCA8PSB0aGlzLmdldFRodW1iVHdvUG9zaXRpb24oKS50b3ApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0L/QvtC30LjRhtC40Y4g0LHQtdCz0YPQvdC60LAg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INC70LXQstC+0LPQviDQuCDQstC10YDRhdC90LXQs9C+INC60YDQsNGPINGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC60L7QvdGC0LXQudC90LXRgNCwXG4gICAgICogXG4gICAgICogQHJldHVybnMge0lUaHVtYlBvc2l0aW9ufSAtINC+0LHRitC10LrRgiDRgdC+0LTQtdGA0LbQsNGJ0LjQuSDQv9C+0LfQuNGG0LjRjiDQsdC10LPRg9C90LrQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC4INCy0LXRgNGF0L3QtdCz0L4g0LrRgNCw0Y8g0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LBcbiAgICAgKi9cbiAgICBnZXRUaHVtYk9uZVBvc2l0aW9uKCk6IElUaHVtYlBvc2l0aW9uIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGh1bWJPbmVQb3NpdGlvbjtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINC/0L7Qt9C40YbQuNGOINCx0LXQs9GD0L3QutCwINC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QviDQu9C10LLQvtCz0L4g0Lgg0LLQtdGA0YXQvdC10LPQviDQutGA0LDRjyDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LPQviDQutC+0L3RgtC10LnQvdC10YDQsC5cbiAgICAgKiDQldGB0LvQuCDQvtC00L3QviDQuNC3INGB0LLQvtC50YHRgtCyINC/0LXRgNC10LTQsNC90L3QvtCz0L4g0L7QsdGK0LXQutGC0LAg0LzQtdC90YzRiNC1INGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LXQs9C+INGB0LLQvtC50YHRgtCy0LAg0L/QtdGA0LLQvtCz0L4g0LHQtdCz0YPQvdC60LAsINGC0L4g0L7QvdC+INC/0YDQuNGA0LDQstC90LjQstCw0LXRgtGB0Y8g0Log0Y3RgtC+0LzRgyDRgdCy0L7QudGB0YLQstGDLlxuICAgICAqINCV0YHQu9C4INC+0LTQvdC+INC40Lcg0YHQstC+0LnRgdGC0LIg0L/QtdGA0LXQtNCw0L3QvdC+0LPQviDQvtCx0YrQtdC60YLQsCDQv9GA0LXQstGL0YjQsNC10YIg0LzQsNC60YHQuNC80LDQu9GM0L3QviDQstC+0LfQvNC+0LbQvdGD0Y4g0L/QvtC30LjRhtC40Y4g0LHQtdCz0YPQvdC60LAsINC+0LPRgNCw0L3QuNGH0LXQvdC90YPRjiDRgNCw0LfQvNC10YDQsNC80Lgg0YHQu9Cw0LnQtNC10YDQsCxcbiAgICAgKiDRgtC+INC+0L3QviDQv9GA0LjRgNCw0LLQvdC40LLQsNC10YLRgdGPINC6INGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LXQvNGDINGB0LLQvtC50YHRgtCy0YMg0L/QvtGB0LvQtdC00L3QtdC5INC60L7RgNGA0LXQutGC0L3QvtC5INC/0L7Qt9C40YbQuNC4XG4gICAgICogXG4gICAgICogQHBhcmFtIHtJVGh1bWJQb3NpdGlvbn0gcG9zaXRpb24gLSDQvtCx0YrQtdC60YIg0YHQvtC00LXRgNC20LDRidC40Lkg0L3QvtCy0YPRjiDQv9C+0LfQuNGG0LjRjiDQsdC10LPRg9C90LrQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC4INCy0LXRgNGF0L3QtdCz0L4g0LrRgNCw0Y8g0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LBcbiAgICAgKi9cbiAgICBzZXRUaHVtYlR3b1Bvc2l0aW9uKHBvc2l0aW9uOiBJVGh1bWJQb3NpdGlvbik6IHZvaWQge1xuICAgICAgICBsZXQgbGVmdDogbnVtYmVyID0gdGhpcy5nZXRUaHVtYlR3b1Bvc2l0aW9uKCkubGVmdDtcbiAgICAgICAgbGV0IHRvcDogbnVtYmVyID0gdGhpcy5nZXRUaHVtYlR3b1Bvc2l0aW9uKCkudG9wO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbi5sZWZ0ID49IHRoaXMuZ2V0VGh1bWJPbmVQb3NpdGlvbigpLmxlZnQpIHtcbiAgICAgICAgICAgIGxlZnQgPSAocG9zaXRpb24ubGVmdCA8PSAodGhpcy5nZXRTbGlkZXJTaXplKCkud2lkdGggLSB0aGlzLmdldFRodW1iU2l6ZSgpLndpZHRoKSkgPyBwb3NpdGlvbi5sZWZ0IDogKHRoaXMuZ2V0U2xpZGVyU2l6ZSgpLndpZHRoIC0gdGhpcy5nZXRUaHVtYlNpemUoKS53aWR0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZWZ0ID0gdGhpcy5nZXRUaHVtYk9uZVBvc2l0aW9uKCkubGVmdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb24udG9wID49IHRoaXMuZ2V0VGh1bWJPbmVQb3NpdGlvbigpLnRvcCkge1xuICAgICAgICAgICAgdG9wID0gKHBvc2l0aW9uLnRvcCA8PSAodGhpcy5nZXRTbGlkZXJTaXplKCkuaGVpZ2h0IC0gdGhpcy5nZXRUaHVtYlNpemUoKS5oZWlnaHQpKSA/IHBvc2l0aW9uLnRvcCA6ICh0aGlzLmdldFNsaWRlclNpemUoKS5oZWlnaHQgLSB0aGlzLmdldFRodW1iU2l6ZSgpLmhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b3AgPSB0aGlzLmdldFRodW1iT25lUG9zaXRpb24oKS50b3A7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRodW1iVHdvUG9zaXRpb24gPSB7ICdsZWZ0JzogbGVmdCwgJ3RvcCc6IHRvcCB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQv9C+0LfQuNGG0LjRjiDQsdC10LPRg9C90LrQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC4INCy0LXRgNGF0L3QtdCz0L4g0LrRgNCw0Y8g0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LBcbiAgICAqIFxuICAgICogQHJldHVybnMge0lUaHVtYlBvc2l0aW9ufSAtINC+0LHRitC10LrRgiDRgdC+0LTQtdGA0LbQsNGJ0LjQuSDQv9C+0LfQuNGG0LjRjiDQsdC10LPRg9C90LrQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC4INCy0LXRgNGF0L3QtdCz0L4g0LrRgNCw0Y8g0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LBcbiAgICAqL1xuICAgIGdldFRodW1iVHdvUG9zaXRpb24oKTogSVRodW1iUG9zaXRpb24ge1xuICAgICAgICByZXR1cm4gdGhpcy50aHVtYlR3b1Bvc2l0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINGA0LDQt9C80LXRgCDQvtC00L3QvtCz0L4g0LTQtdC70LXQvdC40Y8g0YjQutCw0LvRi1xuICAgICAqIEBwYXJhbSB7SVNjYWxlUG9pbnRTaXplfSBzY2FsZVBvaW50U2l6ZVxuICAgICAqL1xuICAgIHNldFNjYWxlUG9pbnRTaXplKHNjYWxlUG9pbnRTaXplOiBJU2NhbGVQb2ludFNpemUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zY2FsZVBvaW50U2l6ZSA9IHNjYWxlUG9pbnRTaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGA0LDQt9C80LXRgCDQvtC00L3QvtCz0L4g0LTQtdC70LXQvdC40Y8g0YjQutCw0LvRi1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtJU2NhbGVQb2ludFNpemV9IC0g0L7QsdGK0LXQutGCINGBINGI0LjRgNC40L3QvtC5INC4INCy0YvRgdC+0YLQvtC5INC+0LTQvdC+0LPQviDQtNC10LvQtdC90LjRjyDRiNC60LDQu9GLXG4gICAgICovXG4gICAgZ2V0U2NhbGVQb2ludFNpemUoKTogSVNjYWxlUG9pbnRTaXplIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVQb2ludFNpemU7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGVsRGF0YTsiLCJpbXBvcnQgeyBJVGh1bWJQb3NpdGlvbiwgSVRvb2x0aXBQb3NpdGlvbiB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSVByb2dyZXNzQmFyUG9zaXRpb24gfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IElTY2FsZVBvaW50U2l6ZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSVNjYWxlUG9pbnRTZXR0aW5ncyB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSVNjYWxlU2l6ZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSUJvcmRlckNvb3JkcyB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSUNvb3Jkc0Zvck1hcmdpbnMgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IElTbGlkZXJNYXJnaW5zIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5cbmltcG9ydCBPYnNlcnZlciBmcm9tICcuLi9vYnNlcnZlci9vYnNlcnZlcic7XG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vc2xpZGVyJztcbmltcG9ydCBUcmFjayBmcm9tICcuL3RyYWNrJztcbmltcG9ydCBUaHVtYiBmcm9tICcuL3RodW1iJztcbmltcG9ydCBUb29sdGlwIGZyb20gJy4vdG9vbHRpcCc7XG5pbXBvcnQgUHJvZ3Jlc3NCYXIgZnJvbSAnLi9wcm9ncmVzc0Jhcic7XG5pbXBvcnQgU2NhbGUgZnJvbSAnLi9zY2FsZSc7XG5pbXBvcnQgRWxlbWVudEZhY3RvcnkgZnJvbSAnLi9lbGVtZW50RmFjdG9yeSc7XG5cbmNsYXNzIFZpZXcge1xuICAgIHByaXZhdGUgb2JzZXJ2ZXI6IE9ic2VydmVyO1xuICAgIHByaXZhdGUgc2xpZGVyOiBTbGlkZXIgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIHRyYWNrOiBUcmFjayB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgdGh1bWJPbmU6IFRodW1iIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSB0aHVtYlR3bzogVGh1bWIgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIHRvb2x0aXBPbmU6IFRvb2x0aXAgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIHRvb2x0aXBUd286IFRvb2x0aXAgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIHByb2dyZXNzQmFyOiBQcm9ncmVzc0JhciB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgc2NhbGU6IFNjYWxlIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSBlbGVtZW50RmFjdG9yeTogRWxlbWVudEZhY3Rvcnk7XG4gICAgcHJpdmF0ZSBzbGlkZXJXcmFwcGVyOiBIVE1MRGl2RWxlbWVudDtcblxuXG4gICAgY29uc3RydWN0b3Iob2JzZXJ2ZXI6IE9ic2VydmVyLCBzbGlkZXJXcmFwcGVyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuc2xpZGVyV3JhcHBlciA9IHNsaWRlcldyYXBwZXIgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZWxlbWVudEZhY3RvcnkgPSBuZXcgRWxlbWVudEZhY3RvcnkoKTtcbiAgICAgICAgdGhpcy5hZGRXaW5kb3dSZXNpemVFdmVudExpc3RlbmVyKCk7XG5cbiAgICAgICAgdGhpcy5vYnNlcnZlci5zdWJzY3JpYmUoJ2NoYW5nZVpJbmRleFRvQW5vdGhlclRodW1iJywgKHRodW1iRWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRodW1iT25lICE9PSBudWxsICYmIHRoaXMudGh1bWJUd28gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGh1bWJFbGVtLmlzRXF1YWxOb2RlKHRoaXMudGh1bWJPbmUuZ2V0RWxlbWVudCgpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRodW1iVHdvLnNldFpJbmRleCgnMicpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aHVtYk9uZS5zZXRaSW5kZXgoJzInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pOyAgICAgICAgXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQlNC+0LHQsNCy0LvRj9C10YIg0YHQvtCx0YvRgtC40LUg0L3QsCDQuNC30LzQtdC90LXQvdC40LUg0YDQsNC30LzQtdGA0LAg0L7QutC90LBcbiAgICAgKi9cbiAgICBwcml2YXRlIGFkZFdpbmRvd1Jlc2l6ZUV2ZW50TGlzdGVuZXIoKTogdm9pZCB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLndpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCe0LHRgNCw0LHQvtGC0LrQsCDQuNC30LzQtdC90LXQvdC40Y8g0YDQsNC30LzQtdGA0LAg0L7QutC90LBcbiAgICAgKi9cbiAgICBwcml2YXRlIHdpbmRvd1Jlc2l6ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5ub3RpZnkoJ3NsaWRlclJlc2l6ZWQnLCBudWxsKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCc0LXRgtC+0LQg0LLRi9C/0L7Qu9C90Y/QtdGCINGB0LvQtdC00YPRjtGJ0LjQtSDQtNC10LnRgdGC0LLQuNGPOlxuICAgICAqIDEuINCh0L7Qt9C00LDRkdGCINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgU2xpZGVyXG4gICAgICogMi4g0KHQvtC30LTQsNGR0YIgZGl2INC60L7QvdGC0LXQudC90LXRgCDRgSDQutC70LDRgdGB0LDQvNC4IHN0eWxlQ2xhc3NlcyDQtNC70Y8g0LrQvtC80L/QvtC90L7QstC60Lgg0Y3Qu9C10LzQtdC90YLQvtCyINGB0LvQsNC50LTQtdGA0LAg0Lgg0YDQsNC30LzQtdGJ0LDQtdGCINC10LPQviDQsiBET01cbiAgICAgKiAzLiDQo9Cy0LXQtNC+0LzQu9GP0LXRgiDRgdCy0L7QuNGFINGB0LvRg9GI0LDRgtC10LvQtdC5INC+INGC0L7QvCwg0YfRgtC+INGB0L7Qt9C00LDQvSDQutC+0L3RgtC10LnQvdC10YAg0YHQu9Cw0LnQtNC10YDQsCDQuCDQv9C10YDQtdC00LDRkdGCINCyINGB0L7QvtCx0YnQtdC90LjQuCDQtdCz0L4g0YDQsNC30LzQtdGA0YtcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVDbGFzc2VzIC0g0LrQu9Cw0YHRgdGLINC00LvRjyDQutC+0L3RgtC10LnQvdC10YDQsCDRjdC70LXQvNC10L3RgtC+0LIg0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqL1xuICAgIGNyZWF0ZVNsaWRlcihzdHlsZUNsYXNzZXM6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnNsaWRlciA9IHRoaXMuZWxlbWVudEZhY3RvcnkuY3JlYXRlU2xpZGVyKHRoaXMuc2xpZGVyV3JhcHBlciwgc3R5bGVDbGFzc2VzKTtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5ub3RpZnkoJ3NsaWRlckVsZW1lbnRJc0NyZWF0ZWQnLCB0aGlzLnNsaWRlci5nZXRTaXplKCkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JzQtdGC0L7QtCDQstGL0L/QvtC70L3Rj9C10YIg0YHQu9C10LTRg9GO0YnQuNC1INC00LXQudGB0YLQstC40Y86XG4gICAgICogMS4g0KHQvtC30LTQsNGR0YIg0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCBUcmFja1xuICAgICAqIDIuINCh0L7Qt9C00LDRkdGCINC00L7RgNC+0LbQutGDINGB0LvQsNC50LTQtdGA0LAg0LIg0LLQuNC00LUgZGl2INC60L7QvdGC0LXQudC90LXRgNCwINGBINC60LvQsNGB0YHQsNC80Lggc3R5bGVDbGFzc2VzXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlQ2xhc3NlcyAtINC60LvQsNGB0YHRiyDQtNC70Y8g0LrQvtC90YLQtdC50L3QtdGA0LAg0Y3Qu9C10LzQtdC90YLQvtCyINGB0LvQsNC50LTQtdGA0LBcbiAgICAgKi9cbiAgICBjcmVhdGVUcmFjayhzdHlsZUNsYXNzZXM6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zbGlkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy50cmFjayA9IHRoaXMuZWxlbWVudEZhY3RvcnkuY3JlYXRlVHJhY2sodGhpcy5zbGlkZXIuZ2V0RWxlbWVudCgpLCBzdHlsZUNsYXNzZXMsIHRoaXMub2JzZXJ2ZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQnNC10YLQvtC0INCy0YvQv9C+0LvQvdGP0LXRgiDRgdC70LXQtNGD0Y7RidC40LUg0LTQtdC50YHRgtCy0LjRjzpcbiAgICAgKiAxLiDQodC+0LfQtNCw0ZHRgiDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFRodW1iXG4gICAgICogMi4g0KHQvtC30LTQsNGR0YIg0LHQtdCz0YPQvdC+0Log0LIg0LLQuNC00LUgZGl2INC60L7QvdGC0LXQudC90LXRgNCwINGBINC60LvQsNGB0YHQsNC80Lggc3R5bGVDbGFzc2VzXG4gICAgICogMy4g0KPQstC10LTQvtC80LvRj9C10YIg0YHQstC+0LjRhSDRgdC70YPRiNCw0YLQtdC70LXQuSDQviDRgtC+0LwsINGH0YLQviDRgdC+0LfQtNCw0L0g0LHQtdCz0YPQvdC+0Log0Lgg0L/QtdGA0LXQtNCw0ZHRgiDQsiDRgdC+0L7QsdGJ0LXQvdC40Lgg0LXQs9C+INGA0LDQt9C80LXRgNGLXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlQ2xhc3NlcyAtINC60LvQsNGB0YHRiyDQtNC70Y8g0LHQtdCz0YPQvdC60LBcbiAgICAgKi9cbiAgICBjcmVhdGVUaHVtYk9uZShzdHlsZUNsYXNzZXM6IHN0cmluZyk6IHZvaWQgeyAgXG4gICAgICAgIGlmICh0aGlzLnNsaWRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnRodW1iT25lID0gdGhpcy5lbGVtZW50RmFjdG9yeS5jcmVhdGVUaHVtYih0aGlzLnNsaWRlci5nZXRFbGVtZW50KCksIHN0eWxlQ2xhc3NlcywgdGhpcy5vYnNlcnZlcik7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLm5vdGlmeSgndGh1bWJPbmVJc0NyZWF0ZWQnLCB0aGlzLnRodW1iT25lLmdldFNpemUoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCc0LXRgtC+0LQg0LLRi9C/0L7Qu9C90Y/QtdGCINGB0LvQtdC00YPRjtGJ0LjQtSDQtNC10LnRgdGC0LLQuNGPOlxuICAgICAqIDEuINCh0L7Qt9C00LDRkdGCINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgVGh1bWJcbiAgICAgKiAyLiDQodC+0LfQtNCw0ZHRgiDQsdC10LPRg9C90L7QuiDQsiDQstC40LTQtSBkaXYg0LrQvtC90YLQtdC50L3QtdGA0LAg0YEg0LrQu9Cw0YHRgdCw0LzQuCBzdHlsZUNsYXNzZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVDbGFzc2VzIC0g0LrQu9Cw0YHRgdGLINC00LvRjyDQsdC10LPRg9C90LrQsFxuICAgICAqL1xuICAgIGNyZWF0ZVRodW1iVHdvKHN0eWxlQ2xhc3Nlczogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnNsaWRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnRodW1iVHdvID0gdGhpcy5lbGVtZW50RmFjdG9yeS5jcmVhdGVUaHVtYih0aGlzLnNsaWRlci5nZXRFbGVtZW50KCksIHN0eWxlQ2xhc3NlcywgdGhpcy5vYnNlcnZlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCc0LXRgtC+0LQg0LLRi9C/0L7Qu9C90Y/QtdGCINGB0LvQtdC00YPRjtGJ0LjQtSDQtNC10LnRgdGC0LLQuNGPOlxuICAgICAqIDEuINCh0L7Qt9C00LDRkdGCINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgVG9vbHRpcFxuICAgICAqIDIuINCh0L7Qt9C00LDRkdGCIGRpdiDQutC+0L3RgtC10LnQvdC10YAg0YEg0LrQu9Cw0YHRgdCw0LzQuCBzdHlsZUNsYXNzZXMg0LTQu9GPINC+0L7QsdGA0LDQttC10L3QuNGPINC30L3QsNGH0LXQvdC40Lkg0L3QsNC0INCx0LXQs9GD0L3QutCw0LzQuFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZUNsYXNzZXMgLSDQutC70LDRgdGB0Ysg0LTQu9GPINGB0L7Qt9C00LDQstCw0LXQvNC+0LPQviDRjdC70LXQvNC10L3RgtCwXG4gICAgICovXG4gICAgY3JlYXRlVG9vbHRpcE9uZShzdHlsZUNsYXNzZXM6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zbGlkZXIgIT0gbnVsbCAmJiB0aGlzLnRodW1iT25lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcE9uZSA9IHRoaXMuZWxlbWVudEZhY3RvcnkuY3JlYXRlVG9vbHRpcCh0aGlzLnNsaWRlci5nZXRFbGVtZW50KCksIHN0eWxlQ2xhc3Nlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCc0LXRgtC+0LQg0LLRi9C/0L7Qu9C90Y/QtdGCINGB0LvQtdC00YPRjtGJ0LjQtSDQtNC10LnRgdGC0LLQuNGPOlxuICAgICAqIDEuINCh0L7Qt9C00LDRkdGCINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgVG9vbHRpcFxuICAgICAqIDIuINCh0L7Qt9C00LDRkdGCIGRpdiDQutC+0L3RgtC10LnQvdC10YAg0YEg0LrQu9Cw0YHRgdCw0LzQuCBzdHlsZUNsYXNzZXMg0LTQu9GPINC+0L7QsdGA0LDQttC10L3QuNGPINC30L3QsNGH0LXQvdC40Lkg0L3QsNC0INCx0LXQs9GD0L3QutCw0LzQuFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZUNsYXNzZXMgLSDQutC70LDRgdGB0Ysg0LTQu9GPINGB0L7Qt9C00LDQstCw0LXQvNC+0LPQviDRjdC70LXQvNC10L3RgtCwXG4gICAgICovXG4gICAgY3JlYXRlVG9vbHRpcFR3byhzdHlsZUNsYXNzZXM6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zbGlkZXIgIT0gbnVsbCAmJiB0aGlzLnRodW1iVHdvICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcFR3byA9IHRoaXMuZWxlbWVudEZhY3RvcnkuY3JlYXRlVG9vbHRpcCh0aGlzLnNsaWRlci5nZXRFbGVtZW50KCksIHN0eWxlQ2xhc3Nlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCc0LXRgtC+0LQg0LLRi9C/0L7Qu9C90Y/QtdGCINGB0LvQtdC00YPRjtGJ0LjQtSDQtNC10LnRgdGC0LLQuNGPOlxuICAgICAqIDEuINCh0L7Qt9C00LDRkdGCINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgUHJvZ3Jlc3NCYXJcbiAgICAgKiAyLiDQodC+0LfQtNCw0ZHRgiDQv9GA0L7Qs9GA0LXRgdGBINCx0LDRgCDQsiDQstC40LTQtSBkaXYg0LrQvtC90YLQtdC50L3QtdGA0LAg0YEg0LrQu9Cw0YHRgdCw0LzQuCBzdHlsZUNsYXNzZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVDbGFzc2VzIC0g0LrQu9Cw0YHRgdGLINC00LvRjyDRgdC+0LfQtNCw0LLQsNC10LzQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsFxuICAgICAqL1xuICAgIGNyZWF0ZVByb2dyZXNzQmFyKHN0eWxlQ2xhc3Nlczogc3RyaW5nKTogdm9pZCB7XG5cbiAgICAgICAgaWYgKHRoaXMuc2xpZGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSB0aGlzLmVsZW1lbnRGYWN0b3J5LmNyZWF0ZVByb2dyZXNzQmFyKHRoaXMuc2xpZGVyLmdldEVsZW1lbnQoKSwgc3R5bGVDbGFzc2VzKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQnNC10YLQvtC0INCy0YvQv9C+0LvQvdGP0LXRgiDRgdC70LXQtNGD0Y7RidC40LUg0LTQtdC50YHRgtCy0LjRjzpcbiAgICAgKiAxLiDQodC+0LfQtNCw0ZHRgiDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFNjYWxlXG4gICAgICogMi4g0KHQvtC30LTQsNGR0YIg0YjQutCw0LvRgyDQsiDQstC40LTQtSBkaXYg0LrQvtC90YLQtdC50L3QtdGA0LAg0YEg0LrQu9Cw0YHRgdCw0LzQuCBzdHlsZUNsYXNzZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVDbGFzc2VzIC0g0LrQu9Cw0YHRgdGLINC00LvRjyDRgdC+0LfQtNCw0LLQsNC10LzQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsFxuICAgICAqL1xuICAgIGNyZWF0ZVNjYWxlKHN0eWxlQ2xhc3Nlczogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnNsaWRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlID0gdGhpcy5lbGVtZW50RmFjdG9yeS5jcmVhdGVTY2FsZSh0aGlzLnNsaWRlci5nZXRFbGVtZW50KCksIHN0eWxlQ2xhc3NlcywgdGhpcy5vYnNlcnZlcik7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLm5vdGlmeSgnc2NhbGVJc0NyZWF0ZWQnLCBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQmNC30LzQtdC90Y/QtdGCINC/0L7Qt9C40YbQuNGOINC/0LXRgNCy0L7Qs9C+INCx0LXQs9GD0L3QutCwXG4gICAgICogXG4gICAgICogQHBhcmFtIHtJVGh1bWJQb3NpdGlvbn0gcG9zaXRpb24gLSDQv9C+0LfQuNGG0LjRjyDQvdCwINC60L7RgtC+0YDRg9GOINC90LXQvtCx0YXQvtC00LjQvNC+INC/0LXRgNC10LTQstC40L3Rg9GC0Ywg0LHQtdCz0YPQvdC+0LpcbiAgICAgKi9cbiAgICBtb3ZlVGh1bWJPbmUocG9zaXRpb246IElUaHVtYlBvc2l0aW9uKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRodW1iT25lICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnRodW1iT25lLm1vdmVUbyhwb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG5cbiAgICAvKipcbiAgICAgKiDQmNC30LzQtdC90Y/QtdGCINC/0L7Qt9C40YbQuNGOINC30L3QsNGH0LXQvdC40Y8g0L3QsNC0INC/0LXRgNCy0YvQvCDQsdC10LPRg9C90LrQvtC8XG4gICAgICogXG4gICAgICogQHBhcmFtIHtJVG9vbHRpcFBvc2l0aW9ufSBwb3NpdGlvbiAtINC/0L7Qt9C40YbQuNGPINC30L3QsNGH0LXQvdC40Y8g0L3QsNC0INCx0LXQs9GD0L3QutC+0LxcbiAgICAgKi9cbiAgICBtb3ZlVG9vbHRpcE9uZShwb3NpdGlvbjogSVRodW1iUG9zaXRpb24pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMudG9vbHRpcE9uZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy50b29sdGlwT25lLm1vdmVUbyhwb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0LHRitC10LrRgiDRgSDQutC+0L7RgNC00LjQvdCw0YLQsNC80Lgg0LPRgNCw0L3QuNGGINGB0LvQsNC50LTQtdGA0LAsINGI0LrQsNC70Ysg0Lgg0Y3Qu9C10LzQtdC90YLQsCDRgdC+INC30L3QsNGH0LXQvdC40LXQvCDQv9C+0LfQuNGG0LjQuCDQsdC10LPRg9C90LrQsFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtJQ29vcmRzRm9yTWFyZ2luc30gLSDQvtCx0YrQtdC60YIg0YEg0LrQvtC+0YDQtNC40L3QsNGC0LDQvNC4INCz0YDQsNC90LjRhiDRgdC70LDQudC00LXRgNCwLCDRiNC60LDQu9GLINC4INGN0LvQtdC80LXQvdGC0LAg0YHQviDQt9C90LDRh9C10L3QuNC10Lwg0L/QvtC30LjRhtC40Lgg0LHQtdCz0YPQvdC60LBcbiAgICAgKi9cbiAgICBnZXRDb29yZHNGb3JNYXJnaW5zKCk6IElDb29yZHNGb3JNYXJnaW5zIHtcbiAgICAgICAgbGV0IHNsaWRlckNvb3JkczogSUJvcmRlckNvb3JkcyB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgdG9vbHRpcE9uZUNvb3JkczogSUJvcmRlckNvb3JkcyB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgc2NhbGVDb29yZHM6IElCb3JkZXJDb29yZHMgfCBudWxsID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5zbGlkZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHNsaWRlckNvb3JkcyA9IHRoaXMuc2xpZGVyLmdldENvb3JkcygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRvb2x0aXBPbmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRvb2x0aXBPbmVDb29yZHMgPSB0aGlzLnRvb2x0aXBPbmUuZ2V0Q29vcmRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2NhbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHNjYWxlQ29vcmRzID0gdGhpcy5zY2FsZS5nZXRDb29yZHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnc2xpZGVyQ29vcmRzJzogc2xpZGVyQ29vcmRzLFxuICAgICAgICAgICAgJ3Rvb2x0aXBDb29yZHMnOiB0b29sdGlwT25lQ29vcmRzLFxuICAgICAgICAgICAgJ3NjYWxlQ29vcmRzJzogc2NhbGVDb29yZHNcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFNsaWRlck1hcmdpbnMobWFyZ2luczogSVNsaWRlck1hcmdpbnMpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc2xpZGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNsaWRlci5zZXRNYXJnaW5zKG1hcmdpbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQmNC30LzQtdC90Y/QtdGCINCy0YHQv9C70YvQstCw0Y7RidC10LUg0LfQvdCw0YfQtdC90LjQtSDQvdCw0LQg0L/QtdGA0LLRi9C8INCx0LXQs9GD0L3QutC+0LxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmV3VmFsdWUgLSDQt9C90LDRh9C10L3QuNC1INC90LDQtCDQv9C10YDQstGL0Lwg0LHQtdCz0YPQvdC60L7QvFxuICAgICAqL1xuICAgIHRvb2x0aXBPbmVTZXRWYWx1ZShuZXdWYWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRvb2x0aXBPbmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcE9uZS5zZXRWYWx1ZShuZXdWYWx1ZSlcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JjQt9C80LXQvdGP0LXRgiDQv9C+0LfQuNGG0LjRjiDQstGC0L7RgNC+0LPQviDQsdC10LPRg9C90LrQsFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SVRodW1iUG9zaXRpb259IHBvc2l0aW9uIC0g0L/QvtC30LjRhtC40Y8g0L3QsCDQutC+0YLQvtGA0YPRjiDQvdC10L7QsdGF0L7QtNC40LzQviDQv9C10YDQtdC00LLQuNC90YPRgtGMINCx0LXQs9GD0L3QvtC6XG4gICAgICovXG4gICAgbW92ZVRodW1iVHdvKHBvc2l0aW9uOiBJVGh1bWJQb3NpdGlvbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy50aHVtYlR3byAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnRodW1iVHdvLm1vdmVUbyhwb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCY0LfQvNC10L3Rj9C10YIg0L/QvtC30LjRhtC40Y4g0LfQvdCw0YfQtdC90LjRjyDQvdCw0LQg0LLRgtC+0YDRi9C8INCx0LXQs9GD0L3QutC+0LxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lUb29sdGlwUG9zaXRpb259IHBvc2l0aW9uIC0g0L/QvtC30LjRhtC40Y8g0LfQvdCw0YfQtdC90LjRjyDQvdCw0LQg0LHQtdCz0YPQvdC60L7QvFxuICAgICAqL1xuICAgIG1vdmVUb29sdGlwVHdvKHBvc2l0aW9uOiBJVG9vbHRpcFBvc2l0aW9uKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRvb2x0aXBUd28gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcFR3by5tb3ZlVG8ocG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQmNC30LzQtdC90Y/QtdGCINCy0YHQv9C70YvQstCw0Y7RidC10LUg0LfQvdCw0YfQtdC90LjQtSDQvdCw0LQg0LLRgtC+0YDRi9C8INCx0LXQs9GD0L3QutC+0LxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmV3VmFsdWUgLSDQt9C90LDRh9C10L3QuNC1INC90LDQtCDQv9C10YDQstGL0Lwg0LHQtdCz0YPQvdC60L7QvFxuICAgICAqL1xuICAgIHRvb2x0aXBUd29TZXRWYWx1ZShuZXdWYWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRvb2x0aXBUd28gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcFR3by5zZXRWYWx1ZShuZXdWYWx1ZSlcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JjQt9C80LXQvdGP0LXRgiDQv9C+0LfQuNGG0LjRjiDQv9GA0L7Qs9GA0LXRgdGB0LHQsNGA0LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lQcm9ncmVzc0JhclBvc2l0aW9ufSBwcm9ncmVzc1Bvc2l0aW9uIC0g0L7QsdGK0LXQutGCINGBINC/0L7Qt9C40YbQuNC10Lkg0L/RgNC+0LPRgNC10YHRgSDQsdCw0YDQsC4g0KHQvtC00LXRgNC20LjRgiDRgdCy0LXQtNC10L3QuNGPINC+0LEg0L7RgNC40LXQvdGC0LDRhtC40LgsXG4gICAgICog0YLQvtGH0LrQtSDQvdCw0YfQsNC70LAg0Lgg0YjQuNGA0LjQvdC1ICjQuNC70Lgg0LLRi9GB0L7RgtC1LCDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0L7RgNC40LXQvdGC0LDRhtC40Lgg0YHQu9Cw0LnQtNC10YDQsCkg0L/RgNC+0LPRgNC10YHRgSDQsdCw0YDQsFxuICAgICAqL1xuICAgIHNldFByb2dyZXNzQmFyUG9zaXRpb24ocHJvZ3Jlc3NQb3NpdGlvbjogSVByb2dyZXNzQmFyUG9zaXRpb24pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3NCYXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0UG9zaXRpb24ocHJvZ3Jlc3NQb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGA0LDQt9C80LXRgCDQv9C+0YHQu9C10LTQvdC10Lkg0YLQvtGH0LrQuCDRiNC60LDQu9GLLCDQutC+0YLQvtGA0YvQuSDRj9Cy0LvRj9C10YLRgdGPINC80LDQutGB0LjQvNCw0LvRjNC90YvQvFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtINC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INGI0LrQsNC70YtcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7SVNjYWxlUG9pbnRTaXplfSAtINC+0LHRitC10LrRgiDRgSDRiNC40YDQuNC90L7QuSDQuCDQstGL0YHQvtGC0L7QuSDQv9C+0YHQu9C10LTQvdC10Lkg0YLQvtGH0LrQuCDRiNC60LDQu9GLXG4gICAgICovXG4gICAgZ2V0U2NhbGVQb2ludE1heFNpemUodmFsdWU6IG51bWJlcik6IElTY2FsZVBvaW50U2l6ZSB7XG4gICAgICAgIGlmICh0aGlzLnNjYWxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS5nZXRTY2FsZVBvaW50TWF4U2l6ZSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyAnd2lkdGgnOiAwLCAnaGVpZ2h0JzogMCB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JTQvtCx0LDQstC70Y/QtdGCINC90L7QstGD0Y4g0YLQvtGH0LrRgyDRgdC+INC30L3QsNGH0LXQvdC40LXQvCDQvdCwINGI0LrQsNC70YNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lTY2FsZVBvaW50U2V0dGluZ3N9IHBvaW50U2V0dGluZ3MgLSDQvtCx0YrQtdC60YIg0YEg0L/QvtC30LjRhtC40LXQuSwg0YDQsNC30LzQtdGA0L7QvCDQuCDQt9C90LDRh9C10L3QuNC10Lwg0L3QvtCy0L7QuSDRgtC+0YfQutC4INGI0LrQsNC70YtcbiAgICAgKi9cbiAgICBhZGRTY2FsZVBvaW50KHBvaW50U2V0dGluZ3M6IElTY2FsZVBvaW50U2V0dGluZ3MpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc2NhbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUuYWRkU2NhbGVQb2ludChwb2ludFNldHRpbmdzLnBvc2l0aW9uLCBwb2ludFNldHRpbmdzLnNjYWxlUG9pbnRTaXplLCBwb2ludFNldHRpbmdzLnNjYWxlUG9pbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0LTQsNC70Y/QtdGCINGB0LvQsNC50LTQtdGAINC40LcgRE9NXG4gICAgICovXG4gICAgcmVtb3ZlU2xpZGVyKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zbGlkZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2xpZGVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5zbGlkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9C00LDQu9GP0LXRgiDQv9C10YDQstGL0Lkg0LHQtdCz0YPQvdC+0Log0LjQtyBET01cbiAgICAgKi9cbiAgICByZW1vdmVUaHVtYk9uZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMudGh1bWJPbmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudGh1bWJPbmUucmVtb3ZlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy50b29sdGlwT25lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXBPbmUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50b29sdGlwT25lID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0KPQtNCw0LvRj9C10YIg0LLRgtC+0YDQvtC5INCx0LXQs9GD0L3QvtC6INC40LcgRE9NXG4gICAgICovXG4gICAgcmVtb3ZlVGh1bWJUd28oKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRodW1iVHdvICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnRodW1iVHdvLnJlbW92ZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMudG9vbHRpcFR3byAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b29sdGlwVHdvLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcFR3byA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0LTQsNC70Y/QtdGCINGI0LrQsNC70YMg0LjQtyBET01cbiAgICAgKi9cbiAgICByZW1vdmVTY2FsZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc2NhbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLnNjYWxlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0KPQtNCw0LvRj9C10YIg0LfQvdCw0YfQtdC90LjQtSDQvdCw0LQg0L/QtdGA0LLRi9C8INCx0LXQs9GD0L3QutC+0Lwg0LjQtyBET01cbiAgICAgKi9cbiAgICByZW1vdmVUb29sdGlwT25lKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy50b29sdGlwT25lICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXBPbmUucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXBPbmUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9C00LDQu9GP0LXRgiDQt9C90LDRh9C10L3QuNC1INC90LDQtCDQstGC0L7RgNGL0Lwg0LHQtdCz0YPQvdC60L7QvCDQuNC3IERPTVxuICAgICAqL1xuICAgIHJlbW92ZVRvb2x0aXBUd28oKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRvb2x0aXBUd28gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcFR3by5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcFR3byA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINGA0LDQt9C80LXRgCDRiNC60LDQu9GLXG4gICAgICogXG4gICAgICogQHBhcmFtIHtJU2NhbGVTaXplfSBzY2FsZVNpemUgLSDQvtCx0YrQtdC60YIg0YEg0YjQuNGA0LjQvdC+0Lkg0Lgg0LLRi9GB0L7RgtC+0Lkg0YjQutCw0LvRi1xuICAgICAqL1xuICAgIHNldFNjYWxlU2l6ZShzY2FsZVNpemU6IElTY2FsZVNpemUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc2NhbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUuc2V0U2NhbGVTaXplKHNjYWxlU2l6ZS53aWR0aCwgc2NhbGVTaXplLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlldztcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLy8gaW1wb3J0IHsgSVRodW1iUG9zaXRpb24sIElWaWV3U2xpZGVyT3B0aW9ucyB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG4vLyBpbXBvcnQgeyBJU2xpZGVyU2l6ZSB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG4vLyBpbXBvcnQgeyBJU2NhbGVTaXplIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbi8vIGltcG9ydCB7IElTY2FsZVBvaW50U2V0dGluZ3MgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuLy8gaW1wb3J0IHsgSVNjYWxlUG9pbnRTaXplIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbi8vIGltcG9ydCB7IElQcm9ncmVzc0JhclBvc2l0aW9uIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbi8vIGltcG9ydCB7IElUaHVtYlNpemUgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG4vLyBpbXBvcnQgT2JzZXJ2YWJsZSBmcm9tICcuL29ic2VydmFibGUnO1xuLy8gaW1wb3J0IFNsaWRlciBmcm9tICcuL3NsaWRlcic7XG4vLyBpbXBvcnQgVHJhY2sgZnJvbSAnLi90cmFjayc7XG4vLyBpbXBvcnQgVGh1bWIgZnJvbSAnLi90aHVtYic7XG4vLyBpbXBvcnQgUHJvZ3Jlc3NCYXIgZnJvbSAnLi9wcm9ncmVzc0Jhcidcbi8vIGltcG9ydCBTY2FsZSBmcm9tICcuL3NjYWxlJztcbi8vIGltcG9ydCBUb29sdGlwIGZyb20gJy4vdG9vbHRpcCc7XG5cbi8vIGNsYXNzIFZpZXcge1xuXG4vLyAgICAgcHJpdmF0ZSBvYnNlcnZlcjogT2JzZXJ2YWJsZTtcbi8vICAgICBwcml2YXRlIHNsaWRlcjogU2xpZGVyO1xuLy8gICAgIHByaXZhdGUgdHJhY2s6IFRyYWNrO1xuLy8gICAgIHByaXZhdGUgdG9vbHRpcE9uZTogVG9vbHRpcDtcbi8vICAgICBwcml2YXRlIHRvb2x0aXBUd286IFRvb2x0aXA7XG4vLyAgICAgcHJpdmF0ZSB0aHVtYk9uZTogVGh1bWI7XG4vLyAgICAgcHJpdmF0ZSB0aHVtYlR3bzogVGh1bWI7XG4vLyAgICAgcHJpdmF0ZSBwcm9ncmVzc0JhcjogUHJvZ3Jlc3NCYXI7XG4vLyAgICAgcHJpdmF0ZSBzY2FsZTogU2NhbGU7XG5cbi8vICAgICBjb25zdHJ1Y3RvcihvYnNlcnZlcjogT2JzZXJ2YWJsZSwgc2xpZGVyV3JhcHBlcjogSFRNTEVsZW1lbnQsXG4vLyAgICAgICAgIHNsaWRlck9wdGlvbnM6IElWaWV3U2xpZGVyT3B0aW9ucykge1xuXG4vLyAgICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbi8vICAgICAgICAgdGhpcy5zbGlkZXIgPSB0aGlzLnNsaWRlckluaXQoc2xpZGVyV3JhcHBlciwgJ3NsaWRlciAnICtcbi8vICAgICAgICAgICAgIGBzbGlkZXJfJHtzbGlkZXJPcHRpb25zLm9yaWVudGF0aW9ufSBzbGlkZXJfJHtzbGlkZXJPcHRpb25zLnR5cGV9YCk7XG4vLyAgICAgICAgIHRoaXMudHJhY2sgPSB0aGlzLnRyYWNrSW5pdCh0aGlzLnNsaWRlci5nZXRFbGVtZW50KCksICdzbGlkZXJfX3RyYWNrJyk7XG4vLyAgICAgICAgIHRoaXMudGh1bWJPbmUgPSB0aGlzLnRodW1iSW5pdCh0aGlzLnNsaWRlci5nZXRFbGVtZW50KCksICdzbGlkZXJfX3RodW1iIHNsaWRlcl9fdGh1bWItb25lJywgMyk7XG4vLyAgICAgICAgIHRoaXMudGh1bWJUd28gPSB0aGlzLnRodW1iSW5pdCh0aGlzLnNsaWRlci5nZXRFbGVtZW50KCksICdzbGlkZXJfX3RodW1iIHNsaWRlcl9fdGh1bWItdHdvJywgMik7XG4vLyAgICAgICAgIHRoaXMudG9vbHRpcE9uZSA9IHRoaXMudG9vbHRpcEluaXQodGhpcy50aHVtYk9uZS5nZXRFbGVtZW50KCksIFxuLy8gICAgICAgICAgICAgJ3NsaWRlcl9fdG9vbHRpcCBzbGlkZXJfX3Rvb2x0aXAtb25lJywgMik7XG4vLyAgICAgICAgIHRoaXMudG9vbHRpcFR3byA9IHRoaXMudG9vbHRpcEluaXQodGhpcy50aHVtYlR3by5nZXRFbGVtZW50KCksIFxuLy8gICAgICAgICAgICAgJ3NsaWRlcl9fdG9vbHRpcCBzbGlkZXJfX3Rvb2x0aXAtdHdvJywgMik7XG4vLyAgICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSB0aGlzLnByb2dyZXNzQmFySW5pdCh0aGlzLnNsaWRlci5nZXRFbGVtZW50KCksICdzbGlkZXJfX3Byb2dyZXNzLWJhcicpO1xuLy8gICAgICAgICB0aGlzLnNjYWxlID0gdGhpcy5zY2FsZUluaXQodGhpcy5zbGlkZXIuZ2V0RWxlbWVudCgpLCAnc2xpZGVyX19zY2FsZScsICdob3Jpem9udGFsJyk7XG5cbiAgICAgICAgLy8gdGhpcy5vYnNlcnZlci5zdWJzY3JpYmUoJ2NoYW5nZVpJbmRleFRvQW5vdGhlclRodW1iJywgKHRodW1iRWxlbTogSFRNTEVsZW1lbnQpID0+IHsgXG5cbiAgICAgICAgLy8gICAgIGlmICh0aHVtYkVsZW0uaXNFcXVhbE5vZGUodGhpcy50aHVtYk9uZS5nZXRFbGVtZW50KCkpKSB7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy50aHVtYlR3by5zZXRaSW5kZXgoMilcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy50aHVtYk9uZS5zZXRaSW5kZXgoMik7XG4gICAgICAgIC8vICAgICB9XG5cbiAgICAgICAgLy8gIH0pO1xuLy8gICAgIH1cblxuLy8gICAgIGNyZWF0ZVNjYWxlKHNjYWxlVmlzaWJsZTogYm9vbGVhbiwgb3JpZW50YXRpb246IHN0cmluZykge1xuLy8gICAgICAgICBsZXQgc2NhbGVTdHlsZSA9IGBzbGlkZXJfX3NjYWxlIHNsaWRlcl9fc2NhbGVfJHtvcmllbnRhdGlvbn1gO1xuLy8gICAgICAgICBpZiAoIXNjYWxlVmlzaWJsZSkge1xuLy8gICAgICAgICAgICAgc2NhbGVTdHlsZSArPSAnIHNsaWRlcl9fc2NhbGVfaGlkZSc7XG4vLyAgICAgICAgIH1cblxuLy8gICAgICAgICB0aGlzLnNjYWxlID0gdGhpcy5zY2FsZUluaXQodGhpcy5zbGlkZXIuZ2V0RWxlbWVudCgpLCBzY2FsZVN0eWxlLCBvcmllbnRhdGlvbik7XG4vLyAgICAgfVxuXG4vLyAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0Y3Qu9C10LzQtdC90YLQvtCyIC8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vICAgICBwcml2YXRlIGluaXQocGFycmVudDogSFRNTEVsZW1lbnQsIHN0eWxlczogc3RyaW5nLCBjcmVhdGVPYmo6IEZ1bmN0aW9uKTogYW55IHsgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyDQotCY0J8gQU5ZIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLyAgICAgICAgIGNvbnN0IGVsZW06IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4vLyAgICAgICAgIGVsZW0uY2xhc3NOYW1lID0gc3R5bGVzO1xuLy8gICAgICAgICBjb25zdCBvYmogPSBjcmVhdGVPYmooZWxlbSk7XG4vLyAgICAgICAgIHBhcnJlbnQuYXBwZW5kKGVsZW0pO1xuXG4vLyAgICAgICAgIHJldHVybiBvYmo7XG5cbi8vICAgICB9XG5cbi8vICAgICBwcml2YXRlIHNsaWRlckluaXQocGFycmVudDogSFRNTEVsZW1lbnQsIHN0eWxlczogc3RyaW5nKTogU2xpZGVyIHtcblxuLy8gICAgICAgICBjb25zdCBjcmVhdGVPYmogPSAob2JqOiBIVE1MRWxlbWVudCkgPT4geyByZXR1cm4gbmV3IFNsaWRlcihvYmopIH1cbi8vICAgICAgICAgY29uc3Qgc2xpZGVyOiBTbGlkZXIgPSB0aGlzLmluaXQocGFycmVudCwgc3R5bGVzLCBjcmVhdGVPYmopO1xuLy8gICAgICAgICB0aGlzLm9ic2VydmVyLm5vdGlmeSgnc2xpZGVySW5pdGlhbGl6ZWQnLCBzbGlkZXIuZ2V0U2l6ZSgpKTtcblxuLy8gICAgICAgICByZXR1cm4gc2xpZGVyO1xuXG4vLyAgICAgfVxuXG4vLyAgICAgcHJpdmF0ZSB0cmFja0luaXQocGFycmVudDogSFRNTEVsZW1lbnQsIHN0eWxlczogc3RyaW5nKTogVHJhY2sge1xuXG4vLyAgICAgICAgIGNvbnN0IGNyZWF0ZU9iaiA9IChvYmo6IEhUTUxFbGVtZW50KSA9PiB7IHJldHVybiBuZXcgVHJhY2sob2JqLCB0aGlzLm9ic2VydmVyKSB9XG4vLyAgICAgICAgIGNvbnN0IHRyYWNrOiBUcmFjayA9IHRoaXMuaW5pdChwYXJyZW50LCBzdHlsZXMsIGNyZWF0ZU9iaik7XG5cbi8vICAgICAgICAgcmV0dXJuIHRyYWNrO1xuXG4vLyAgICAgfVxuXG4vLyAgICAgcHJpdmF0ZSB0aHVtYkluaXQocGFycmVudDogSFRNTEVsZW1lbnQsIHN0eWxlczogc3RyaW5nLCB6SW5kZXg6IG51bWJlcik6IFRodW1iIHtcblxuLy8gICAgICAgICBjb25zdCBjcmVhdGVPYmogPSAob2JqOiBIVE1MRWxlbWVudCkgPT4geyByZXR1cm4gbmV3IFRodW1iKG9iaiwgdGhpcy5vYnNlcnZlciwgekluZGV4KSB9XG4vLyAgICAgICAgIGNvbnN0IHRodW1iOiBUaHVtYiA9IHRoaXMuaW5pdChwYXJyZW50LCBzdHlsZXMsIGNyZWF0ZU9iaik7XG4vLyAgICAgICAgIGNvbnN0IHRodW1iRWxlbTogSFRNTEVsZW1lbnQgPSB0aHVtYi5nZXRFbGVtZW50KCk7XG5cbi8vICAgICAgICAgcmV0dXJuIHRodW1iO1xuXG4vLyAgICAgfVxuXG4vLyAgICAgcHJpdmF0ZSB0b29sdGlwSW5pdChwYXJyZW50OiBIVE1MRWxlbWVudCwgc3R5bGVzOiBzdHJpbmcsIHpJbmRleDogbnVtYmVyKTogVG9vbHRpcCB7XG5cbi8vICAgICAgICAgY29uc3QgY3JlYXRlT2JqID0gKG9iajogSFRNTEVsZW1lbnQpID0+IHsgcmV0dXJuIG5ldyBUb29sdGlwKG9iaikgfVxuLy8gICAgICAgICBjb25zdCB0b29sdGlwOiBUb29sdGlwID0gdGhpcy5pbml0KHBhcnJlbnQsIHN0eWxlcywgY3JlYXRlT2JqKTtcblxuLy8gICAgICAgICByZXR1cm4gdG9vbHRpcDtcblxuLy8gICAgIH1cblxuXG4vLyAgICAgcHJpdmF0ZSBwcm9ncmVzc0JhckluaXQocGFycmVudDogSFRNTEVsZW1lbnQsIHN0eWxlczogc3RyaW5nKTogUHJvZ3Jlc3NCYXIge1xuXG4vLyAgICAgICAgIGNvbnN0IGNyZWF0ZU9iaiA9IChvYmo6IEhUTUxFbGVtZW50KSA9PiB7IHJldHVybiBuZXcgUHJvZ3Jlc3NCYXIob2JqKSB9XG4vLyAgICAgICAgIGNvbnN0IHByb2dyZXNzQmFyOiBQcm9ncmVzc0JhciA9IHRoaXMuaW5pdChwYXJyZW50LCBzdHlsZXMsIGNyZWF0ZU9iaik7XG5cbi8vICAgICAgICAgcmV0dXJuIHByb2dyZXNzQmFyO1xuXG4vLyAgICAgfVxuXG4vLyAgICAgcHJpdmF0ZSBzY2FsZUluaXQocGFycmVudDogSFRNTEVsZW1lbnQsIHN0eWxlczogc3RyaW5nLCBvcmllbnRhdGlvbjogc3RyaW5nKTogU2NhbGUge1xuXG4vLyAgICAgICAgIGNvbnN0IGNyZWF0ZU9iaiA9IChvYmo6IEhUTUxFbGVtZW50KSA9PiB7IHJldHVybiBuZXcgU2NhbGUob2JqLCB0aGlzLm9ic2VydmVyLCBvcmllbnRhdGlvbikgfVxuLy8gICAgICAgICBjb25zdCBzY2FsZTogU2NhbGUgPSB0aGlzLmluaXQocGFycmVudCwgc3R5bGVzLCBjcmVhdGVPYmopO1xuXG4vLyAgICAgICAgIHJldHVybiBzY2FsZTtcblxuLy8gICAgIH1cblxuLy8gICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vIFNldC9HZXQgLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gICAgIHNldFNsaWRlck9yaWVudGF0aW9uKG9yaWVudGF0aW9uOiBzdHJpbmcpIHtcbi8vICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbi8vICAgICAgICAgICAgIHRoaXMuc2xpZGVyLnNldEhvcml6b250YWxPcmllbnRhdGlvbigpO1xuLy8gICAgICAgICAgICAgdGhpcy50cmFjay5zZXRIb3Jpem9udGFsT3JpZW50YXRpb24oKTtcbi8vICAgICAgICAgICAgIC8vIHRoaXMucHJvZ3Jlc3NCYXIuc2V0SG9yaXpvbnRhbE9yaWVudGF0aW9uKCk7XG4vLyAgICAgICAgICAgICB0aGlzLnRodW1iT25lLnNldEhvcml6b250YWxPcmllbnRhdGlvbigpO1xuLy8gICAgICAgICAgICAgdGhpcy50aHVtYlR3by5zZXRIb3Jpem9udGFsT3JpZW50YXRpb24oKTtcbi8vICAgICAgICAgICAgIHRoaXMudG9vbHRpcE9uZS5zZXRIb3Jpem9udGFsT3JpZW50YXRpb24oKTtcbi8vICAgICAgICAgICAgIHRoaXMudG9vbHRpcFR3by5zZXRIb3Jpem9udGFsT3JpZW50YXRpb24oKTtcbi8vICAgICAgICAgfSBlbHNlIGlmIChvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuLy8gICAgICAgICAgICAgdGhpcy5zbGlkZXIuc2V0VmVydGljYWxPcmllbnRhdGlvbigpO1xuLy8gICAgICAgICAgICAgdGhpcy50cmFjay5zZXRWZXJ0aWNhbE9yaWVudGF0aW9uKCk7XG4vLyAgICAgICAgICAgICAvLyB0aGlzLnByb2dyZXNzQmFyLnNldFZlcnRpY2FsT3JpZW50YXRpb24oKTtcbi8vICAgICAgICAgICAgIHRoaXMudGh1bWJPbmUuc2V0VmVydGljYWxPcmllbnRhdGlvbigpO1xuLy8gICAgICAgICAgICAgdGhpcy50aHVtYlR3by5zZXRWZXJ0aWNhbE9yaWVudGF0aW9uKCk7XG4vLyAgICAgICAgICAgICB0aGlzLnRvb2x0aXBPbmUuc2V0VmVydGljYWxPcmllbnRhdGlvbigpO1xuLy8gICAgICAgICAgICAgdGhpcy50b29sdGlwVHdvLnNldFZlcnRpY2FsT3JpZW50YXRpb24oKTtcbi8vICAgICAgICAgfVxuXG4vLyAgICAgfVxuXG4vLyAgICAgc2V0UHJvZ3Jlc3NCYXJPcmllbnRhdGlvbihvcmllbnRhdGlvbjogc3RyaW5nKSB7XG4vLyAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4vLyAgICAgICAgICAgICB0aGlzLnByb2dyZXNzQmFyLnNldEhvcml6b250YWxPcmllbnRhdGlvbigpO1xuLy8gICAgICAgICB9IGVsc2UgaWYgKG9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XG4vLyAgICAgICAgICAgICB0aGlzLnByb2dyZXNzQmFyLnNldFZlcnRpY2FsT3JpZW50YXRpb24oKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH1cblxuLy8gICAgIGdldFNsaWRlclNpemUoKTogSVNsaWRlclNpemUge1xuLy8gICAgICAgICByZXR1cm4gdGhpcy5zbGlkZXIuZ2V0U2l6ZSgpO1xuLy8gICAgIH1cblxuLy8gICAgIGdldFRodW1iU2l6ZSgpOiBJU2xpZGVyU2l6ZSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLnRodW1iT25lLmdldFNpemUoKTtcbi8vICAgICB9XG5cbi8vICAgICBzZXRQcm9ncmVzc0JhclBvc2l0aW9uKHByb2dyZXNzUG9zaXRpb246IElQcm9ncmVzc0JhclBvc2l0aW9uKSB7XG4vLyAgICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0UG9zaXRpb24ocHJvZ3Jlc3NQb3NpdGlvbik7XG4vLyAgICAgfVxuXG4vLyAgICAgZ2V0U2NhbGVQb2ludE1heFNpemUodmFsdWU6IG51bWJlcik6IElTY2FsZVBvaW50U2l6ZSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLnNjYWxlLmdldFNjYWxlUG9pbnRNYXhTaXplKHZhbHVlKTtcbi8vICAgICB9XG5cbiAgICAvLyBzZXRTY2FsZVNpemUoc2NhbGVTaXplOiBJU2NhbGVTaXplKTogdm9pZCB7XG4gICAgLy8gICAgIHRoaXMuc2NhbGUuc2V0U2NhbGVTaXplKHNjYWxlU2l6ZS53aWR0aCwgc2NhbGVTaXplLmhlaWdodCk7XG4gICAgLy8gfVxuXG4gICAgLy8gYWRkU2NhbGVQb2ludChwb2ludFNldHRpbmdzOiBJU2NhbGVQb2ludFNldHRpbmdzKSB7XG4gICAgLy8gICAgIHRoaXMuc2NhbGUuYWRkU2NhbGVQb2ludChwb2ludFNldHRpbmdzLnBvc2l0aW9uLCBwb2ludFNldHRpbmdzLnNjYWxlUG9pbnRTaXplLCBwb2ludFNldHRpbmdzLnNjYWxlUG9pbnRWYWx1ZSk7XG4gICAgLy8gfVxuXG4vLyAgICAgbW92ZVRodW1iT25lKHBvc2l0aW9uOiBJVGh1bWJQb3NpdGlvbik6IHZvaWQge1xuLy8gICAgICAgICB0aGlzLnRodW1iT25lLm1vdmVUbyhwb3NpdGlvbik7XG4vLyAgICAgfVxuXG4vLyAgICAgbW92ZVRodW1iVHdvKHBvc2l0aW9uOiBJVGh1bWJQb3NpdGlvbik6IHZvaWQge1xuLy8gICAgICAgICB0aGlzLnRodW1iVHdvLm1vdmVUbyhwb3NpdGlvbik7XG4vLyAgICAgfVxuXG4vLyAgICAgc2hvd1RodW1iKCkge1xuLy8gICAgICAgICB0aGlzLnRodW1iVHdvLnNob3coKTtcbi8vICAgICB9XG5cbi8vICAgICBoaWRlVGh1bWIoKSB7XG4vLyAgICAgICAgIHRoaXMudGh1bWJUd28uaGlkZSgpO1xuLy8gICAgIH1cblxuLy8gICAgIHNldFRvb2x0aXBPbmVUZXh0KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbi8vICAgICAgICAgdGhpcy50b29sdGlwT25lLnNldFRleHQodmFsdWUudG9TdHJpbmcoKSk7XG4vLyAgICAgfVxuXG4vLyAgICAgc2V0VG9vbHRpcFR3b1RleHQodmFsdWU6IG51bWJlcik6IHZvaWQge1xuLy8gICAgICAgICB0aGlzLnRvb2x0aXBUd28uc2V0VGV4dCh2YWx1ZS50b1N0cmluZygpKTtcbi8vICAgICB9XG5cbi8vICAgICBzY2FsZVJlbW92ZSgpIHtcbi8vICAgICAgICAgdGhpcy5zY2FsZS5yZW1vdmUoKTtcbi8vICAgICB9XG5cbi8vICAgICBzaG93SGlkZVNjYWxlKGZsYWc6IGJvb2xlYW4pOiB2b2lkIHtcbi8vICAgICAgICAgaWYgKGZsYWcpIHtcbi8vICAgICAgICAgICAgIHRoaXMuc2NhbGUuc2hvdygpO1xuLy8gICAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgICAgdGhpcy5zY2FsZS5oaWRlKCk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9XG5cbi8vICAgICBzaG93SGlkZVRvb2x0aXBzKGZsYWc6IGJvb2xlYW4pOiB2b2lkIHtcbi8vICAgICAgICAgaWYgKGZsYWcpIHtcbi8vICAgICAgICAgICAgIHRoaXMudG9vbHRpcE9uZS5zaG93KCk7XG4vLyAgICAgICAgICAgICB0aGlzLnRvb2x0aXBUd28uc2hvdygpO1xuLy8gICAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgICAgdGhpcy50b29sdGlwT25lLmhpZGUoKTtcbi8vICAgICAgICAgICAgIHRoaXMudG9vbHRpcFR3by5oaWRlKCk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9XG4vLyB9XG5cbi8vIGV4cG9ydCBkZWZhdWx0IFZpZXc7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vIC8vICAgICBwcml2YXRlIHRodW1iSW5pdChzdGFydFBvc2l0aW9uOiBudW1iZXIgPSAwLCB3aWR0aDogbnVtYmVyID0gMjAsIGhlaWdodDogbnVtYmVyID0gMjApOiBIVE1MRWxlbWVudCB7XG4vLyAvLyAgICAgICAgIGNvbnN0IHRodW1iOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlU2xpZGVyRWxlbWVudCgnZGl2JywgJ3NsaWRlcl9fdGh1bWInKTtcbi8vIC8vICAgICAgICAgdGh1bWIuc3R5bGUubGVmdCA9IGAke3N0YXJ0UG9zaXRpb259cHhgO1xuLy8gLy8gICAgICAgICB0aHVtYi5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbi8vIC8vICAgICAgICAgdGh1bWIuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbi8vIC8vICAgICAgICAgdGhpcy5zbGlkZXIuYXBwZW5kKHRodW1iKTtcblxuLy8gLy8gICAgICAgICB0aHVtYi5vbmRyYWdzdGFydCA9IGZ1bmN0aW9uICgpIHtcbi8vIC8vICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbi8vIC8vICAgICAgICAgfTtcblxuLy8gLy8gICAgICAgICB0aHVtYi5vbm1vdXNlZG93biA9IGV2ZW50ID0+IHtcblxuLy8gLy8gICAgICAgICAgICAgbGV0IGN1cnNvclBvc2l0aW9uOiBudW1iZXIgPSAwO1xuXG4vLyAvLyAgICAgICAgICAgICBpZiAodGhpcy5zbGlkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdob3Jpem9udGFsJykpIHtcbi8vIC8vICAgICAgICAgICAgICAgICBjdXJzb3JQb3NpdGlvbiA9IGV2ZW50LmNsaWVudFg7XG4vLyAvLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2xpZGVyLmNsYXNzTGlzdC5jb250YWlucygndmVydGljYWwnKSkge1xuLy8gLy8gICAgICAgICAgICAgICAgIGN1cnNvclBvc2l0aW9uID0gZXZlbnQuY2xpZW50WTtcbi8vIC8vICAgICAgICAgICAgIH1cbi8vIC8vICAgICAgICAgICAgIHRoaXMuc3RhcnREcmFnKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCwgY3Vyc29yUG9zaXRpb24pO1xuXG4vLyAvLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGRpc2FibGUgc2VsZWN0aW9uIHN0YXJ0IChjdXJzb3IgY2hhbmdlKVxuLy8gLy8gICAgICAgICB9XG5cbi8vIC8vICAgICAgICAgcmV0dXJuIHRodW1iO1xuLy8gLy8gICAgIH1cblxuXG5cbi8vIC8vICAgICBwcml2YXRlIGNyZWF0ZVNsaWRlckVsZW1lbnQoZWxlbTogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbi8vIC8vICAgICAgICAgY29uc3QgbmV3RWxlbTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW0pO1xuLy8gLy8gICAgICAgICBuZXdFbGVtLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcblxuLy8gLy8gICAgICAgICByZXR1cm4gbmV3RWxlbTtcbi8vIC8vICAgICB9XG5cbi8vIC8vICAgICBwcml2YXRlIHByb2dyZXNzQmFyU2V0V2lkdGgobmV3V2lkdGg6IG51bWJlcik6IHZvaWQge1xuLy8gLy8gICAgICAgICB0aGlzLnByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gbmV3V2lkdGggKyAncHgnO1xuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIHByaXZhdGUgc3RhcnREcmFnKHRodW1iOiBIVE1MRWxlbWVudCwgY3Vyc29yUG9zaXRpb246IG51bWJlcikge1xuXG4vLyAvLyAgICAgICAgIGxldCB0aHVtYkNvb3JkczogRE9NUmVjdCA9IHRodW1iLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuLy8gLy8gICAgICAgICBsZXQgc2hpZnQ6IG51bWJlciA9IDA7XG5cbi8vIC8vICAgICAgICAgaWYgKHRoaXMuc2xpZGVyLmNsYXNzTGlzdC5jb250YWlucygnaG9yaXpvbnRhbCcpKSB7XG4vLyAvLyAgICAgICAgICAgICB0aGlzLnRodW1iU2hpZnQgPSBjdXJzb3JQb3NpdGlvbiAtIHRodW1iQ29vcmRzLmxlZnQ7XG4vLyAvLyAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zbGlkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCd2ZXJ0aWNhbCcpKSB7XG4vLyAvLyAgICAgICAgICAgICB0aGlzLnRodW1iU2hpZnQgPSBjdXJzb3JQb3NpdGlvbiAtIHRodW1iQ29vcmRzLnRvcDtcbi8vIC8vICAgICAgICAgfVxuXG4vLyAvLyAgICAgICAgIHRoaXMub25Nb3VzZU1vdmVIYW5kbGVyID0gdGhpcy5tb3ZlVG8uYmluZCh0aGlzKTtcbi8vIC8vICAgICAgICAgdGhpcy5vbk1vdXNlVXBIYW5kbGVyID0gdGhpcy5lbmREcmFnLmJpbmQodGhpcyk7XG5cbi8vIC8vICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxcbi8vIC8vICAgICAgICAgICAgIHRoaXMub25Nb3VzZU1vdmVIYW5kbGVyIGFzIEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QpO1xuLy8gLy8gICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJyxcbi8vIC8vICAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwSGFuZGxlciBhcyBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0KTtcblxuLy8gLy8gICAgIH1cblxuXG5cbi8vIC8vICAgICBwcml2YXRlIG1vdmVUbyhldmVudDogTW91c2VFdmVudCkge1xuXG4vLyAvLyAgICAgICAgICAgICBjb25zdCBzbGlkZXJDb29yZHM6IERPTVJlY3QgPSB0aGlzLnNsaWRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuLy8gLy8gICAgICAgICAgICAgLy8g0LLRi9GH0LXRgdGC0Ywg0LrQvtC+0YDQtNC40L3QsNGC0YMg0YDQvtC00LjRgtC10LvRjywg0YIu0LouIHBvc2l0aW9uOiByZWxhdGl2ZVxuLy8gLy8gICAgICAgICAgICAgbGV0IG5ld0xlZnQ6IG51bWJlciA9IGV2ZW50LmNsaWVudFggLSB0aGlzLnRodW1iLmdldFNoaWZ0WCgpIC0gc2xpZGVyQ29vcmRzLmxlZnQ7XG5cbi8vIC8vICAgICAgICAgICAgIC8vINC60YPRgNGB0L7RgCDRg9GI0ZHQuyDQstC90LUg0YHQu9Cw0LnQtNC10YDQsFxuLy8gLy8gICAgICAgICAgICAgaWYgKG5ld0xlZnQgPCAwKSB7XG4vLyAvLyAgICAgICAgICAgICAgICAgbmV3TGVmdCA9IDA7XG4vLyAvLyAgICAgICAgICAgICB9XG5cbi8vIC8vICAgICAgICAgICAgIGxldCByaWdodEVkZ2U6IG51bWJlciA9IHRoaXMuc2xpZGVyLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCAtIHRoaXMudGh1bWIuZ2V0RWxlbWVudCgpLm9mZnNldFdpZHRoO1xuXG4vLyAvLyAgICAgICAgICAgICBuZXdMZWZ0ID0gTWF0aC5yb3VuZChuZXdMZWZ0IC8gdGhpcy5zdGVwU2l6ZSkgKiB0aGlzLnN0ZXBTaXplO1xuXG4vLyAvLyAgICAgICAgICAgICBpZiAobmV3TGVmdCA+PSByaWdodEVkZ2UpIHtcbi8vIC8vICAgICAgICAgICAgICAgICBuZXdMZWZ0ID0gcmlnaHRFZGdlO1xuLy8gLy8gICAgICAgICAgICAgfSBlbHNlIHtcbi8vIC8vICAgICAgICAgICAgICAgICAvLyB0aGlzLnN0ZXBzQ291bnQgPSAodGhpcy50aHVtYi5nZXRNYXhWYWx1ZSgpIC0gdGhpcy50aHVtYi5nZXRNaW5WYWx1ZSgpKSAvIHRoaXMudGh1bWIuZ2V0U3RlcCgpO1xuLy8gLy8gICAgICAgICAgICAgICAgIC8vIGxldCBzdGVwU2l6ZTogbnVtYmVyID0gKHRoaXMuc2xpZGVyLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCAtIHRoaXMudGh1bWIuZ2V0RWxlbWVudCgpLm9mZnNldFdpZHRoKSAvIHRoaXMuc3RlcHNDb3VudDtcbi8vIC8vICAgICAgICAgICAgICAgICBuZXdMZWZ0ID0gTWF0aC5yb3VuZChuZXdMZWZ0IC8gdGhpcy5zdGVwU2l6ZSkgKiB0aGlzLnN0ZXBTaXplO1xuXG5cbi8vIC8vICAgICAgICAgICAgICAgICAvLyBsZXQgc3RlcENvdW50OiBudW1iZXIgPSAodGhpcy50aHVtYi5nZXRNYXhWYWx1ZSgpIC0gdGhpcy50aHVtYi5nZXRNaW5WYWx1ZSgpKSAvIHRoaXMudGh1bWIuZ2V0U3RlcCgpO1xuLy8gLy8gICAgICAgICAgICAgICAgIC8vIGxldCBzdGVwU2l6ZTogbnVtYmVyID0gKHRoaXMuc2xpZGVyLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCAtIHRoaXMudGh1bWIuZ2V0RWxlbWVudCgpLm9mZnNldFdpZHRoKSAvIHN0ZXBDb3VudDtcbi8vIC8vICAgICAgICAgICAgICAgICAvLyBuZXdMZWZ0ID0gTWF0aC5yb3VuZChuZXdMZWZ0IC8gc3RlcFNpemUpICogc3RlcFNpemU7XG4vLyAvLyAgICAgICAgICAgICB9XG5cbi8vIC8vICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NCYXI/LnNldFdpZHRoKG5ld0xlZnQgKyB0aGlzLnRodW1iLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCk7XG4vLyAvLyAgICAgICAgICAgICB0aGlzLnRodW1iLm1vdmVUbyhuZXdMZWZ0KTtcblxuLy8gLy8gICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5wb3NpdGlvblRvVmFsdWUodGhpcy50aHVtYiwgbmV3TGVmdCkpLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIC8vICAgICB9XG5cblxuXG5cblxuXG4vLyAgICAgLy8gY3JlYXRlU2xpZGVyKHNsaWRlck9wdGlvbnM6IElOZXdTbGlkZXJPcHRpb25zKSB7XG4vLyAgICAgLy8gICAgIGNvbnN0IHNsaWRlckNvbXBvbmVudHM6IElTbGlkZXJDb21wb25lbnRzID0gdGhpcy5hZGRTbGlkZXJUb1BhZ2Uoc2xpZGVyT3B0aW9ucy5zbGlkZXJQb3NpdGlvbik7XG5cbi8vICAgICAvLyAgICAgdGhpcy5hZGRTbGlkZXIoc2xpZGVyQ29tcG9uZW50cy5zbGlkZXJFbGVtLCBzbGlkZXJPcHRpb25zLnNldHRpbmdzLnNsaWRlclNldHRpbmdzKTtcbi8vICAgICAvLyAgICAgdGhpcy5hZGRUcmFjayhzbGlkZXJDb21wb25lbnRzLnRyYWNrRWxlbSk7XG4vLyAgICAgLy8gICAgIHRoaXMuYWRkUHJvZ3Jlc3NCYXIoc2xpZGVyQ29tcG9uZW50cy5wcm9ncmVzc0Jhcik7XG4vLyAgICAgLy8gICAgIHRoaXMuYWRkVGh1bWIoc2xpZGVyQ29tcG9uZW50cy50aHVtYkVsZW0sIHNsaWRlck9wdGlvbnMuc2V0dGluZ3MudGh1bWJTZXR0aW5ncyk7XG5cbi8vICAgICAvLyAgICAgdGhpcy5zdGVwc0NvdW50ID0gdGhpcy5jYWxjdWxhdGVTdGVwc051bWJlcigpO1xuLy8gICAgIC8vICAgICB0aGlzLnN0ZXBTaXplID0gdGhpcy5jYWxjdWxhdGVTdGVwU2l6ZSgpO1xuXG4vLyAgICAgLy8gICAgIGlmICh0aGlzLnNsaWRlciAmJiB0aGlzLnRodW1iKSB7XG4vLyAgICAgLy8gICAgICAgICB0aGlzLnBpeGVsc1BlclZhbHVlID0gKHRoaXMuc2xpZGVyLmdldEVsZW1lbnQoKS5jbGllbnRXaWR0aCAtXG4vLyAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLnRodW1iLmdldEVsZW1lbnQoKS5jbGllbnRXaWR0aCkgLyAxMDA7XG4vLyAgICAgLy8gICAgIH1cblxuLy8gICAgIC8vICAgICB0aGlzLmFkZFNjYWxlKHNsaWRlckNvbXBvbmVudHMuc2NhbGVFbGVtLCBzbGlkZXJPcHRpb25zLnNldHRpbmdzLnNjYWxlU2V0dGluZ3MpO1xuLy8gICAgIC8vIH1cblxuLy8gICAgIC8vIHByaXZhdGUgY2FsY3VsYXRlU3RlcHNOdW1iZXIoKTogbnVtYmVye1xuLy8gICAgIC8vICAgICBpZiAodGhpcy50aHVtYikge1xuLy8gICAgIC8vICAgICAgICAgcmV0dXJuICh0aGlzLnRodW1iLmdldE1heFZhbHVlKCkgLSB0aGlzLnRodW1iLmdldE1pblZhbHVlKCkpIC8gdGhpcy50aHVtYi5nZXRTdGVwKCk7XG4vLyAgICAgLy8gICAgIH1cblxuLy8gICAgIC8vICAgICByZXR1cm4gMDtcbi8vICAgICAvLyB9XG5cbi8vICAgICAvLyBwcml2YXRlIGNhbGN1bGF0ZVN0ZXBTaXplKCk6IG51bWJlcntcbi8vICAgICAvLyAgICAgaWYgKHRoaXMudGh1bWIgJiYgdGhpcy5zbGlkZXIpIHtcbi8vICAgICAvLyAgICAgICAgIHJldHVybiAodGhpcy5zbGlkZXIuZ2V0RWxlbWVudCgpLm9mZnNldFdpZHRoIC0gdGhpcy50aHVtYi5nZXRFbGVtZW50KCkub2Zmc2V0V2lkdGgpIC8gdGhpcy5zdGVwc0NvdW50O1xuLy8gICAgIC8vICAgICB9XG5cbi8vICAgICAvLyAgICAgcmV0dXJuIDA7XG4vLyAgICAgLy8gfVxuXG4vLyAgICAgLy8gcHJpdmF0ZSBhZGRUcmFjayh0cmFja0VsZW06IEhUTUxFbGVtZW50KSB7XG4vLyAgICAgLy8gICAgIHRoaXMudHJhY2sgPSBuZXcgVHJhY2sodHJhY2tFbGVtKTtcblxuLy8gICAgIC8vICAgICB0cmFja0VsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbi8vICAgICAvLyAgICAgICAgIHRoaXMubW92ZVRvKGV2ZW50KTtcbi8vICAgICAvLyAgICAgfSlcbi8vICAgICAvLyB9XG5cbi8vICAgICAvLyBwcml2YXRlIGFkZFByb2dyZXNzQmFyKHByb2dyZXNzQmFyRWxlbTogSFRNTEVsZW1lbnQpIHtcbi8vICAgICAvLyAgICAgdGhpcy5wcm9ncmVzc0JhciA9IG5ldyBQcm9ncmVzc0Jhcihwcm9ncmVzc0JhckVsZW0sIDApO1xuLy8gICAgIC8vIH1cblxuLy8gICAgIC8vIHByaXZhdGUgYWRkU2xpZGVyKHNsaWRlckVsZW06IEhUTUxFbGVtZW50LCBzbGlkZXJTZXR0aW5nczogSVNsaWRlclNldHRpbmdzKSB7XG4vLyAgICAgLy8gICAgIHRoaXMuc2xpZGVyID0gbmV3IFNsaWRlcihzbGlkZXJFbGVtLCBzbGlkZXJTZXR0aW5ncyk7XG4vLyAgICAgLy8gfVxuXG4vLyAgICAgLy8gcHJpdmF0ZSBhZGRUaHVtYih0aHVtYkVsZW06IEhUTUxFbGVtZW50LCB0aHVtYlNldHRpbmdzOiBJVGh1bWJTZXR0aW5ncykge1xuXG4vLyAgICAgLy8gICAgIHRoaXMudGh1bWIgPSBuZXcgVGh1bWIodGh1bWJFbGVtLCB0aHVtYlNldHRpbmdzKTtcblxuLy8gICAgIC8vICAgICAvLyBjb25zdCB0aHVtYkVsZW06IEhUTUxFbGVtZW50ID0gdGhpcy50aHVtYi5nZXRFbGVtZW50KCk7XG5cbi8vICAgICAvLyAgICAgdGh1bWJFbGVtLm9uZHJhZ3N0YXJ0ID0gZnVuY3Rpb24gKCkge1xuLy8gICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xuLy8gICAgIC8vICAgICB9O1xuXG4vLyAgICAgLy8gICAgIHRodW1iRWxlbS5vbm1vdXNlZG93biA9IGV2ZW50ID0+IHtcbi8vICAgICAvLyAgICAgICAgIGlmICh0aGlzLnNsaWRlciAmJiB0aGlzLnRodW1iKSB7XG4vLyAgICAgLy8gICAgICAgICAgICAgLy8gdGhpcy5waXhlbHNQZXJWYWx1ZSA9ICh0aGlzLnNsaWRlci5nZXRFbGVtZW50KCkuY2xpZW50V2lkdGggLVxuLy8gICAgIC8vICAgICAgICAgICAgIC8vICAgICB0aGlzLnRodW1iLmdldEVsZW1lbnQoKS5jbGllbnRXaWR0aCkgLyAxMDA7XG5cbi8vICAgICAvLyAgICAgICAgICAgICB0aGlzLnN0YXJ0RHJhZyhldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbi8vICAgICAvLyAgICAgICAgIH0gICAgICAgICAgICBcblxuLy8gICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBkaXNhYmxlIHNlbGVjdGlvbiBzdGFydCAoY3Vyc29yIGNoYW5nZSlcbi8vICAgICAvLyAgICAgfVxuLy8gICAgIC8vIH1cblxuLy8gICAgIC8vIHByaXZhdGUgYWRkU2NhbGUoc2NhbGVFbGVtOiBIVE1MRWxlbWVudCwgc2NhbGVTZXR0aW5nczogSVNjYWxlU2V0dGluZ3MpIHtcbi8vICAgICAvLyAgICAgaWYgKHRoaXMudGh1bWIpIHtcbi8vICAgICAvLyAgICAgICAgIHRoaXMuc2NhbGUgPSBuZXcgU2NhbGUoc2NhbGVFbGVtLCBzY2FsZVNldHRpbmdzLCBNYXRoLnJvdW5kKHRoaXMuc3RlcHNDb3VudCArIDEpLCB0aGlzLnN0ZXBTaXplLCB0aGlzLnRodW1iLmdldEVsZW1lbnQoKS5jbGllbnRXaWR0aCwgdGhpcy5waXhlbHNQZXJWYWx1ZSk7XG4vLyAgICAgLy8gICAgICAgICBzY2FsZUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbi8vICAgICAvLyAgICAgICAgICAgICB0aGlzLm1vdmVUbyhldmVudClcbi8vICAgICAvLyAgICAgICAgIH0pXG4vLyAgICAgLy8gICAgIH1cbi8vICAgICAvLyB9XG5cbi8vICAgICAvLyBwcml2YXRlIGFkZFNsaWRlclRvUGFnZShzbGlkZXJQb3NpdGlvbjogSFRNTEVsZW1lbnQpOiBJU2xpZGVyQ29tcG9uZW50cyB7XG4vLyAgICAgLy8gICAgIGNvbnN0IHNsaWRlckVsZW06IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4vLyAgICAgLy8gICAgIHNsaWRlckVsZW0uY2xhc3NOYW1lID0gJ3NsaWRlcic7XG5cbi8vICAgICAvLyAgICAgY29uc3QgdHJhY2tFbGVtOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuLy8gICAgIC8vICAgICB0cmFja0VsZW0uY2xhc3NOYW1lID0gJ3NsaWRlcl9fdHJhY2snO1xuXG4vLyAgICAgLy8gICAgIGNvbnN0IHByb2dyZXNzQmFyRWxlbTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbi8vICAgICAvLyAgICAgcHJvZ3Jlc3NCYXJFbGVtLmNsYXNzTmFtZSA9ICdzbGlkZXJfX3Byb2dyZXNzLWJhcic7XG5cbi8vICAgICAvLyAgICAgY29uc3QgdGh1bWJFbGVtOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuLy8gICAgIC8vICAgICB0aHVtYkVsZW0uY2xhc3NOYW1lID0gJ3NsaWRlcl9fdGh1bWInO1xuXG4vLyAgICAgLy8gICAgIGNvbnN0IHNjYWxlRWxlbTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbi8vICAgICAvLyAgICAgc2NhbGVFbGVtLmNsYXNzTmFtZSA9ICdzbGlkZXJfX3NjYWxlJztcblxuLy8gICAgIC8vICAgICBzbGlkZXJFbGVtLmFwcGVuZCh0cmFja0VsZW0pO1xuLy8gICAgIC8vICAgICBzbGlkZXJFbGVtLmFwcGVuZChwcm9ncmVzc0JhckVsZW0pO1xuLy8gICAgIC8vICAgICBzbGlkZXJFbGVtLmFwcGVuZCh0aHVtYkVsZW0pO1xuLy8gICAgIC8vICAgICBzbGlkZXJFbGVtLmFwcGVuZChzY2FsZUVsZW0pO1xuLy8gICAgIC8vICAgICBzbGlkZXJQb3NpdGlvbi5hcHBlbmQoc2xpZGVyRWxlbSk7XG5cbi8vICAgICAvLyAgICAgcmV0dXJuIHsnc2xpZGVyRWxlbSc6IHNsaWRlckVsZW0sICd0cmFja0VsZW0nOiB0cmFja0VsZW0sICdwcm9ncmVzc0Jhcic6IHByb2dyZXNzQmFyRWxlbSwgJ3RodW1iRWxlbSc6IHRodW1iRWxlbSwgJ3NjYWxlRWxlbSc6IHNjYWxlRWxlbX1cbi8vICAgICAvLyB9XG5cbi8vICAgICAvLyBwcml2YXRlIHN0YXJ0RHJhZyhzdGFydENsaWVudFg6IG51bWJlciwgc3RhcnRDbGllbnRZOiBudW1iZXIpIHtcbi8vICAgICAvLyAgICAgaWYgKHRoaXMudGh1bWIgJiYgdGhpcy5zbGlkZXIpIHtcblxuLy8gICAgIC8vICAgICAgICAgY29uc3QgdGh1bWJDb29yZHM6IERPTVJlY3QgPSB0aGlzLnRodW1iLmdldEVsZW1lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuLy8gICAgIC8vICAgICAgICAgdGhpcy50aHVtYi5zZXRTaGlmdFgoc3RhcnRDbGllbnRYIC0gdGh1bWJDb29yZHMubGVmdCk7XG4vLyAgICAgLy8gICAgICAgICB0aGlzLnRodW1iLnNldFNoaWZ0WShzdGFydENsaWVudFkgLSB0aHVtYkNvb3Jkcy50b3ApO1xuXG4vLyAgICAgLy8gICAgICAgICB0aGlzLm9uTW91c2VNb3ZlSGFuZGxlciA9IHRoaXMubW92ZVRvLmJpbmQodGhpcyk7XG4vLyAgICAgLy8gICAgICAgICB0aGlzLm9uTW91c2VVcEhhbmRsZXIgPSB0aGlzLmVuZERyYWcuYmluZCh0aGlzKTtcblxuLy8gICAgIC8vICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxcbi8vICAgICAvLyAgICAgICAgICAgICB0aGlzLm9uTW91c2VNb3ZlSGFuZGxlciBhcyBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0KTtcbi8vICAgICAvLyAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLFxuLy8gICAgIC8vICAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwSGFuZGxlciBhcyBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0KTtcbi8vICAgICAvLyAgICAgfVxuLy8gICAgIC8vIH1cblxuLy8gICAgIC8vIHByaXZhdGUgbW92ZVRvKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4vLyAgICAgLy8gICAgIGlmICh0aGlzLnNsaWRlciAmJiB0aGlzLnRodW1iKSB7XG5cbi8vICAgICAvLyAgICAgICAgIGNvbnN0IHNsaWRlckNvb3JkczogRE9NUmVjdCA9IHRoaXMuc2xpZGVyLmdldEVsZW1lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuLy8gICAgIC8vICAgICAgICAgLy8g0LLRi9GH0LXRgdGC0Ywg0LrQvtC+0YDQtNC40L3QsNGC0YMg0YDQvtC00LjRgtC10LvRjywg0YIu0LouIHBvc2l0aW9uOiByZWxhdGl2ZVxuLy8gICAgIC8vICAgICAgICAgbGV0IG5ld0xlZnQ6IG51bWJlciA9IGV2ZW50LmNsaWVudFggLSB0aGlzLnRodW1iLmdldFNoaWZ0WCgpIC0gc2xpZGVyQ29vcmRzLmxlZnQ7XG5cbi8vICAgICAvLyAgICAgICAgIC8vINC60YPRgNGB0L7RgCDRg9GI0ZHQuyDQstC90LUg0YHQu9Cw0LnQtNC10YDQsFxuLy8gICAgIC8vICAgICAgICAgaWYgKG5ld0xlZnQgPCAwKSB7XG4vLyAgICAgLy8gICAgICAgICAgICAgbmV3TGVmdCA9IDA7XG4vLyAgICAgLy8gICAgICAgICB9XG5cbi8vICAgICAvLyAgICAgICAgIGxldCByaWdodEVkZ2U6IG51bWJlciA9IHRoaXMuc2xpZGVyLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCAtIHRoaXMudGh1bWIuZ2V0RWxlbWVudCgpLm9mZnNldFdpZHRoO1xuXG4vLyAgICAgLy8gICAgICAgICBuZXdMZWZ0ID0gTWF0aC5yb3VuZChuZXdMZWZ0IC8gdGhpcy5zdGVwU2l6ZSkgKiB0aGlzLnN0ZXBTaXplO1xuXG4vLyAgICAgLy8gICAgICAgICBpZiAobmV3TGVmdCA+PSByaWdodEVkZ2UpIHtcbi8vICAgICAvLyAgICAgICAgICAgICBuZXdMZWZ0ID0gcmlnaHRFZGdlO1xuLy8gICAgIC8vICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAvLyAgICAgICAgICAgICAvLyB0aGlzLnN0ZXBzQ291bnQgPSAodGhpcy50aHVtYi5nZXRNYXhWYWx1ZSgpIC0gdGhpcy50aHVtYi5nZXRNaW5WYWx1ZSgpKSAvIHRoaXMudGh1bWIuZ2V0U3RlcCgpO1xuLy8gICAgIC8vICAgICAgICAgICAgIC8vIGxldCBzdGVwU2l6ZTogbnVtYmVyID0gKHRoaXMuc2xpZGVyLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCAtIHRoaXMudGh1bWIuZ2V0RWxlbWVudCgpLm9mZnNldFdpZHRoKSAvIHRoaXMuc3RlcHNDb3VudDtcbi8vICAgICAvLyAgICAgICAgICAgICBuZXdMZWZ0ID0gTWF0aC5yb3VuZChuZXdMZWZ0IC8gdGhpcy5zdGVwU2l6ZSkgKiB0aGlzLnN0ZXBTaXplO1xuXG5cbi8vICAgICAvLyAgICAgICAgICAgICAvLyBsZXQgc3RlcENvdW50OiBudW1iZXIgPSAodGhpcy50aHVtYi5nZXRNYXhWYWx1ZSgpIC0gdGhpcy50aHVtYi5nZXRNaW5WYWx1ZSgpKSAvIHRoaXMudGh1bWIuZ2V0U3RlcCgpO1xuLy8gICAgIC8vICAgICAgICAgICAgIC8vIGxldCBzdGVwU2l6ZTogbnVtYmVyID0gKHRoaXMuc2xpZGVyLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCAtIHRoaXMudGh1bWIuZ2V0RWxlbWVudCgpLm9mZnNldFdpZHRoKSAvIHN0ZXBDb3VudDtcbi8vICAgICAvLyAgICAgICAgICAgICAvLyBuZXdMZWZ0ID0gTWF0aC5yb3VuZChuZXdMZWZ0IC8gc3RlcFNpemUpICogc3RlcFNpemU7XG4vLyAgICAgLy8gICAgICAgICB9XG5cbi8vICAgICAvLyAgICAgICAgIHRoaXMucHJvZ3Jlc3NCYXI/LnNldFdpZHRoKG5ld0xlZnQgKyB0aGlzLnRodW1iLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCk7XG4vLyAgICAgLy8gICAgICAgICB0aGlzLnRodW1iLm1vdmVUbyhuZXdMZWZ0KTtcblxuLy8gICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5wb3NpdGlvblRvVmFsdWUodGhpcy50aHVtYiwgbmV3TGVmdCkpLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyAgICAgLy8gICAgIH1cbi8vICAgICAvLyB9XG5cbi8vICAgICAvLyBwcml2YXRlIGVuZERyYWcoKTogdm9pZCB7XG4vLyAgICAgLy8gICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmVIYW5kbGVyIGFzIEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QpO1xuLy8gICAgIC8vICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXBIYW5kbGVyIGFzIEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QpO1xuLy8gICAgIC8vIH1cblxuLy8gICAgIC8vIGNoYW5nZU1pblZhbHVlKHZhbHVlOiBudW1iZXIpIHtcbi8vICAgICAvLyAgICAgaWYgKHRoaXMudGh1bWIpIHtcbi8vICAgICAvLyAgICAgICAgIHRoaXMudGh1bWIuc2V0TWluVmFsdWUodmFsdWUpO1xuLy8gICAgIC8vICAgICB9XG4vLyAgICAgLy8gfVxuXG4vLyAgICAgLy8gY2hhbmdlTWF4VmFsdWUodmFsdWU6IG51bWJlcikge1xuLy8gICAgIC8vICAgICBpZiAodGhpcy50aHVtYikge1xuLy8gICAgIC8vICAgICAgICAgdGhpcy50aHVtYi5zZXRNYXhWYWx1ZSh2YWx1ZSk7XG4vLyAgICAgLy8gICAgIH1cbi8vICAgICAvLyB9XG5cbi8vICAgICAvLyBjaGFuZ2VTdGVwVmFsdWUodmFsdWU6IG51bWJlcikge1xuLy8gICAgIC8vICAgICBpZiAodGhpcy50aHVtYikge1xuLy8gICAgIC8vICAgICAgICAgdGhpcy50aHVtYi5zZXRTdGVwVmFsdWUodmFsdWUpO1xuLy8gICAgIC8vICAgICB9XG4vLyAgICAgLy8gfVxuXG4vLyAgICAgLy8gcHJpdmF0ZSBwb3NpdGlvblRvVmFsdWUodGh1bWI6IFRodW1iLCBsZWZ0OiBudW1iZXIpIHtcbi8vICAgICAvLyAgICAgLy8gcmV0dXJuIChNYXRoLnJvdW5kKGxlZnQgLyB0aHVtYi5waXhlbHNQZXJWYWx1ZSkpO1xuLy8gICAgIC8vICAgICByZXR1cm4gTWF0aC5yb3VuZCh0aHVtYi5nZXRNaW5WYWx1ZSgpICsgKCh0aHVtYi5nZXRNYXhWYWx1ZSgpIC0gXG4vLyAgICAgLy8gICAgICAgICB0aHVtYi5nZXRNaW5WYWx1ZSgpKSAvIDEwMCAqIE1hdGgucm91bmQobGVmdCAvIHRoaXMucGl4ZWxzUGVyVmFsdWUpKSk7XG4vLyAgICAgLy8gfVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vLyAvLyBpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9vYnNlcnZhYmxlJztcbi8vIC8vIGltcG9ydCB7IElOZXdTbGlkZXJPcHRpb25zIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbi8vIC8vIGltcG9ydCB7IElTbGlkZXJDb21wb25lbnRzIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbi8vIC8vIGltcG9ydCB7IElTbGlkZXJTZXR0aW5ncyB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG4vLyAvLyBpbXBvcnQgeyBJVGh1bWJTZXR0aW5ncyB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG4vLyAvLyBpbXBvcnQgeyBJU2NhbGVTZXR0aW5ncyB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG4vLyAvLyBpbXBvcnQgeyBTbGlkZXIgfSBmcm9tICcuL3NsaWRlcic7XG4vLyAvLyBpbXBvcnQgeyBUcmFjayB9IGZyb20gJy4vdHJhY2snO1xuLy8gLy8gaW1wb3J0IHsgUHJvZ3Jlc3NCYXIgfSBmcm9tICcuL3Byb2dyZXNzQmFyJztcbi8vIC8vIGltcG9ydCB7IFRodW1iIH0gZnJvbSAnLi90aHVtYic7XG4vLyAvLyBpbXBvcnQgeyBTY2FsZSB9IGZyb20gJy4vc2NhbGUnO1xuXG4vLyAvLyBleHBvcnQgY2xhc3MgVmlldyB7XG5cbi8vIC8vICAgICBwcml2YXRlIG9ic2VydmVyOiBPYnNlcnZhYmxlO1xuLy8gLy8gICAgIHByaXZhdGUgc2xpZGVyOiBTbGlkZXIgfCBudWxsID0gbnVsbDtcbi8vIC8vICAgICBwcml2YXRlIHRyYWNrOiBUcmFjayB8IG51bGwgPSBudWxsO1xuLy8gLy8gICAgIHByaXZhdGUgcHJvZ3Jlc3NCYXI6IFByb2dyZXNzQmFyIHwgbnVsbCA9IG51bGw7XG4vLyAvLyAgICAgcHJpdmF0ZSB0aHVtYjogVGh1bWIgfCBudWxsID0gbnVsbDtcbi8vIC8vICAgICBwcml2YXRlIHNjYWxlOiBTY2FsZSB8IG51bGwgPSBudWxsO1xuLy8gLy8gICAgIHByaXZhdGUgcGl4ZWxzUGVyVmFsdWU6IG51bWJlciA9IDA7XG4vLyAvLyAgICAgcHJpdmF0ZSBvbk1vdXNlTW92ZUhhbmRsZXI6IEZ1bmN0aW9uIHwgbnVsbCA9IG51bGw7XG4vLyAvLyAgICAgcHJpdmF0ZSBvbk1vdXNlVXBIYW5kbGVyOiBGdW5jdGlvbiB8IG51bGwgPSBudWxsO1xuLy8gLy8gICAgIHByaXZhdGUgc3RlcHNDb3VudDogbnVtYmVyID0gMDtcbi8vIC8vICAgICBwcml2YXRlIHN0ZXBTaXplOiBudW1iZXIgPSAwO1xuXG4vLyAvLyAgICAgY29uc3RydWN0b3Iob2JzZXJ2ZXI6IE9ic2VydmFibGUpIHtcbi8vIC8vICAgICAgICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIGNyZWF0ZVNsaWRlcihzbGlkZXJPcHRpb25zOiBJTmV3U2xpZGVyT3B0aW9ucykge1xuLy8gLy8gICAgICAgICBjb25zdCBzbGlkZXJDb21wb25lbnRzOiBJU2xpZGVyQ29tcG9uZW50cyA9IHRoaXMuYWRkU2xpZGVyVG9QYWdlKHNsaWRlck9wdGlvbnMuc2xpZGVyUG9zaXRpb24pO1xuXG4vLyAvLyAgICAgICAgIHRoaXMuYWRkU2xpZGVyKHNsaWRlckNvbXBvbmVudHMuc2xpZGVyRWxlbSwgc2xpZGVyT3B0aW9ucy5zZXR0aW5ncy5zbGlkZXJTZXR0aW5ncyk7XG4vLyAvLyAgICAgICAgIHRoaXMuYWRkVHJhY2soc2xpZGVyQ29tcG9uZW50cy50cmFja0VsZW0pO1xuLy8gLy8gICAgICAgICB0aGlzLmFkZFByb2dyZXNzQmFyKHNsaWRlckNvbXBvbmVudHMucHJvZ3Jlc3NCYXIpO1xuLy8gLy8gICAgICAgICB0aGlzLmFkZFRodW1iKHNsaWRlckNvbXBvbmVudHMudGh1bWJFbGVtLCBzbGlkZXJPcHRpb25zLnNldHRpbmdzLnRodW1iU2V0dGluZ3MpO1xuXG4vLyAvLyAgICAgICAgIHRoaXMuc3RlcHNDb3VudCA9IHRoaXMuY2FsY3VsYXRlU3RlcHNOdW1iZXIoKTtcbi8vIC8vICAgICAgICAgdGhpcy5zdGVwU2l6ZSA9IHRoaXMuY2FsY3VsYXRlU3RlcFNpemUoKTtcblxuLy8gLy8gICAgICAgICBpZiAodGhpcy5zbGlkZXIgJiYgdGhpcy50aHVtYikge1xuLy8gLy8gICAgICAgICAgICAgdGhpcy5waXhlbHNQZXJWYWx1ZSA9ICh0aGlzLnNsaWRlci5nZXRFbGVtZW50KCkuY2xpZW50V2lkdGggLVxuLy8gLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aHVtYi5nZXRFbGVtZW50KCkuY2xpZW50V2lkdGgpIC8gMTAwO1xuLy8gLy8gICAgICAgICB9XG5cbi8vIC8vICAgICAgICAgdGhpcy5hZGRTY2FsZShzbGlkZXJDb21wb25lbnRzLnNjYWxlRWxlbSwgc2xpZGVyT3B0aW9ucy5zZXR0aW5ncy5zY2FsZVNldHRpbmdzKTtcbi8vIC8vICAgICB9XG5cbi8vIC8vICAgICBwcml2YXRlIGNhbGN1bGF0ZVN0ZXBzTnVtYmVyKCk6IG51bWJlcntcbi8vIC8vICAgICAgICAgaWYgKHRoaXMudGh1bWIpIHtcbi8vIC8vICAgICAgICAgICAgIHJldHVybiAodGhpcy50aHVtYi5nZXRNYXhWYWx1ZSgpIC0gdGhpcy50aHVtYi5nZXRNaW5WYWx1ZSgpKSAvIHRoaXMudGh1bWIuZ2V0U3RlcCgpO1xuLy8gLy8gICAgICAgICB9XG5cbi8vIC8vICAgICAgICAgcmV0dXJuIDA7XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgcHJpdmF0ZSBjYWxjdWxhdGVTdGVwU2l6ZSgpOiBudW1iZXJ7XG4vLyAvLyAgICAgICAgIGlmICh0aGlzLnRodW1iICYmIHRoaXMuc2xpZGVyKSB7XG4vLyAvLyAgICAgICAgICAgICByZXR1cm4gKHRoaXMuc2xpZGVyLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCAtIHRoaXMudGh1bWIuZ2V0RWxlbWVudCgpLm9mZnNldFdpZHRoKSAvIHRoaXMuc3RlcHNDb3VudDtcbi8vIC8vICAgICAgICAgfVxuXG4vLyAvLyAgICAgICAgIHJldHVybiAwO1xuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIHByaXZhdGUgYWRkVHJhY2sodHJhY2tFbGVtOiBIVE1MRWxlbWVudCkge1xuLy8gLy8gICAgICAgICB0aGlzLnRyYWNrID0gbmV3IFRyYWNrKHRyYWNrRWxlbSk7XG5cbi8vIC8vICAgICAgICAgdHJhY2tFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4vLyAvLyAgICAgICAgICAgICB0aGlzLm1vdmVUbyhldmVudCk7XG4vLyAvLyAgICAgICAgIH0pXG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgcHJpdmF0ZSBhZGRQcm9ncmVzc0Jhcihwcm9ncmVzc0JhckVsZW06IEhUTUxFbGVtZW50KSB7XG4vLyAvLyAgICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSBuZXcgUHJvZ3Jlc3NCYXIocHJvZ3Jlc3NCYXJFbGVtLCAwKTtcbi8vIC8vICAgICB9XG5cbi8vIC8vICAgICBwcml2YXRlIGFkZFNsaWRlcihzbGlkZXJFbGVtOiBIVE1MRWxlbWVudCwgc2xpZGVyU2V0dGluZ3M6IElTbGlkZXJTZXR0aW5ncykge1xuLy8gLy8gICAgICAgICB0aGlzLnNsaWRlciA9IG5ldyBTbGlkZXIoc2xpZGVyRWxlbSwgc2xpZGVyU2V0dGluZ3MpO1xuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIHByaXZhdGUgYWRkVGh1bWIodGh1bWJFbGVtOiBIVE1MRWxlbWVudCwgdGh1bWJTZXR0aW5nczogSVRodW1iU2V0dGluZ3MpIHtcblxuLy8gLy8gICAgICAgICB0aGlzLnRodW1iID0gbmV3IFRodW1iKHRodW1iRWxlbSwgdGh1bWJTZXR0aW5ncyk7XG5cbi8vIC8vICAgICAgICAgLy8gY29uc3QgdGh1bWJFbGVtOiBIVE1MRWxlbWVudCA9IHRoaXMudGh1bWIuZ2V0RWxlbWVudCgpO1xuXG4vLyAvLyAgICAgICAgIHRodW1iRWxlbS5vbmRyYWdzdGFydCA9IGZ1bmN0aW9uICgpIHtcbi8vIC8vICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbi8vIC8vICAgICAgICAgfTtcblxuLy8gLy8gICAgICAgICB0aHVtYkVsZW0ub25tb3VzZWRvd24gPSBldmVudCA9PiB7XG4vLyAvLyAgICAgICAgICAgICBpZiAodGhpcy5zbGlkZXIgJiYgdGhpcy50aHVtYikge1xuLy8gLy8gICAgICAgICAgICAgICAgIC8vIHRoaXMucGl4ZWxzUGVyVmFsdWUgPSAodGhpcy5zbGlkZXIuZ2V0RWxlbWVudCgpLmNsaWVudFdpZHRoIC1cbi8vIC8vICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy50aHVtYi5nZXRFbGVtZW50KCkuY2xpZW50V2lkdGgpIC8gMTAwO1xuXG4vLyAvLyAgICAgICAgICAgICAgICAgdGhpcy5zdGFydERyYWcoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4vLyAvLyAgICAgICAgICAgICB9ICAgICAgICAgICAgXG5cbi8vIC8vICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gZGlzYWJsZSBzZWxlY3Rpb24gc3RhcnQgKGN1cnNvciBjaGFuZ2UpXG4vLyAvLyAgICAgICAgIH1cbi8vIC8vICAgICB9XG5cbi8vIC8vICAgICBwcml2YXRlIGFkZFNjYWxlKHNjYWxlRWxlbTogSFRNTEVsZW1lbnQsIHNjYWxlU2V0dGluZ3M6IElTY2FsZVNldHRpbmdzKSB7XG4vLyAvLyAgICAgICAgIGlmICh0aGlzLnRodW1iKSB7XG4vLyAvLyAgICAgICAgICAgICB0aGlzLnNjYWxlID0gbmV3IFNjYWxlKHNjYWxlRWxlbSwgc2NhbGVTZXR0aW5ncywgTWF0aC5yb3VuZCh0aGlzLnN0ZXBzQ291bnQgKyAxKSwgdGhpcy5zdGVwU2l6ZSwgdGhpcy50aHVtYi5nZXRFbGVtZW50KCkuY2xpZW50V2lkdGgsIHRoaXMucGl4ZWxzUGVyVmFsdWUpO1xuLy8gLy8gICAgICAgICAgICAgc2NhbGVFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4vLyAvLyAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlVG8oZXZlbnQpXG4vLyAvLyAgICAgICAgICAgICB9KVxuLy8gLy8gICAgICAgICB9XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgcHJpdmF0ZSBhZGRTbGlkZXJUb1BhZ2Uoc2xpZGVyUG9zaXRpb246IEhUTUxFbGVtZW50KTogSVNsaWRlckNvbXBvbmVudHMge1xuLy8gLy8gICAgICAgICBjb25zdCBzbGlkZXJFbGVtOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuLy8gLy8gICAgICAgICBzbGlkZXJFbGVtLmNsYXNzTmFtZSA9ICdzbGlkZXInO1xuXG4vLyAvLyAgICAgICAgIGNvbnN0IHRyYWNrRWxlbTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbi8vIC8vICAgICAgICAgdHJhY2tFbGVtLmNsYXNzTmFtZSA9ICdzbGlkZXJfX3RyYWNrJztcblxuLy8gLy8gICAgICAgICBjb25zdCBwcm9ncmVzc0JhckVsZW06IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4vLyAvLyAgICAgICAgIHByb2dyZXNzQmFyRWxlbS5jbGFzc05hbWUgPSAnc2xpZGVyX19wcm9ncmVzcy1iYXInO1xuXG4vLyAvLyAgICAgICAgIGNvbnN0IHRodW1iRWxlbTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbi8vIC8vICAgICAgICAgdGh1bWJFbGVtLmNsYXNzTmFtZSA9ICdzbGlkZXJfX3RodW1iJztcblxuLy8gLy8gICAgICAgICBjb25zdCBzY2FsZUVsZW06IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4vLyAvLyAgICAgICAgIHNjYWxlRWxlbS5jbGFzc05hbWUgPSAnc2xpZGVyX19zY2FsZSc7XG5cbi8vIC8vICAgICAgICAgc2xpZGVyRWxlbS5hcHBlbmQodHJhY2tFbGVtKTtcbi8vIC8vICAgICAgICAgc2xpZGVyRWxlbS5hcHBlbmQocHJvZ3Jlc3NCYXJFbGVtKTtcbi8vIC8vICAgICAgICAgc2xpZGVyRWxlbS5hcHBlbmQodGh1bWJFbGVtKTtcbi8vIC8vICAgICAgICAgc2xpZGVyRWxlbS5hcHBlbmQoc2NhbGVFbGVtKTtcbi8vIC8vICAgICAgICAgc2xpZGVyUG9zaXRpb24uYXBwZW5kKHNsaWRlckVsZW0pO1xuXG4vLyAvLyAgICAgICAgIHJldHVybiB7J3NsaWRlckVsZW0nOiBzbGlkZXJFbGVtLCAndHJhY2tFbGVtJzogdHJhY2tFbGVtLCAncHJvZ3Jlc3NCYXInOiBwcm9ncmVzc0JhckVsZW0sICd0aHVtYkVsZW0nOiB0aHVtYkVsZW0sICdzY2FsZUVsZW0nOiBzY2FsZUVsZW19XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgcHJpdmF0ZSBzdGFydERyYWcoc3RhcnRDbGllbnRYOiBudW1iZXIsIHN0YXJ0Q2xpZW50WTogbnVtYmVyKSB7XG4vLyAvLyAgICAgICAgIGlmICh0aGlzLnRodW1iICYmIHRoaXMuc2xpZGVyKSB7XG5cbi8vIC8vICAgICAgICAgICAgIGNvbnN0IHRodW1iQ29vcmRzOiBET01SZWN0ID0gdGhpcy50aHVtYi5nZXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbi8vIC8vICAgICAgICAgICAgIHRoaXMudGh1bWIuc2V0U2hpZnRYKHN0YXJ0Q2xpZW50WCAtIHRodW1iQ29vcmRzLmxlZnQpO1xuLy8gLy8gICAgICAgICAgICAgdGhpcy50aHVtYi5zZXRTaGlmdFkoc3RhcnRDbGllbnRZIC0gdGh1bWJDb29yZHMudG9wKTtcblxuLy8gLy8gICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZUhhbmRsZXIgPSB0aGlzLm1vdmVUby5iaW5kKHRoaXMpO1xuLy8gLy8gICAgICAgICAgICAgdGhpcy5vbk1vdXNlVXBIYW5kbGVyID0gdGhpcy5lbmREcmFnLmJpbmQodGhpcyk7XG5cbi8vIC8vICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsXG4vLyAvLyAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZUhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCk7XG4vLyAvLyAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJyxcbi8vIC8vICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VVcEhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCk7XG4vLyAvLyAgICAgICAgIH1cbi8vIC8vICAgICB9XG5cbi8vIC8vICAgICBwcml2YXRlIG1vdmVUbyhldmVudDogTW91c2VFdmVudCkge1xuLy8gLy8gICAgICAgICBpZiAodGhpcy5zbGlkZXIgJiYgdGhpcy50aHVtYikge1xuXG4vLyAvLyAgICAgICAgICAgICBjb25zdCBzbGlkZXJDb29yZHM6IERPTVJlY3QgPSB0aGlzLnNsaWRlci5nZXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbi8vIC8vICAgICAgICAgICAgIC8vINCy0YvRh9C10YHRgtGMINC60L7QvtGA0LTQuNC90LDRgtGDINGA0L7QtNC40YLQtdC70Y8sINGCLtC6LiBwb3NpdGlvbjogcmVsYXRpdmVcbi8vIC8vICAgICAgICAgICAgIGxldCBuZXdMZWZ0OiBudW1iZXIgPSBldmVudC5jbGllbnRYIC0gdGhpcy50aHVtYi5nZXRTaGlmdFgoKSAtIHNsaWRlckNvb3Jkcy5sZWZ0O1xuXG4vLyAvLyAgICAgICAgICAgICAvLyDQutGD0YDRgdC+0YAg0YPRiNGR0Lsg0LLQvdC1INGB0LvQsNC50LTQtdGA0LBcbi8vIC8vICAgICAgICAgICAgIGlmIChuZXdMZWZ0IDwgMCkge1xuLy8gLy8gICAgICAgICAgICAgICAgIG5ld0xlZnQgPSAwO1xuLy8gLy8gICAgICAgICAgICAgfVxuXG4vLyAvLyAgICAgICAgICAgICBsZXQgcmlnaHRFZGdlOiBudW1iZXIgPSB0aGlzLnNsaWRlci5nZXRFbGVtZW50KCkub2Zmc2V0V2lkdGggLSB0aGlzLnRodW1iLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aDtcblxuLy8gLy8gICAgICAgICAgICAgbmV3TGVmdCA9IE1hdGgucm91bmQobmV3TGVmdCAvIHRoaXMuc3RlcFNpemUpICogdGhpcy5zdGVwU2l6ZTtcblxuLy8gLy8gICAgICAgICAgICAgaWYgKG5ld0xlZnQgPj0gcmlnaHRFZGdlKSB7XG4vLyAvLyAgICAgICAgICAgICAgICAgbmV3TGVmdCA9IHJpZ2h0RWRnZTtcbi8vIC8vICAgICAgICAgICAgIH0gZWxzZSB7XG4vLyAvLyAgICAgICAgICAgICAgICAgLy8gdGhpcy5zdGVwc0NvdW50ID0gKHRoaXMudGh1bWIuZ2V0TWF4VmFsdWUoKSAtIHRoaXMudGh1bWIuZ2V0TWluVmFsdWUoKSkgLyB0aGlzLnRodW1iLmdldFN0ZXAoKTtcbi8vIC8vICAgICAgICAgICAgICAgICAvLyBsZXQgc3RlcFNpemU6IG51bWJlciA9ICh0aGlzLnNsaWRlci5nZXRFbGVtZW50KCkub2Zmc2V0V2lkdGggLSB0aGlzLnRodW1iLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCkgLyB0aGlzLnN0ZXBzQ291bnQ7XG4vLyAvLyAgICAgICAgICAgICAgICAgbmV3TGVmdCA9IE1hdGgucm91bmQobmV3TGVmdCAvIHRoaXMuc3RlcFNpemUpICogdGhpcy5zdGVwU2l6ZTtcblxuXG4vLyAvLyAgICAgICAgICAgICAgICAgLy8gbGV0IHN0ZXBDb3VudDogbnVtYmVyID0gKHRoaXMudGh1bWIuZ2V0TWF4VmFsdWUoKSAtIHRoaXMudGh1bWIuZ2V0TWluVmFsdWUoKSkgLyB0aGlzLnRodW1iLmdldFN0ZXAoKTtcbi8vIC8vICAgICAgICAgICAgICAgICAvLyBsZXQgc3RlcFNpemU6IG51bWJlciA9ICh0aGlzLnNsaWRlci5nZXRFbGVtZW50KCkub2Zmc2V0V2lkdGggLSB0aGlzLnRodW1iLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCkgLyBzdGVwQ291bnQ7XG4vLyAvLyAgICAgICAgICAgICAgICAgLy8gbmV3TGVmdCA9IE1hdGgucm91bmQobmV3TGVmdCAvIHN0ZXBTaXplKSAqIHN0ZXBTaXplO1xuLy8gLy8gICAgICAgICAgICAgfVxuXG4vLyAvLyAgICAgICAgICAgICB0aGlzLnByb2dyZXNzQmFyPy5zZXRXaWR0aChuZXdMZWZ0ICsgdGhpcy50aHVtYi5nZXRFbGVtZW50KCkub2Zmc2V0V2lkdGgpO1xuLy8gLy8gICAgICAgICAgICAgdGhpcy50aHVtYi5tb3ZlVG8obmV3TGVmdCk7XG5cbi8vIC8vICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucG9zaXRpb25Ub1ZhbHVlKHRoaXMudGh1bWIsIG5ld0xlZnQpKS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gLy8gICAgICAgICB9XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgcHJpdmF0ZSBlbmREcmFnKCk6IHZvaWQge1xuLy8gLy8gICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlSGFuZGxlciBhcyBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0KTtcbi8vIC8vICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwSGFuZGxlciBhcyBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0KTtcbi8vIC8vICAgICB9XG5cbi8vIC8vICAgICBjaGFuZ2VNaW5WYWx1ZSh2YWx1ZTogbnVtYmVyKSB7XG4vLyAvLyAgICAgICAgIGlmICh0aGlzLnRodW1iKSB7XG4vLyAvLyAgICAgICAgICAgICB0aGlzLnRodW1iLnNldE1pblZhbHVlKHZhbHVlKTtcbi8vIC8vICAgICAgICAgfVxuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIGNoYW5nZU1heFZhbHVlKHZhbHVlOiBudW1iZXIpIHtcbi8vIC8vICAgICAgICAgaWYgKHRoaXMudGh1bWIpIHtcbi8vIC8vICAgICAgICAgICAgIHRoaXMudGh1bWIuc2V0TWF4VmFsdWUodmFsdWUpO1xuLy8gLy8gICAgICAgICB9XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgY2hhbmdlU3RlcFZhbHVlKHZhbHVlOiBudW1iZXIpIHtcbi8vIC8vICAgICAgICAgaWYgKHRoaXMudGh1bWIpIHtcbi8vIC8vICAgICAgICAgICAgIHRoaXMudGh1bWIuc2V0U3RlcFZhbHVlKHZhbHVlKTtcbi8vIC8vICAgICAgICAgfVxuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIHByaXZhdGUgcG9zaXRpb25Ub1ZhbHVlKHRodW1iOiBUaHVtYiwgbGVmdDogbnVtYmVyKSB7XG4vLyAvLyAgICAgICAgIC8vIHJldHVybiAoTWF0aC5yb3VuZChsZWZ0IC8gdGh1bWIucGl4ZWxzUGVyVmFsdWUpKTtcbi8vIC8vICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGh1bWIuZ2V0TWluVmFsdWUoKSArICgodGh1bWIuZ2V0TWF4VmFsdWUoKSAtIFxuLy8gLy8gICAgICAgICAgICAgdGh1bWIuZ2V0TWluVmFsdWUoKSkgLyAxMDAgKiBNYXRoLnJvdW5kKGxlZnQgLyB0aGlzLnBpeGVsc1BlclZhbHVlKSkpO1xuLy8gLy8gICAgIH1cbi8vIC8vIH1cblxuXG5cblxuXG5cblxuXG5cbi8vIC8vIGV4cG9ydCBjbGFzcyBWaWV3IHtcblxuLy8gLy8gICAgIG9ic2VydmVyOiBPYnNlcnZhYmxlO1xuXG4vLyAvLyAgICAgY29uc3RydWN0b3Iob2JzZXJ2ZXI6IE9ic2VydmFibGUpIHtcbi8vIC8vICAgICAgICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIHNlYXJjaFNsaWRlcnNQb3NpdGlvbnMoKTogdm9pZCB7XG4vLyAvLyAgICAgICAgIGxldCBzbGlkZXJzUG9zaXRpb25zOiBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PiA9XG4vLyAvLyAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5jcmVkaWJsZS1zbGlkZXItcGx1Z2luJyk7XG5cbi8vIC8vICAgICAgICAgZm9yIChsZXQgc2xpZGVyUG9zaXRpb24gb2Ygc2xpZGVyc1Bvc2l0aW9ucykge1xuLy8gLy8gICAgICAgICAgICAgdGhpcy5jcmVhdGVTbGlkZXIoc2xpZGVyUG9zaXRpb24pXG4vLyAvLyAgICAgICAgIH1cbi8vIC8vICAgICB9XG5cbi8vIC8vICAgICBjcmVhdGVTbGlkZXIoc2xpZGVyUG9zaXRpb246IEhUTUxFbGVtZW50KSB7XG4vLyAvLyAgICAgICAgIGxldCBzbGlkZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4vLyAvLyAgICAgICAgIHNsaWRlci5jbGFzc05hbWUgPSAnc2xpZGVyJztcblxuLy8gLy8gICAgICAgICBsZXQgdHJhY2s6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4vLyAvLyAgICAgICAgIHRyYWNrLmNsYXNzTmFtZSA9ICdzbGlkZXJfX3RyYWNrJztcblxuLy8gLy8gICAgICAgICBsZXQgdGh1bWI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4vLyAvLyAgICAgICAgIHRodW1iLmNsYXNzTmFtZSA9ICdzbGlkZXJfX3RodW1iJztcblxuLy8gLy8gICAgICAgICBzbGlkZXIuYXBwZW5kKHRyYWNrKTtcbi8vIC8vICAgICAgICAgc2xpZGVyLmFwcGVuZCh0aHVtYik7XG4vLyAvLyAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHNsaWRlcik7XG4vLyAvLyAgICAgICAgIHNsaWRlclBvc2l0aW9uLnJlcGxhY2VXaXRoKHNsaWRlcik7XG5cbi8vIC8vICAgICAgICAgLy8gY29uc3Qgc2xpZGVyRnVuYyA9IHRoaXMuU2xpZGVyKHNsaWRlcik7XG5cbi8vIC8vICAgICAgICAgdGhpcy5vYnNlcnZlci5ub3RpZnkoJ2FkZGVkTmV3U2xpZGVyVG9ET00nLFxuLy8gLy8gICAgICAgICAgICAgeyAnc2xpZGVyRWxlbSc6IHNsaWRlciwgJ3RyYWNrRWxlbSc6IHRyYWNrLCAndGh1bWJFbGVtJzogdGh1bWIgfSk7XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgdGFyZ2V0SXNUaHVtYihldmVudDogTW91c2VFdmVudCk6IGJvb2xlYW4ge1xuLy8gLy8gICAgICAgICBjb25zdCB0YXJnZXQ6IEhUTUxFbGVtZW50ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuXG4vLyAvLyAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGlkZXJfX3RodW1iJykpIHtcbi8vIC8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuLy8gLy8gICAgICAgICB9XG5cbi8vIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIG1vdmVUbyh0aHVtYkVsZW06IEhUTUxFbGVtZW50LCBuZXdMZWZ0OiBudW1iZXIpOiB2b2lkIHtcbi8vIC8vICAgICAgICAgdGh1bWJFbGVtLnN0eWxlLmxlZnQgPSBuZXdMZWZ0ICsgJ3B4Jztcbi8vIC8vICAgICB9XG4vLyAvLyB9IiwiaW1wb3J0IHsgSUNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuXG5pbXBvcnQgT2JzZXJ2ZXIgZnJvbSAnLi4vb2JzZXJ2ZXIvb2JzZXJ2ZXInO1xuaW1wb3J0IFNsaWRlciBmcm9tICcuL3NsaWRlcic7XG5pbXBvcnQgVHJhY2sgZnJvbSAnLi90cmFjayc7XG5pbXBvcnQgVGh1bWIgZnJvbSAnLi90aHVtYic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuL3Rvb2x0aXAnO1xuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4vcHJvZ3Jlc3NCYXInO1xuaW1wb3J0IFNjYWxlIGZyb20gJy4vc2NhbGUnO1xuXG5cbi8qKlxuICog0JrQu9Cw0YHRgS3RhNCw0LHRgNC40LrQsCDQtNC70Y8g0YHQvtC30LTQsNC90LjRjyDRjdC70LXQvNC10L3RgtC+0LIg0YHQu9Cw0LnQtNC10YDQsFxuICovXG5jbGFzcyBFbGVtZW50RmFjdG9yeSB7XG4gICAgcHJpdmF0ZSBjcmVhdGVFbGVtZW50PFQ+KHBhcnJlbnQ6IEhUTUxEaXZFbGVtZW50LCBzdHlsZUNsYXNzZXM6IHN0cmluZywgY3JlYXRlT2JqOiBJQ3JlYXRlT2JqZWN0PFQ+KTogVCB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqINCc0LXRgtC+0LQg0LTQu9GPINGB0L7Qt9C00LDQvdC40Y8g0L7QsdGK0LXQutGC0L7QsiDRgNCw0LfQu9C40YfQvdGL0YUg0LrQu9Cw0YHRgdC+0LIuXG4gICAgICAgICAqINCe0LHRitC10LrRgiDQutC+0L3QutGA0LXRgtC90L7Qs9C+INC60LvQsNGB0YHQsCDRgdC+0LfQtNCw0ZHRgtGB0Y8g0L/Rg9GC0ZHQvCDQstGL0LfQvtCy0LAg0YTRg9C90LrRhtC40Lgg0LjQtyDQv9Cw0YDQsNC80LXRgtGA0LAgY3JlYXRlT2JqINGBINCw0YDQs9GD0LzQtdC90YLQvtC8LCDQutC+0YLQvtGA0YvQuSDRgdC70YPQttC40YIg0L/QsNGA0LDQvNC10YLRgNC+0LxcbiAgICAgICAgICog0LTQu9GPINC60L7QvdGB0YLRgNGD0LrRgtC+0YDQsCDRgdC+0LfQtNCw0LLQsNC10LzQvtCz0L4g0L7QsdGK0LXQutGC0LAuXG4gICAgICAgICAqIFxuICAgICAgICAgKiDQnNC10YLQvtC0INCy0YvQv9C+0LvQvdGP0LXRgiDRgdC70LXQtNGD0Y7RidC40LUg0LTQtdC50YHRgtCy0LjRjzpcbiAgICAgICAgICogMS4g0KHQvtC30LTQsNGR0YIg0Y3Qu9C10LzQtdC90YIgZGl2INGBINC60LvQsNGB0YHQsNC80Lgg0LjQtyDQv9Cw0YDQsNC80LXRgtGA0LAgc3R5bGVzXG4gICAgICAgICAqIDIuINCh0L7Qt9C00LDRkdGCINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAg0LLQvtC30LLRgNCw0YnQsNC10LzQvtCz0L4g0YTRg9C90LrRhtC40LXQuSBjcmV0ZU9ialxuICAgICAgICAgKiAzLiDQlNC+0LHQsNCy0LvRj9C10YIg0YHQvtC30LTQsNC90L3Ri9C5IGRpdiDRjdC70LXQvNC10L3RgiDQsiDQutC+0L3RgtC10LnQvdC10YAg0LjQtyDQv9Cw0YDQsNC80LXRgtGA0LAgcGFycmVudFxuICAgICAgICAgKiA0LiDQktC+0LfQstGA0LDRidCw0LXRgiDQsiDQstGL0LfRi9Cy0LDRjtGJ0LjQuSDQutC+0LQg0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCDRgdC+0LfQtNCw0L3QvdC+0LPQviDRhNGD0L3QutGG0LjQtdC5IGNyZXRlT2JqXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0ge0hUTUxEaXZFbGVtZW50fSBwYXJyZW50IC0g0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC60L7QvdGC0LXQudC90LXRgCwg0LIg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDQtNC+0LHQsNCy0LvQtdC9INGB0L7Qt9C00LDQvdC90YvQuSBIVE1MINGN0LvQtdC80LXQvdGCXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZUNsYXNzZXMgLSDRgdGC0YDQvtC60LAg0YEg0LrQu9Cw0YHRgdCw0LzQuCDQtNC70Y8g0YHQvtC30LTQsNCy0LDQtdC80L7Qs9C+INGN0LvQtdC80LXQvdGC0LBcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3JlYXRlT2JqIC0g0YTRg9C90LrRhtC40Y8g0YHQvtC30LTQsNGO0YnQsNGPINC4INCy0L7Qt9Cy0YDQsNGJ0LDRjtGJ0LDRjyDQvdC+0LLRi9C5INC+0LHRitC10LrRgiDRgSDQt9Cw0LTQsNC90L3Ri9C8INC60LvQsNGB0YHQvtC8XG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcmV0dXJucyB7YW55fSAtINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAg0YHQvtC30LTQsNC90L3QvtCz0L4g0YTRg9C90LrRhtC40LXQuSBjcmV0ZU9ialxuICAgICAgICAgKi9cblxuICAgICAgICBjb25zdCBlbGVtZW50OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IHN0eWxlQ2xhc3NlcztcbiAgICAgICAgY29uc3Qgb2JqID0gY3JlYXRlT2JqKGVsZW1lbnQpO1xuICAgICAgICBwYXJyZW50LnByZXBlbmQoZWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgU2xpZGVyLiDQnNC10YLQvtC0INCy0YvQv9C+0LvQvdGP0LXRgiDRgdC70LXQtNGD0Y7RidC40LUg0LTQtdC50YHRgtCy0LjRjzpcbiAgICAgKiAxLiDQodC+0LfQtNCw0ZHRgiBjYWxsYmFjayDRhNGD0L3QutGG0LjRjiwg0LrQvtGC0L7RgNCw0Y8g0YHQvtC30LTQsNGR0YIg0Lgg0LLQvtC30LLRgNCw0YnQsNC10YIg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFNsaWRlclxuICAgICAqIDIuINCS0YvQt9GL0LLQsNC10YIg0LzQtdGC0L7QtCBjcmVhdGVFbGVtZW50INCyINC60L7RgtC+0YDQvtC8INGB0L7Qt9C00LDRkdGC0YHRjyDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFNsaWRlciDQuCBkaXYg0Y3Qu9C10LzQtdC90YIgc2xpZGVyLCDRgSDQutC70LDRgdGB0LDQvNC4INC40LdcbiAgICAgKiDQv9Cw0YDQsNC80LXRgtGA0LAgc3R5bGVzLCDQv9C+0LzQtdGJ0ZHQvdC90YvQuSDQsiDQutC+0L3RgtC10LnQvdC10YAg0LjQtyDQv9Cw0YDQsNC80LXRgtGA0LAgcGFycmVudFxuICAgICAqIDMuINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINCyINCy0YvQt9GL0LLQsNGO0YnQuNC5INC60L7QtCDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFNsaWRlclxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SFRNTERpdkVsZW1lbnR9IHBhcnJlbnQgLSDQutC+0L3RgtC10LnQvdC10YAsINCyINC60L7RgtC+0YDRi9C5INCx0YPQtNC10YIg0LTQvtCx0LDQstC70LXQvSDRgdC+0LfQtNCw0LLQsNC10LzRi9C5INGN0LvQtdC80LXQvdGCXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlQ2xhc3NlcyAtINC60LvQsNGB0YHRiyDQtNC70Y8g0YHQvtC30LTQsNCy0LDQtdC80L7Qs9C+INGN0LvQtdC80LXQvdGC0LBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7U2xpZGVyfSAtINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgU2xpZGVyXG4gICAgICovXG4gICAgY3JlYXRlU2xpZGVyKHBhcnJlbnQ6IEhUTUxEaXZFbGVtZW50LCBzdHlsZUNsYXNzZXM6IHN0cmluZyk6IFNsaWRlciB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVNsaWRlck9iaiA9IChvYmo6IEhUTUxEaXZFbGVtZW50KSA9PiB7IHJldHVybiBuZXcgU2xpZGVyKG9iaikgfVxuICAgICAgICBjb25zdCBzbGlkZXIgPSB0aGlzLmNyZWF0ZUVsZW1lbnQ8U2xpZGVyPihwYXJyZW50LCBzdHlsZUNsYXNzZXMsIGNyZWF0ZVNsaWRlck9iaik7XG5cbiAgICAgICAgcmV0dXJuIHNsaWRlclxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCBUcmFja1xuICAgICAqIFxuICAgICAqINCc0LXRgtC+0LQg0LLRi9C/0L7Qu9C90Y/QtdGCINGB0LvQtdC00YPRjtGJ0LjQtSDQtNC10LnRgdGC0LLQuNGPOlxuICAgICAqIDEuINCh0L7Qt9C00LDRkdGCIGNhbGxiYWNrINGE0YPQvdC60YbQuNGOLCDQutC+0YLQvtGA0LDRjyDRgdC+0LfQtNCw0ZHRgiDQuCDQstC+0LfQstGA0LDRidCw0LXRgiDQvdC+0LLRi9C5INC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgVHJhY2tcbiAgICAgKiAyLiDQktGL0LfRi9Cy0LDQtdGCINC80LXRgtC+0LQgY3JlYXRlRWxlbWVudCDQsiDQutC+0YLQvtGA0L7QvCDRgdC+0LfQtNCw0ZHRgtGB0Y8g0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCBUcmFjayDQuCBkaXYg0Y3Qu9C10LzQtdC90YIgdHJhY2ssINGBINC60LvQsNGB0YHQsNC80Lgg0LjQt1xuICAgICAqINC/0LDRgNCw0LzQtdGC0YDQsCBzdHlsZXMsINC/0L7QvNC10YnRkdC90L3Ri9C5INCyINC60L7QvdGC0LXQudC90LXRgCDQuNC3INC/0LDRgNCw0LzQtdGC0YDQsCBwYXJyZW50XG4gICAgICogMy4g0JLQvtC30LLRgNCw0YnQsNC10YIg0LIg0LLRi9C30YvQstCw0Y7RidC40Lkg0LrQvtC0INC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgVHJhY2tcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0hUTUxEaXZFbGVtZW50fSBwYXJyZW50IC0g0LrQvtC90YLQtdC50L3QtdGALCDQsiDQutC+0YLQvtGA0YvQuSDQsdGD0LTQtdGCINC00L7QsdCw0LLQu9C10L0g0YHQvtC30LTQsNCy0LDQtdC80YvQuSDRjdC70LXQvNC10L3RglxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZUNsYXNzZXMgLSDQutC70LDRgdGB0Ysg0LTQu9GPINGB0L7Qt9C00LDQstCw0LXQvNC+0LPQviDRjdC70LXQvNC10L3RgtCwXG4gICAgICogQHBhcmFtIHtPYnNlcnZlcn0gb2JzZXJ2ZXIgLSDQvtCx0YHQtdGA0LLQtdGAINC00LvRjyDQvtGC0L/RgNCw0LLQutC4INGD0LLQtdC00L7QvNC70LXQvdC40Lkg0L/QvtC00L/QuNGB0YfQuNC60LDQvFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtUcmFja30gLSDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFRyYWNrXG4gICAgICovXG4gICAgY3JlYXRlVHJhY2socGFycmVudDogSFRNTERpdkVsZW1lbnQsIHN0eWxlQ2xhc3Nlczogc3RyaW5nLCBvYnNlcnZlcjogT2JzZXJ2ZXIpOiBUcmFjayB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVRyYWNrck9iaiA9IChvYmo6IEhUTUxEaXZFbGVtZW50KSA9PiB7IHJldHVybiBuZXcgVHJhY2sob2JqLCBvYnNlcnZlcikgfVxuICAgICAgICBjb25zdCB0cmFjayA9IHRoaXMuY3JlYXRlRWxlbWVudDxUcmFjaz4ocGFycmVudCwgc3R5bGVDbGFzc2VzLCBjcmVhdGVUcmFja3JPYmopO1xuXG4gICAgICAgIHJldHVybiB0cmFjaztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgVGh1bWJcbiAgICAgKiBcbiAgICAgKiDQnNC10YLQvtC0INCy0YvQv9C+0LvQvdGP0LXRgiDRgdC70LXQtNGD0Y7RidC40LUg0LTQtdC50YHRgtCy0LjRjzpcbiAgICAgKiAxLiDQodC+0LfQtNCw0ZHRgiBjYWxsYmFjayDRhNGD0L3QutGG0LjRjiwg0LrQvtGC0L7RgNCw0Y8g0YHQvtC30LTQsNGR0YIg0Lgg0LLQvtC30LLRgNCw0YnQsNC10YIg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFRodW1iXG4gICAgICogMi4g0JLRi9C30YvQstCw0LXRgiDQvNC10YLQvtC0IGNyZWF0ZUVsZW1lbnQg0LIg0LrQvtGC0L7RgNC+0Lwg0YHQvtC30LTQsNGR0YLRgdGPINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgVGh1bWIg0LggZGl2INGN0LvQtdC80LXQvdGCIHRodW1iLCDRgSDQutC70LDRgdGB0LDQvNC4INC40LdcbiAgICAgKiDQv9Cw0YDQsNC80LXRgtGA0LAgc3R5bGVzLCDQv9C+0LzQtdGJ0ZHQvdC90YvQuSDQsiDQutC+0L3RgtC10LnQvdC10YAg0LjQtyDQv9Cw0YDQsNC80LXRgtGA0LAgcGFycmVudFxuICAgICAqIDMuINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINCyINCy0YvQt9GL0LLQsNGO0YnQuNC5INC60L7QtCDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFRodW1iXG4gICAgICogXG4gICAgICogQHBhcmFtIHtIVE1MRGl2RWxlbWVudH0gcGFycmVudCAtINC60L7QvdGC0LXQudC90LXRgCwg0LIg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDQtNC+0LHQsNCy0LvQtdC9INGB0L7Qt9C00LDQstCw0LXQvNGL0Lkg0Y3Qu9C10LzQtdC90YJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVDbGFzc2VzIC0g0LrQu9Cw0YHRgdGLINC00LvRjyDRgdC+0LfQtNCw0LLQsNC10LzQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsFxuICAgICAqIEBwYXJhbSB7T2JzZXJ2ZXJ9IG9ic2VydmVyIC0g0L7QsdGB0LXRgNCy0LXRgCDQtNC70Y8g0L7RgtC/0YDQsNCy0LrQuCDRg9Cy0LXQtNC+0LzQu9C10L3QuNC5INC/0L7QtNC/0LjRgdGH0LjQutCw0LxcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7VGh1bWJ9IC0g0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCBUaHVtYlxuICAgICAqL1xuICAgIGNyZWF0ZVRodW1iKHBhcnJlbnQ6IEhUTUxEaXZFbGVtZW50LCBzdHlsZUNsYXNzZXM6IHN0cmluZywgb2JzZXJ2ZXI6IE9ic2VydmVyKTogVGh1bWIge1xuICAgICAgICBjb25zdCBjcmVhdGVUaHVtYk9iaiA9IChvYmo6IEhUTUxEaXZFbGVtZW50KSA9PiB7IHJldHVybiBuZXcgVGh1bWIob2JqLCBvYnNlcnZlcikgfVxuICAgICAgICBjb25zdCB0aHVtYiA9IHRoaXMuY3JlYXRlRWxlbWVudDxUaHVtYj4ocGFycmVudCwgc3R5bGVDbGFzc2VzLCBjcmVhdGVUaHVtYk9iaik7XG5cbiAgICAgICAgcmV0dXJuIHRodW1iO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCBUb29sdGlwXG4gICAgICogXG4gICAgICog0JzQtdGC0L7QtCDQstGL0L/QvtC70L3Rj9C10YIg0YHQu9C10LTRg9GO0YnQuNC1INC00LXQudGB0YLQstC40Y86XG4gICAgICogMS4g0KHQvtC30LTQsNGR0YIgY2FsbGJhY2sg0YTRg9C90LrRhtC40Y4sINC60L7RgtC+0YDQsNGPINGB0L7Qt9C00LDRkdGCINC4INCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC90L7QstGL0Lkg0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCBUb29sdGlwXG4gICAgICogMi4g0JLRi9C30YvQstCw0LXRgiDQvNC10YLQvtC0IGNyZWF0ZUVsZW1lbnQg0LIg0LrQvtGC0L7RgNC+0Lwg0YHQvtC30LTQsNGR0YLRgdGPINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgVG9vbHRpcCDQuCBkaXYg0Y3Qu9C10LzQtdC90YIgdG9vbHRpcCwg0YEg0LrQu9Cw0YHRgdCw0LzQuCDQuNC3XG4gICAgICog0L/QsNGA0LDQvNC10YLRgNCwIHN0eWxlcywg0L/QvtC80LXRidGR0L3QvdGL0Lkg0LIg0LrQvtC90YLQtdC50L3QtdGAINC40Lcg0L/QsNGA0LDQvNC10YLRgNCwIHBhcnJlbnRcbiAgICAgKiAzLiDQktC+0LfQstGA0LDRidCw0LXRgiDQsiDQstGL0LfRi9Cy0LDRjtGJ0LjQuSDQutC+0LQg0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCBUb29sdGlwXG4gICAgICogXG4gICAgICogQHBhcmFtIHtIVE1MRGl2RWxlbWVudH0gcGFycmVudCAtINC60L7QvdGC0LXQudC90LXRgCwg0LIg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDQtNC+0LHQsNCy0LvQtdC9INGB0L7Qt9C00LDQstCw0LXQvNGL0Lkg0Y3Qu9C10LzQtdC90YJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVDbGFzc2VzIC0g0LrQu9Cw0YHRgdGLINC00LvRjyDRgdC+0LfQtNCw0LLQsNC10LzQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtUaHVtYn0gLSDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFRvb2x0aXBcbiAgICAgKi9cbiAgICBjcmVhdGVUb29sdGlwKHBhcnJlbnQ6IEhUTUxEaXZFbGVtZW50LCBzdHlsZUNsYXNzZXM6IHN0cmluZyk6IFRvb2x0aXAge1xuICAgICAgICBjb25zdCBjcmVhdGVUb29sdGlwT2JqID0gKG9iajogSFRNTERpdkVsZW1lbnQpID0+IHsgcmV0dXJuIG5ldyBUb29sdGlwKG9iaikgfVxuICAgICAgICBjb25zdCB0b29sdGlwID0gdGhpcy5jcmVhdGVFbGVtZW50PFRvb2x0aXA+KHBhcnJlbnQsIHN0eWxlQ2xhc3NlcywgY3JlYXRlVG9vbHRpcE9iaik7XG5cbiAgICAgICAgcmV0dXJuIHRvb2x0aXA7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFByb2dyZXNzQmFyXG4gICAgICogXG4gICAgICog0JzQtdGC0L7QtCDQstGL0L/QvtC70L3Rj9C10YIg0YHQu9C10LTRg9GO0YnQuNC1INC00LXQudGB0YLQstC40Y86XG4gICAgICogMS4g0KHQvtC30LTQsNGR0YIgY2FsbGJhY2sg0YTRg9C90LrRhtC40Y4sINC60L7RgtC+0YDQsNGPINGB0L7Qt9C00LDRkdGCINC4INCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC90L7QstGL0Lkg0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCBQcm9ncmVzc0JhclxuICAgICAqIDIuINCS0YvQt9GL0LLQsNC10YIg0LzQtdGC0L7QtCBjcmVhdGVFbGVtZW50INCyINC60L7RgtC+0YDQvtC8INGB0L7Qt9C00LDRkdGC0YHRjyDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFByb2dyZXNzQmFyINC4IGRpdiDRjdC70LXQvNC10L3RgiBwcm9ncmVzc0Jhciwg0YEg0LrQu9Cw0YHRgdCw0LzQuCDQuNC3XG4gICAgICog0L/QsNGA0LDQvNC10YLRgNCwIHN0eWxlcywg0L/QvtC80LXRidGR0L3QvdGL0Lkg0LIg0LrQvtC90YLQtdC50L3QtdGAINC40Lcg0L/QsNGA0LDQvNC10YLRgNCwIHBhcnJlbnRcbiAgICAgKiAzLiDQktC+0LfQstGA0LDRidCw0LXRgiDQsiDQstGL0LfRi9Cy0LDRjtGJ0LjQuSDQutC+0LQg0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCBQcm9ncmVzc0JhclxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SFRNTERpdkVsZW1lbnR9IHBhcnJlbnQgLSDQutC+0L3RgtC10LnQvdC10YAsINCyINC60L7RgtC+0YDRi9C5INCx0YPQtNC10YIg0LTQvtCx0LDQstC70LXQvSDRgdC+0LfQtNCw0LLQsNC10LzRi9C5INGN0LvQtdC80LXQvdGCXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlQ2xhc3NlcyAtINC60LvQsNGB0YHRiyDQtNC70Y8g0YHQvtC30LTQsNCy0LDQtdC80L7Qs9C+INGN0LvQtdC80LXQvdGC0LBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UHJvZ3Jlc3NCYXJ9IC0g0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCBQcm9ncmVzc0JhclxuICAgICAqL1xuICAgIGNyZWF0ZVByb2dyZXNzQmFyKHBhcnJlbnQ6IEhUTUxEaXZFbGVtZW50LCBzdHlsZUNsYXNzZXM6IHN0cmluZyk6IFByb2dyZXNzQmFyIHtcblxuICAgICAgICBjb25zdCBjcmVhdGVQcm9ncmVzc0Jhck9iaiA9IChvYmo6IEhUTUxEaXZFbGVtZW50KSA9PiB7IHJldHVybiBuZXcgUHJvZ3Jlc3NCYXIob2JqKSB9XG4gICAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gdGhpcy5jcmVhdGVFbGVtZW50PFByb2dyZXNzQmFyPihwYXJyZW50LCBzdHlsZUNsYXNzZXMsIGNyZWF0ZVByb2dyZXNzQmFyT2JqKTtcblxuICAgICAgICByZXR1cm4gcHJvZ3Jlc3NCYXI7XG5cbiAgICB9XG4gICAgXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFNjYWxlXG4gICAgICogXG4gICAgICog0JzQtdGC0L7QtCDQstGL0L/QvtC70L3Rj9C10YIg0YHQu9C10LTRg9GO0YnQuNC1INC00LXQudGB0YLQstC40Y86XG4gICAgICogMS4g0KHQvtC30LTQsNGR0YIgY2FsbGJhY2sg0YTRg9C90LrRhtC40Y4sINC60L7RgtC+0YDQsNGPINGB0L7Qt9C00LDRkdGCINC4INCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC90L7QstGL0Lkg0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCBTY2FsZVxuICAgICAqIDIuINCS0YvQt9GL0LLQsNC10YIg0LzQtdGC0L7QtCBjcmVhdGVFbGVtZW50INCyINC60L7RgtC+0YDQvtC8INGB0L7Qt9C00LDRkdGC0YHRjyDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdCwIFNjYWxlINC4IGRpdiDRjdC70LXQvNC10L3RgiBzY2FsZSwg0YEg0LrQu9Cw0YHRgdCw0LzQuCDQuNC3XG4gICAgICog0L/QsNGA0LDQvNC10YLRgNCwIHN0eWxlcywg0L/QvtC80LXRidGR0L3QvdGL0Lkg0LIg0LrQvtC90YLQtdC50L3QtdGAINC40Lcg0L/QsNGA0LDQvNC10YLRgNCwIHBhcnJlbnRcbiAgICAgKiAzLiDQktC+0LfQstGA0LDRidCw0LXRgiDQsiDQstGL0LfRi9Cy0LDRjtGJ0LjQuSDQutC+0LQg0L7QsdGK0LXQutGCINC60LvQsNGB0YHQsCBTY2FsZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SFRNTERpdkVsZW1lbnR9IHBhcnJlbnQgLSDQutC+0L3RgtC10LnQvdC10YAsINCyINC60L7RgtC+0YDRi9C5INCx0YPQtNC10YIg0LTQvtCx0LDQstC70LXQvSDRgdC+0LfQtNCw0LLQsNC10LzRi9C5INGN0LvQtdC80LXQvdGCXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlQ2xhc3NlcyAtINC60LvQsNGB0YHRiyDQtNC70Y8g0YHQvtC30LTQsNCy0LDQtdC80L7Qs9C+INGN0LvQtdC80LXQvdGC0LBcbiAgICAgKiBAcGFyYW0ge09ic2VydmVyfSBvYnNlcnZlciAtINC+0LHRgdC10YDQstC10YAg0LTQu9GPINC+0YLQv9GA0LDQstC60Lgg0YPQstC10LTQvtC80LvQtdC90LjQuSDQv9C+0LTQv9C40YHRh9C40LrQsNC8XG4gICAgICogXG4gICAgICogQHJldHVybnMge1Byb2dyZXNzQmFyfSAtINC+0LHRitC10LrRgiDQutC70LDRgdGB0LAgU2NhbGVcbiAgICAgKi9cbiAgICBjcmVhdGVTY2FsZShwYXJyZW50OiBIVE1MRGl2RWxlbWVudCwgc3R5bGVDbGFzc2VzOiBzdHJpbmcsIG9ic2VydmVyOiBPYnNlcnZlcik6IFNjYWxlIHtcblxuICAgICAgICBjb25zdCBjcmVhdGVTY2FsZU9iaiA9IChvYmo6IEhUTUxEaXZFbGVtZW50KSA9PiB7IHJldHVybiBuZXcgU2NhbGUob2JqLCBvYnNlcnZlcikgfVxuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuY3JlYXRlRWxlbWVudDxTY2FsZT4ocGFycmVudCwgc3R5bGVDbGFzc2VzLCBjcmVhdGVTY2FsZU9iaik7XG5cbiAgICAgICAgcmV0dXJuIHNjYWxlO1xuXG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEVsZW1lbnRGYWN0b3J5OyIsImltcG9ydCB7IElTbGlkZXJTaXplIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBJQm9yZGVyQ29vcmRzIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBJU2xpZGVyTWFyZ2lucyB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuXG5cbi8qKlxuICog0JrQu9Cw0YHRgSDQutC+0L3RgtC10LnQvdC10YDQsCDQtNC70Y8g0Y3Qu9C10LzQtdC90YLQvtCyINGB0LvQsNC50LTQtdGA0LAuINCh0L7QtNC10YDQttC40YIgZGl2INGN0LvQtdC80LXQvdGCINC60L7QvdGC0LXQudC90LXRgNCwINC4INC+0YDQs9Cw0L3QuNC30L7QstGL0LLQsNC10YIg0YPQv9GA0LDQstC70LXQvdC40LUg0LjQvFxuICovXG5jbGFzcyBTbGlkZXIge1xuICAgIHByaXZhdGUgZWxlbWVudDogSFRNTERpdkVsZW1lbnQ7XG5cblxuICAgIGNvbnN0cnVjdG9yKHNsaWRlckVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHNsaWRlckVsZW1lbnQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiBkaXYg0LrQvtC90YLQtdC50L3QtdGAINC00LvRjyDRjdC70LXQvNC10L3RgtC+0LIg0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtIVE1MRGl2RWxlbWVudH0gLSBkaXYg0LrQvtC90YLQtdC50L3QtdGAINC00LvRjyDRjdC70LXQvNC10L3RgtC+0LIg0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqL1xuICAgIGdldEVsZW1lbnQoKTogSFRNTERpdkVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDRiNC40YDQuNC90YMg0Lgg0LLRi9GB0L7RgtGDINC60L7QvdGC0LXQudC90LXRgNCwINC00LvRjyDRjdC70LXQvNC10L3RgtC+0LIg0YHQu9Cw0LnQtNC10YDQsFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SVNsaWRlclNpemV9IHNpemUgLSDQvtCx0YrQtdC60YIg0YHQviDQt9C90LDRh9C10L3QuNGP0LzQuCDRiNC40YDQuNC90Ysg0Lgg0LLRi9GB0L7RgtGLXG4gICAgICovXG4gICAgc2V0U2l6ZShzaXplOiBJU2xpZGVyU2l6ZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSBgJHtzaXplLndpZHRofXB4YDtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke3NpemUuaGVpZ2h0fXB4YDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGI0LjRgNC40L3RgyDQuCDQstGL0YHQvtGC0YMg0LrQvtC90YLQtdC50L3QtdGA0LAg0LTQu9GPINGN0LvQtdC80LXQvdGC0L7QsiDRgdC70LDQudC00LXRgNCwXG4gICAgICogXG4gICAgICogQHJldHVybnMge0lTbGlkZXJTaXplfSAtINGI0LjRgNC40L3QsCDQuCDQstGL0YHQvtGC0LAg0LrQvtC90YLQtdC50L3QtdGA0LAg0LTQu9GPINGN0LvQtdC80LXQvdGC0L7QsiDRgdC70LDQudC00LXRgNCwXG4gICAgICovXG4gICAgZ2V0U2l6ZSgpOiBJU2xpZGVyU2l6ZSB7XG4gICAgICAgIGNvbnN0IHNsaWRlclNpemU6IElTbGlkZXJTaXplID0ge1xuICAgICAgICAgICAgJ3dpZHRoJzogdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgJ2hlaWdodCc6IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHRcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzbGlkZXJTaXplO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0KPQtNCw0LvRj9C10YIg0LrQvtC90YLQtdC50L3QtdGAINGBINC10LPQviDQtNC+0YfQtdGA0L3QuNC80Lgg0Y3Qu9C10LzQtdC90YLQsNC80Lgg0LjQtyBET01cbiAgICAgKi9cbiAgICByZW1vdmUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC60L7QvtGA0LTQuNC90LDRgtGLINCz0YDQsNC90LjRhiDRgdC70LDQudC00LXRgNCwXG4gICAgICogXG4gICAgICogQHJldHVybnMge0lCb3JkZXJDb29yZHN9IC0g0JrQvtC+0YDQtNC40L3QsNGC0Ysg0LPRgNCw0L3QuNGGINGB0LvQsNC50LTQtdGA0LBcbiAgICAgKi9cbiAgICBnZXRDb29yZHMoKTogSUJvcmRlckNvb3JkcyB7XG4gICAgICAgIGNvbnN0IHNsaWRlckNvb3JkcyA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ2xlZnQnOiBzbGlkZXJDb29yZHMubGVmdCxcbiAgICAgICAgICAgICd0b3AnOiBzbGlkZXJDb29yZHMudG9wLFxuICAgICAgICAgICAgJ3JpZ2h0Jzogc2xpZGVyQ29vcmRzLnJpZ2h0LFxuICAgICAgICAgICAgJ2JvdHRvbSc6IHNsaWRlckNvb3Jkcy5ib3R0b21cbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIHNldE1hcmdpbnMobWFyZ2luczogSVNsaWRlck1hcmdpbnMpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm1hcmdpbiA9IGAke21hcmdpbnMudG9wfXB4ICR7bWFyZ2lucy5yaWdodH1weCAke21hcmdpbnMuYm90dG9tfXB4ICR7bWFyZ2lucy5sZWZ0fXB4YFxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBTbGlkZXI7XG5cblxuXG5cblxuLy8gaW1wb3J0IHtJU2xpZGVyU2l6ZX0gZnJvbSAnLi9pbnRlcmZhY2VzJ1xuXG4vLyBjbGFzcyBTbGlkZXIge1xuLy8gICAgIHByaXZhdGUgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG5cbi8vICAgICBjb25zdHJ1Y3RvcihzbGlkZXJFbGVtOiBIVE1MRWxlbWVudCkge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQgPSBzbGlkZXJFbGVtO1xuLy8gICAgIH1cblxuLy8gICAgIHNldEhvcml6b250YWxPcmllbnRhdGlvbigpIHtcbi8vICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl92ZXJ0aWNhbCcpO1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX2hvcml6b250YWwnKTtcbi8vICAgICB9XG5cbi8vICAgICBzZXRWZXJ0aWNhbE9yaWVudGF0aW9uKCkge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX2hvcml6b250YWwnKTtcbi8vICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl92ZXJ0aWNhbCcpO1xuLy8gICAgIH1cblxuLy8gICAgIGdldEVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuLy8gICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuLy8gICAgIH1cblxuLy8gICAgIGdldFNpemUoKTogSVNsaWRlclNpemUge1xuLy8gICAgICAgICByZXR1cm4ge1xuLy8gICAgICAgICAgICAgJ3dpZHRoJzogdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoLFxuLy8gICAgICAgICAgICAgJ2hlaWdodCc6IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHRcbi8vICAgICAgICAgfTtcbi8vICAgICB9XG4vLyB9XG5cbi8vIGV4cG9ydCBkZWZhdWx0IFNsaWRlcjtcblxuXG5cblxuXG5cblxuXG5cblxuXG4vLyAvLyBpbXBvcnQgeyBJU2xpZGVyU2V0dGluZ3MgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG4vLyAvLyBleHBvcnQgY2xhc3MgU2xpZGVyIHtcbi8vIC8vICAgICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuLy8gLy8gICAgIHByaXZhdGUgb3JpZW5hdGlvbjogU3RyaW5nO1xuLy8gLy8gICAgIHByaXZhdGUgdHlwZTogU3RyaW5nOyBcbi8vIC8vICAgICBwcml2YXRlIGNvb3JkczogRE9NUmVjdCA9IG5ldyBET01SZWN0O1xuXG4vLyAvLyAgICAgY29uc3RydWN0b3Ioc2xpZGVyRWxlbTogSFRNTEVsZW1lbnQsIHNsaWRlclNldHRpbmdzOiBJU2xpZGVyU2V0dGluZ3MpIHtcbi8vIC8vICAgICAgICAgdGhpcy5lbGVtZW50ID0gc2xpZGVyRWxlbTtcbi8vIC8vICAgICAgICAgdGhpcy5vcmllbmF0aW9uID0gc2xpZGVyU2V0dGluZ3Mub3JpZW50YXRpb247XG4vLyAvLyAgICAgICAgIHRoaXMudHlwZSA9IHNsaWRlclNldHRpbmdzLnR5cGU7XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgLy8gc2V0Q29vcmRzKGNvb3JkczogRE9NUmVjdCkge1xuLy8gLy8gICAgIC8vICAgICB0aGlzLmNvb3JkcyA9IGNvb3Jkcztcbi8vIC8vICAgICAvLyB9XG5cbi8vIC8vICAgICAvLyBnZXRDb29yZHMoKTogRE9NUmVjdCB7XG4vLyAvLyAgICAgLy8gICAgIHJldHVybiB0aGlzLmNvb3Jkcztcbi8vIC8vICAgICAvLyB9XG5cbi8vIC8vICAgICBnZXRFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbi8vIC8vICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbi8vIC8vICAgICB9XG4vLyAvLyB9XG5cblxuXG5cblxuLy8gLy8gaW1wb3J0IHtUcmFja30gZnJvbSAnLi4vc2xpZGVyL3RyYWNrJztcbi8vIC8vIGltcG9ydCB7VGh1bWJ9IGZyb20gJy4uL3NsaWRlci90aHVtYic7XG5cbi8vIC8vIGV4cG9ydCBjbGFzcyBTbGlkZXIge1xuLy8gLy8gICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuLy8gLy8gICAgIHRyYWNrOiBUcmFjaztcbi8vIC8vICAgICB0aHVtYjogVGh1bWI7XG4vLyAvLyAgICAgY29vcmRzOiBET01SZWN0IHwgbnVsbCA9IG51bGw7XG4vLyAvLyAgICAgb25Nb3VzZU1vdmVIYWRsZXI6IEZ1bmN0aW9uIHwgbnVsbCA9IG51bGw7XG4vLyAvLyAgICAgb25Nb3VzZVVwSGFkbGVyOiBGdW5jdGlvbiB8IG51bGwgPSBudWxsO1xuXG5cbi8vIC8vICAgICBjb25zdHJ1Y3RvcihzbGlkZXJDb21wb25lbnRzOiB7W2luZGV4OiBzdHJpbmddOiBIVE1MRWxlbWVudH0pIHtcbi8vIC8vICAgICAgICAgdGhpcy5lbGVtZW50ID0gc2xpZGVyQ29tcG9uZW50cy5zbGlkZXJFbGVtO1xuLy8gLy8gICAgICAgICB0aGlzLnRyYWNrID0gbmV3IFRyYWNrKHNsaWRlckNvbXBvbmVudHMudHJhY2tFbGVtKTtcbi8vIC8vICAgICAgICAgdGhpcy50aHVtYiA9IG5ldyBUaHVtYihzbGlkZXJDb21wb25lbnRzLnRodW1iRWxlbSk7XG4vLyAvLyAgICAgfVxuLy8gLy8gfSIsImltcG9ydCB7IElDdXJzb3JQb3NpdGlvbiB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuXG5pbXBvcnQgT2JzZXJ2ZXIgZnJvbSBcIi4uL29ic2VydmVyL29ic2VydmVyXCI7XG5cblxuLyoqXG4gKiDQmtC70LDRgdGBINC00L7RgNC+0LbQutC4INGB0LvQsNC50LTQtdGA0LAuINCh0L7QtNC10YDQttC40YIgSFRNTCDRjdC70LXQvNC10L3RgiDQtNC+0YDQvtC20LrQuCDRgdC70LDQudC00LXRgNCwINC4INC+0YDQs9Cw0L3QuNC30L7QstGL0LLQsNC10YIg0YPQv9GA0LDQstC70LXQvdC40LUg0LjQvFxuICovXG5jbGFzcyBUcmFjayB7XG4gICAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcbiAgICBwcml2YXRlIG9ic2VydmVyOiBPYnNlcnZlcjtcblxuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTERpdkVsZW1lbnQsIG9ic2VydmVyOiBPYnNlcnZlcikge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuYWRkQ2xpY2tFdmVudExpc3RlbmVyKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQlNC+0LHQsNCy0LvRj9C10YIg0YHQvtCx0YvRgtC40LUg0L3QsCDQutC70LjQuiDQv9C+INC00L7RgNC+0LbQutC1INGB0LvQsNC50LTQtdGA0LBcbiAgICAgKi9cbiAgICBwcml2YXRlIGFkZENsaWNrRXZlbnRMaXN0ZW5lcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja1RvVHJhY2suYmluZCh0aGlzKSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQntCx0YDQsNCx0L7RgtC60LAg0LrQu9C40LrQsCDQv9C+INC00L7RgNC+0LbQutC1LiDQnNC10YLQvtC0INC+0YLQv9GA0LDQstC70Y/QtdGCINGD0LLQtdC00L7QvNC70LXQvdC40LUg0YEg0LrQvtC+0YDQtNC40L3QsNGC0LDQvNC4INC60YPRgNGB0L7RgNCwXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtINC+0LHRitC10LrRgiDRgdC+0LHRi9GC0LjRjyDQutC70LjQutCwIFxuICAgICAqL1xuICAgIHByaXZhdGUgY2xpY2tUb1RyYWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIubm90aWZ5KCdjbGlja09uVGhlVHJhY2snLCB0aGlzLmdldFBvc2l0aW9uKHsgJ3gnOiBldmVudC5jbGllbnRYLCAneSc6IGV2ZW50LmNsaWVudFkgfSkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0L/QvtC30LjRhtC40Y4g0LrRg9GA0YHQvtGA0LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lDdXJzb3JQb3NpdGlvbn0gY3Vyc29yUG9zaXRpb24gLSDQvtCx0YrQtdC60YIg0YEg0L/QvtC30LjRhtC40LXQuSDQutGD0YDRgdC+0YDQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC4INCy0LXRgNGF0L3QtdCz0L4g0LrRgNCw0Y8g0Y3QutGA0LDQvdCwXG4gICAgICogXG4gICAgICogQHJldHVybnMge0lDdXJzb3JQb3NpdGlvbn0gLSDQvtCx0YrQtdC60YIg0YEg0L/QvtC30LjRhtC40LXQuSDQutGD0YDRgdC+0YDQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC4INCy0LXRgNGF0L3QtdCz0L4g0LrRgNCw0Y8g0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LBcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldFBvc2l0aW9uKGN1cnNvclBvc2l0aW9uOiBJQ3Vyc29yUG9zaXRpb24pOiBJQ3Vyc29yUG9zaXRpb24ge1xuICAgICAgICBjb25zdCBwb3NpdGlvbkluc2lkZVBhcmVudDogSUN1cnNvclBvc2l0aW9uID0gT2JqZWN0LmFzc2lnbih7fSwgY3Vyc29yUG9zaXRpb24pO1xuICAgICAgICBjb25zdCBwYXJyZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudDtcblxuICAgICAgICBpZiAocGFycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcGFycmVudENvb3JkczogRE9NUmVjdCA9IHBhcnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBwb3NpdGlvbkluc2lkZVBhcmVudC54ID0gcG9zaXRpb25JbnNpZGVQYXJlbnQueCAtIHBhcnJlbnRDb29yZHMubGVmdDtcbiAgICAgICAgICAgIHBvc2l0aW9uSW5zaWRlUGFyZW50LnkgPSBwb3NpdGlvbkluc2lkZVBhcmVudC55IC0gcGFycmVudENvb3Jkcy50b3A7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9zaXRpb25JbnNpZGVQYXJlbnQ7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFRyYWNrO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vLyBpbXBvcnQgT2JzZXJ2YWJsZSBmcm9tIFwiLi9vYnNlcnZhYmxlXCI7XG4vLyBpbXBvcnQge0lDdXJzb3JQb3NpdGlvbn0gZnJvbSAnLi9pbnRlcmZhY2VzJ1xuXG4vLyBjbGFzcyBUcmFjayB7XG4vLyAgICAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudDtcbi8vICAgICBwcml2YXRlIG9ic2VydmVyOiBPYnNlcnZhYmxlO1xuXG4vLyAgICAgY29uc3RydWN0b3IodHJhY2tFbGVtOiBIVE1MRWxlbWVudCwgb2JzZXJ2ZXI6IE9ic2VydmFibGUpIHtcbi8vICAgICAgICAgdGhpcy5lbGVtZW50ID0gdHJhY2tFbGVtO1xuLy8gICAgICAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG5cbiAgICAgICAgLy8gdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIC8vICAgICB0aGlzLm9ic2VydmVyLm5vdGlmeSgnY2xpY2tPblRoZVRyYWNrJywgdGhpcy5nZXRQb3NpdGlvbih7J3gnOiBldmVudC5jbGllbnRYLCAneSc6IGV2ZW50LmNsaWVudFl9KSk7XG4gICAgICAgIC8vIH0pO1xuLy8gICAgIH1cblxuLy8gICAgIHNldEhvcml6b250YWxPcmllbnRhdGlvbigpIHtcbi8vICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fdHJhY2tfdmVydGljYWwnKVxuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX190cmFja19ob3Jpem9udGFsJylcbi8vICAgICB9XG5cbi8vICAgICBzZXRWZXJ0aWNhbE9yaWVudGF0aW9uKCkge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX190cmFja19ob3Jpem9udGFsJylcbi8vICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fdHJhY2tfdmVydGljYWwnKVxuLy8gICAgIH1cblxuLy8gICAgIHByaXZhdGUgZ2V0UG9zaXRpb24oY3Vyc29yUG9zaXRpb246IElDdXJzb3JQb3NpdGlvbik6IElDdXJzb3JQb3NpdGlvbiB7XG5cbi8vICAgICAgICAgY29uc3QgcGFycmVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQ7XG5cbi8vICAgICAgICAgaWYgKCFwYXJyZW50KSB7XG4vLyAgICAgICAgICAgICByZXR1cm4geyd4JzogMCwgJ3knOiAwfVxuLy8gICAgICAgICB9XG5cbi8vICAgICAgICAgY29uc3QgcGFycmVudENvb3JkczogRE9NUmVjdCA9IHBhcnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbi8vICAgICAgICAgcmV0dXJuIHtcbi8vICAgICAgICAgICAgICd4JzogY3Vyc29yUG9zaXRpb24ueCAtIHBhcnJlbnRDb29yZHMubGVmdCxcbi8vICAgICAgICAgICAgICd5JzogY3Vyc29yUG9zaXRpb24ueSAtIHBhcnJlbnRDb29yZHMudG9wXG4vLyAgICAgICAgIH1cbi8vICAgICB9XG4vLyB9XG5cbi8vIGV4cG9ydCBkZWZhdWx0IFRyYWNrO1xuXG5cbi8vIC8vIGV4cG9ydCBjbGFzcyBUcmFjayB7XG4vLyAvLyAgICAgcHJpdmF0ZSBjb2xvcjogc3RyaW5nID0gJyc7XG4vLyAvLyAgICAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGw7XG5cbi8vIC8vICAgICBjb25zdHJ1Y3Rvcih0cmFjazogSFRNTEVsZW1lbnQgfCBudWxsKSB7XG4vLyAvLyAgICAgICAgIHRoaXMuZWxlbWVudCA9IHRyYWNrO1xuLy8gLy8gICAgIH1cbi8vIC8vIH0iLCJpbXBvcnQgeyBJVGh1bWJTaXplIH0gZnJvbSAnLi4vaW50ZXJmYWNlcydcbmltcG9ydCB7IElUaHVtYlNoaWZ0IH0gZnJvbSAnLi4vaW50ZXJmYWNlcydcbmltcG9ydCB7IElUaHVtYlBvc2l0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcydcbmltcG9ydCB7IElDdXJzb3JQb3NpdGlvbiB9IGZyb20gJy4uL2ludGVyZmFjZXMnXG5cbmltcG9ydCBPYnNlcnZlciBmcm9tICcuLi9vYnNlcnZlci9vYnNlcnZlcic7XG5cblxuLyoqXG4gKiDQmtC70LDRgdGBINCx0LXQs9GD0L3QutCwLiDQodC+0LTQtdGA0LbQuNGCIEhUTUwg0Y3Qu9C10LzQtdC90YIg0LHQtdCz0YPQvdC60LAg0Lgg0L7RgNCz0LDQvdC40LfQvtCy0YvQstCw0LXRgiDRg9C/0YDQsNCy0LvQtdC90LjQtSDQuNC8XG4gKi9cbmNsYXNzIFRodW1iIHtcbiAgICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xuICAgIHByaXZhdGUgb2JzZXJ2ZXI6IE9ic2VydmVyO1xuICAgIHByaXZhdGUgc2hpZnQ6IElUaHVtYlNoaWZ0ID0geyAnc2hpZnRYJzogMCwgJ3NoaWZ0WSc6IDAgfTtcbiAgICBwcml2YXRlIG9uTW91c2VNb3ZlSGFuZGxlciA9IG5ldyBGdW5jdGlvbigpO1xuICAgIHByaXZhdGUgb25Nb3VzZVVwSGFuZGxlciA9IG5ldyBGdW5jdGlvbigpO1xuXG5cbiAgICBjb25zdHJ1Y3Rvcih0aHVtYkVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50LCBvYnNlcnZlcjogT2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gdGh1bWJFbGVtZW50O1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuYWRkTW91c2Vkb3duRXZlbnRMaXN0ZW5lcigpO1xuICAgICAgICB0aGlzLmFkZFRvdWNoc3RhcnRFdmVudExpc3RlbmVyKCk7XG4gICAgICAgIHRoaXMuZGlzYWJsZURyYWdBbmREcm9wKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQntGC0LrQu9GO0YfQsNC10YIgaHRtbDUgRHJhZyBhbmQgRHJvcFxuICAgICAqL1xuICAgIHByaXZhdGUgZGlzYWJsZURyYWdBbmREcm9wKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVsZW1lbnQub25kcmFnc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JTQvtCx0LDQstC70Y/QtdGCINGB0L7QsdGL0YLQuNC1INC90LAg0L3QsNC20LDRgtC40LUg0LrQvdC+0L/QutC4INC80YvRiNC4INC90LAg0LHQtdCz0YPQvdC60LVcbiAgICAgKi9cbiAgICBwcml2YXRlIGFkZE1vdXNlZG93bkV2ZW50TGlzdGVuZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm1vdmVNb3VzZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCe0LHRgNCw0LHQvtGC0LrQsCDQv9C10YDQtdC80LXRidC10L3QuNGPINC80YvRiNC4XG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtINC+0LHRitC10LrRgiDRgdC+0LHRi9GC0LjRjyDQutC70LjQutCwIFxuICAgICAqL1xuICAgIHByaXZhdGUgbW92ZU1vdXNlKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7ICAgICAgICBcbiAgICAgICAgdGhpcy5zdGFydERyYWcoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQlNC+0LHQsNCy0LvRj9C10YIg0YHQvtCx0YvRgtC40LUg0LrQsNGB0LDQvdC40Y8g0LHQtdCz0YPQvdC60LBcbiAgICAgKi9cbiAgICBwcml2YXRlIGFkZFRvdWNoc3RhcnRFdmVudExpc3RlbmVyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMubW92ZVRvdWNoLmJpbmQodGhpcykpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0J7QsdGA0LDQsdC+0YLQutCwINC/0LXRgNC10LzQtdGJ0LXQvdC40Y8g0LHQtdCz0YPQvdC60LAg0L/QsNC70YzRhtC10LxcbiAgICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGV2ZW50IC0g0L7QsdGK0LXQutGCINGB0L7QsdGL0YLQuNGPINC/0LXRgNC10LzQtdGJ0LXQvdC40Y8g0L/QsNC70YzRhtCwINC/0YDQuCDQutCw0YHQsNC90LjQuCBcbiAgICAgKi9cbiAgICBwcml2YXRlIG1vdmVUb3VjaChldmVudDogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXJ0RHJhZyhldmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYLCBldmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCIEhUTUwg0Y3Qu9C10LzQtdC90YIg0LHQtdCz0YPQvdC60LBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7SFRNTERpdkVsZW1lbnR9IC0gZGl2INGN0LvQtdC80LXQvdGCINCx0LXQs9GD0L3QutCwXG4gICAgICovXG4gICAgZ2V0RWxlbWVudCgpOiBIVE1MRGl2RWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGI0LjRgNC40L3RgyDQuCDQstGL0YHQvtGC0YMg0LHQtdCz0YPQvdC60LBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7SVRodW1iU2l6ZX0gLSDRiNC40YDQuNC90LAg0Lgg0LLRi9GB0L7RgtCwINCx0LXQs9GD0L3QutCwXG4gICAgICovXG4gICAgZ2V0U2l6ZSgpOiBJVGh1bWJTaXplIHtcbiAgICAgICAgY29uc3QgdGh1bWJTaXplOiBJVGh1bWJTaXplID0ge1xuICAgICAgICAgICAgJ3dpZHRoJzogdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgJ2hlaWdodCc6IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHRcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aHVtYlNpemU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiB6LdC40L3QtNC10LrRgSDQsdC10LPRg9C90LrQsFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB6SW5kZXggLSDQt9C90LDRh9C10L3QuNC1IHot0LjQvdC00LXQutGB0LAgXG4gICAgICovXG4gICAgc2V0WkluZGV4KHpJbmRleDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS56SW5kZXggPSB6SW5kZXg7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQn9C10YDQtdC00LLQuNCz0LDQtdGCINCx0LXQs9GD0L3QvtC6INC90LAg0L/QvtC30LjRhtC40Y4g0LjQtyDQv9Cw0YDQsNC80LXRgtGA0LAgcG9zaXRpb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lUaHVtYlBvc2l0aW9ufSBwb3NpdGlvbiAtINC+0LHRitC10LrRgiDRgSDQv9C+0LfQuNGG0LjQtdC5INCx0LXQs9GD0L3QutCwINC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QviDQu9C10LLQvtCz0L4g0Lgg0LLQtdGA0YXQvdC10LPQviDQutGA0LDRjyDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LPQviDQutC+0L3RgtC10LnQvdC10YDQsFxuICAgICAqL1xuICAgIG1vdmVUbyhwb3NpdGlvbjogSVRodW1iUG9zaXRpb24pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQgPSBwb3NpdGlvbi5sZWZ0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRvcCA9IHBvc2l0aW9uLnRvcCArICdweCc7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9C00LDQu9GP0LXRgiDQsdC10LPRg9C90L7QuiDQuNC3IERPTVxuICAgICAqL1xuICAgIHJlbW92ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0J/QvtC00LPQvtGC0LDQstC70LjQstCw0LXRgiDQsdC10LPRg9C90L7QuiDQuiDQv9C10YDQtdC00LLQuNC20LXQvdC40Y5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3Vyc29yWCAtINC/0L7Qt9C40YbQuNGPINC60YPRgNGB0L7RgNCwINC/0L4g0LPQvtGA0LjQt9C+0L3RgtCw0LvQuFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjdXJzb3JZIC0g0L/QvtC30LjRhtC40Y8g0LrRg9GA0YHQvtGA0LAg0L/QviDQstC10YDRgtC40LrQsNC70LhcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXJ0RHJhZyhjdXJzb3JYOiBudW1iZXIsIGN1cnNvclk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLnNldFpJbmRleCgnMycpO1xuICAgICAgICB0aGlzLm9ic2VydmVyLm5vdGlmeSgnY2hhbmdlWkluZGV4VG9Bbm90aGVyVGh1bWInLCB0aGlzLmVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IHRodW1iQ29vcmRzOiBET01SZWN0ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHRoaXMuc2hpZnQuc2hpZnRYID0gY3Vyc29yWCAtIHRodW1iQ29vcmRzLmxlZnQ7XG4gICAgICAgIHRoaXMuc2hpZnQuc2hpZnRZID0gY3Vyc29yWSAtIHRodW1iQ29vcmRzLnRvcDtcblxuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlSGFuZGxlciA9IHRoaXMuZHJhZy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uTW91c2VVcEhhbmRsZXIgPSB0aGlzLmVuZERyYWcuYmluZCh0aGlzKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZU1vdmVIYW5kbGVyIGFzIEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJyxcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwSGFuZGxlciBhcyBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0KTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLFxuICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZUhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJyxcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwSGFuZGxlciBhcyBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCf0LXRgNC10LTQsNC10YIg0LTQsNC90L3Ri9C1INC+INC/0LXRgNC10LTQstC40LbQtdC90LjQuCDQsdC10LPRg9C90LrQsCDRgdCy0L7QuNC8INC/0L7QtNC/0LjRgdGH0LjQutCw0LxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnQgfCBUb3VjaEV2ZW50fSBldmVudCAtINGB0L7QsdGL0YLQuNC1INC60YPRgNGB0L7RgNCwINC40LvQuCDQutCw0YHQsNC90LjRj1xuICAgICAqL1xuICAgIHByaXZhdGUgZHJhZyhldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgbGV0IG5vdGlmeU1lc3NhZ2UgPSAndGh1bWJPbmVJc0RyYWdnZWQnO1xuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGlkZXJfX3RodW1iLXR3bycpKSB7XG4gICAgICAgICAgICBub3RpZnlNZXNzYWdlID0gJ3RodW1iVHdvSXNEcmFnZ2VkJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIubm90aWZ5KG5vdGlmeU1lc3NhZ2UsIHRoaXMuZ2V0UG9zaXRpb24oeyAneCc6IGV2ZW50LmNsaWVudFgsICd5JzogZXZlbnQuY2xpZW50WSB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLm5vdGlmeShub3RpZnlNZXNzYWdlLCB0aGlzLmdldFBvc2l0aW9uKHsgXG4gICAgICAgICAgICAgICAgJ3gnOiBldmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYLFxuICAgICAgICAgICAgICAgICd5JzogZXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0L/QvtC30LjRhtC40Y4g0LrRg9GA0YHQvtGA0LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lDdXJzb3JQb3NpdGlvbn0gY3Vyc29yUG9zaXRpb24gLSDQvtCx0YrQtdC60YIg0YEg0L/QvtC30LjRhtC40LXQuSDQutGD0YDRgdC+0YDQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC4INCy0LXRgNGF0L3QtdCz0L4g0LrRgNCw0Y8g0Y3QutGA0LDQvdCwXG4gICAgICogXG4gICAgICogQHJldHVybnMge0lDdXJzb3JQb3NpdGlvbn0gLSDQvtCx0YrQtdC60YIg0YEg0L/QvtC30LjRhtC40LXQuSDQutGD0YDRgdC+0YDQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LvQtdCy0L7Qs9C+INC4INCy0LXRgNGF0L3QtdCz0L4g0LrRgNCw0Y8g0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LBcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldFBvc2l0aW9uKGN1cnNvclBvc2l0aW9uOiBJQ3Vyc29yUG9zaXRpb24pOiBJVGh1bWJQb3NpdGlvbiB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uSW5zaWRlUGFyZW50OiBJVGh1bWJQb3NpdGlvbiA9IHsnbGVmdCc6IGN1cnNvclBvc2l0aW9uLngsICd0b3AnOiBjdXJzb3JQb3NpdGlvbi55fTtcblxuICAgICAgICBjb25zdCBwYXJyZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudDtcblxuICAgICAgICBpZiAocGFycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcGFycmVudENvb3JkczogRE9NUmVjdCA9IHBhcnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBwb3NpdGlvbkluc2lkZVBhcmVudC5sZWZ0ID0gcG9zaXRpb25JbnNpZGVQYXJlbnQubGVmdCAtIHBhcnJlbnRDb29yZHMubGVmdCAtIHRoaXMuc2hpZnQuc2hpZnRYO1xuICAgICAgICAgICAgcG9zaXRpb25JbnNpZGVQYXJlbnQudG9wID0gcG9zaXRpb25JbnNpZGVQYXJlbnQudG9wIC0gcGFycmVudENvb3Jkcy50b3AgLSB0aGlzLnNoaWZ0LnNoaWZ0WTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbkluc2lkZVBhcmVudDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCX0LDQstC10YDRiNCw0LXRgiDQv9C10YDQtdC00LLQuNC20LXQvdC40LUg0LHQtdCz0YPQvdC60LAsINGD0LTQsNC70Y/RjyDRgdC70YPRiNCw0YLQtdC70LXQuSDRgdC+0LHRi9GC0LjQuSwg0LrQvtGC0L7RgNGL0LUg0LHQvtC70YzRiNC1INC90LUg0L3Rg9C20L3Ri1xuICAgICAqL1xuICAgIHByaXZhdGUgZW5kRHJhZygpOiB2b2lkIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZUhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcEhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Nb3VzZU1vdmVIYW5kbGVyIGFzIEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Nb3VzZVVwSGFuZGxlciBhcyBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRodW1iO1xuXG5cblxuXG5cblxuXG5cbi8vIGltcG9ydCB7IElUaHVtYlNoaWZ0IH0gZnJvbSAnLi9pbnRlcmZhY2VzJ1xuLy8gaW1wb3J0IHsgSVRodW1iUG9zaXRpb24gfSBmcm9tICcuL2ludGVyZmFjZXMnXG4vLyBpbXBvcnQgeyBJQ3Vyc29yUG9zaXRpb24gfSBmcm9tICcuL2ludGVyZmFjZXMnXG4vLyBpbXBvcnQgeyBJVGh1bWJTaXplIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcblxuLy8gaW1wb3J0IE9ic2VydmFibGUgZnJvbSAnLi9vYnNlcnZhYmxlJztcblxuLy8gY2xhc3MgVGh1bWIge1xuLy8gICAgIHByaXZhdGUgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4vLyAgICAgcHJpdmF0ZSBvYnNlcnZlcjogT2JzZXJ2YWJsZTtcbi8vICAgICBwcml2YXRlIHNoaWZ0OiBJVGh1bWJTaGlmdCA9IHsgJ3NoaWZ0WCc6IDAsICdzaGlmdFknOiAwIH07XG4vLyAgICAgcHJpdmF0ZSBvbk1vdXNlTW92ZUhhbmRsZXI6IEZ1bmN0aW9uID0gKCkgPT4geyB9O1xuLy8gICAgIHByaXZhdGUgb25Nb3VzZVVwSGFuZGxlcjogRnVuY3Rpb24gPSAoKSA9PiB7IH07XG5cbi8vICAgICBjb25zdHJ1Y3Rvcih0aHVtYkVsZW06IEhUTUxFbGVtZW50LCBvYnNlcnZlcjogT2JzZXJ2YWJsZSwgekluZGV4OiBudW1iZXIpIHtcbi8vICAgICAgICAgdGhpcy5lbGVtZW50ID0gdGh1bWJFbGVtO1xuLy8gICAgICAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4vLyAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS56SW5kZXggPSB6SW5kZXgudG9TdHJpbmcoKTtcblxuLy8gICAgICAgICB0aGlzLmVsZW1lbnQub25kcmFnc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4vLyAgICAgICAgIH07XG5cbi8vICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuLy8gICAgICAgICAgICAgdGhpcy5zdGFydERyYWcoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGRpc2FibGUgc2VsZWN0aW9uIHN0YXJ0IChjdXJzb3IgY2hhbmdlKVxuLy8gICAgICAgICB9KTtcbi8vICAgICB9XG5cbi8vICAgICBnZXRFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbi8vICAgICB9XG5cbi8vICAgICBnZXRTaXplKCk6IElUaHVtYlNpemUge1xuLy8gICAgICAgICByZXR1cm4ge1xuLy8gICAgICAgICAgICAgJ3dpZHRoJzogdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoLFxuLy8gICAgICAgICAgICAgJ2hlaWdodCc6IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHRcbi8vICAgICAgICAgfTtcbi8vICAgICB9XG5cbi8vICAgICBzZXRaSW5kZXgodmFsdWU6IG51bWJlcikge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuekluZGV4ID0gdmFsdWUudG9TdHJpbmcoKTtcbi8vICAgICB9XG5cbi8vICAgICBwcml2YXRlIHN0YXJ0RHJhZyhjdXJzb3JYOiBudW1iZXIsIGN1cnNvclk6IG51bWJlcik6IHZvaWQge1xuXG4vLyAgICAgICAgIHRoaXMuc2V0WkluZGV4KDMpO1xuLy8gICAgICAgICB0aGlzLm9ic2VydmVyLm5vdGlmeSgnY2hhbmdlWkluZGV4VG9Bbm90aGVyVGh1bWInLCB0aGlzLmVsZW1lbnQpO1xuXG4vLyAgICAgICAgIGNvbnN0IHRodW1iQ29vcmRzOiBET01SZWN0ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4vLyAgICAgICAgIHRoaXMuc2hpZnQuc2hpZnRYID0gY3Vyc29yWCAtIHRodW1iQ29vcmRzLmxlZnQ7XG4vLyAgICAgICAgIHRoaXMuc2hpZnQuc2hpZnRZID0gY3Vyc29yWSAtIHRodW1iQ29vcmRzLnRvcDtcblxuLy8gICAgICAgICB0aGlzLm9uTW91c2VNb3ZlSGFuZGxlciA9IHRoaXMuZHJhZy5iaW5kKHRoaXMpO1xuLy8gICAgICAgICB0aGlzLm9uTW91c2VVcEhhbmRsZXIgPSB0aGlzLmVuZERyYWcuYmluZCh0aGlzKTtcblxuLy8gICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLFxuLy8gICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZUhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCk7XG4vLyAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLFxuLy8gICAgICAgICAgICAgdGhpcy5vbk1vdXNlVXBIYW5kbGVyIGFzIEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QpO1xuXG4vLyAgICAgfVxuXG4vLyAgICAgcHJpdmF0ZSBkcmFnKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4vLyAgICAgICAgIGxldCBub3RpZnlNZXNzYWdlID0gJ3N0YXJ0RHJhZ1RodW1iT25lJztcblxuLy8gICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2xpZGVyX190aHVtYi10d28nKSkge1xuLy8gICAgICAgICAgICAgbm90aWZ5TWVzc2FnZSA9ICdzdGFydERyYWdUaHVtYlR3byc7XG4vLyAgICAgICAgIH1cblxuLy8gICAgICAgICB0aGlzLm9ic2VydmVyLm5vdGlmeShub3RpZnlNZXNzYWdlLCB0aGlzLmdldFBvc2l0aW9uKHsgJ3gnOiBldmVudC5jbGllbnRYLCAneSc6IGV2ZW50LmNsaWVudFkgfSkpO1xuXG4vLyAgICAgICAgIC8vIHRoaXMub2JzZXJ2ZXIubm90aWZ5KCdzdGFydERyYWcnLCB0aGlzLmdldFBvc2l0aW9uKHsgJ3gnOiBldmVudC5jbGllbnRYLCAneSc6IGV2ZW50LmNsaWVudFkgfSkpXG4vLyAgICAgfVxuXG4vLyAgICAgcHJpdmF0ZSBnZXRQb3NpdGlvbihjdXJzb3JQb3NpdGlvbjogSUN1cnNvclBvc2l0aW9uKTogSVRodW1iUG9zaXRpb24ge1xuXG4vLyAgICAgICAgIGNvbnN0IHBhcnJlbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuXG4vLyAgICAgICAgIGlmICghcGFycmVudCkge1xuLy8gICAgICAgICAgICAgcmV0dXJuIHsgJ2xlZnQnOiAwLCAndG9wJzogMCB9XG4vLyAgICAgICAgIH1cblxuLy8gICAgICAgICBjb25zdCBwYXJyZW50Q29vcmRzOiBET01SZWN0ID0gcGFycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuLy8gICAgICAgICByZXR1cm4ge1xuLy8gICAgICAgICAgICAgJ2xlZnQnOiBjdXJzb3JQb3NpdGlvbi54IC0gdGhpcy5zaGlmdC5zaGlmdFggLSBwYXJyZW50Q29vcmRzLmxlZnQsXG4vLyAgICAgICAgICAgICAndG9wJzogY3Vyc29yUG9zaXRpb24ueSAtIHRoaXMuc2hpZnQuc2hpZnRZIC0gcGFycmVudENvb3Jkcy50b3Bcbi8vICAgICAgICAgfVxuLy8gICAgIH1cblxuLy8gICAgIHByaXZhdGUgZW5kRHJhZygpOiB2b2lkIHtcbi8vICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZUhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCk7XG4vLyAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcEhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCk7XG4vLyAgICAgfVxuXG4vLyAgICAgbW92ZVRvKHBvc2l0aW9uOiBJVGh1bWJQb3NpdGlvbikge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IHBvc2l0aW9uLmxlZnQgKyAncHgnO1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudG9wID0gcG9zaXRpb24udG9wICsgJ3B4Jztcbi8vICAgICB9XG5cbi8vICAgICBzaG93KCkge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX190aHVtYl9oaWRlJyk7XG4vLyAgICAgfVxuXG4vLyAgICAgaGlkZSgpIHtcbi8vICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fdGh1bWJfaGlkZScpO1xuLy8gICAgIH1cblxuLy8gICAgIHNldEhvcml6b250YWxPcmllbnRhdGlvbigpIHtcbi8vICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fdGh1bWJfdmVydGljYWwnKVxuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX190aHVtYl9ob3Jpem9udGFsJylcbi8vICAgICB9XG5cbi8vICAgICBzZXRWZXJ0aWNhbE9yaWVudGF0aW9uKCkge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX190aHVtYl9ob3Jpem9udGFsJylcbi8vICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fdGh1bWJfdmVydGljYWwnKVxuLy8gICAgIH1cbi8vIH1cblxuLy8gZXhwb3J0IGRlZmF1bHQgVGh1bWI7XG5cblxuXG5cblxuXG5cblxuXG5cbi8vIC8vIGltcG9ydCB7IElUaHVtYlNldHRpbmdzIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcblxuLy8gLy8gZXhwb3J0IGNsYXNzIFRodW1iIHtcbi8vIC8vICAgICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuLy8gLy8gICAgIHByaXZhdGUgbWluVmFsdWU6IG51bWJlcjtcbi8vIC8vICAgICBwcml2YXRlIG1heFZhbHVlOiBudW1iZXI7XG4vLyAvLyAgICAgcHJpdmF0ZSBzdGVwOiBudW1iZXI7XG4vLyAvLyAgICAgcHJpdmF0ZSBjb29yZHM6IERPTVJlY3QgfCBudWxsID0gbnVsbDtcbi8vIC8vICAgICBwcml2YXRlIHNoaWZ0WDogbnVtYmVyID0gMDtcbi8vIC8vICAgICBwcml2YXRlIHNoaWZ0WTogbnVtYmVyID0gMDtcblxuLy8gLy8gICAgIGNvbnN0cnVjdG9yKHRodW1iRWxlbTogSFRNTEVsZW1lbnQsIHRodW1iU2V0dGluZ3M6IElUaHVtYlNldHRpbmdzKSB7XG4vLyAvLyAgICAgICAgIHRoaXMuZWxlbWVudCA9IHRodW1iRWxlbTtcbi8vIC8vICAgICAgICAgdGhpcy5taW5WYWx1ZSA9IHRodW1iU2V0dGluZ3MubWluVmFsdWU7XG4vLyAvLyAgICAgICAgIHRoaXMubWF4VmFsdWUgPSB0aHVtYlNldHRpbmdzLm1heFZhbHVlO1xuLy8gLy8gICAgICAgICB0aGlzLnN0ZXAgPSB0aHVtYlNldHRpbmdzLnN0ZXA7XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgc2V0TWluVmFsdWUodmFsdWU6IG51bWJlcikge1xuLy8gLy8gICAgICAgICB0aGlzLm1pblZhbHVlID0gdmFsdWU7XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgZ2V0TWluVmFsdWUoKTogbnVtYmVyIHtcbi8vIC8vICAgICAgICAgcmV0dXJuIHRoaXMubWluVmFsdWU7XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgc2V0TWF4VmFsdWUodmFsdWU6IG51bWJlcikge1xuLy8gLy8gICAgICAgICB0aGlzLm1heFZhbHVlID0gdmFsdWU7XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgZ2V0TWF4VmFsdWUoKTogbnVtYmVyIHtcbi8vIC8vICAgICAgICAgcmV0dXJuIHRoaXMubWF4VmFsdWU7XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgc2V0U3RlcFZhbHVlKHZhbHVlOiBudW1iZXIpIHtcbi8vIC8vICAgICAgICAgdGhpcy5zdGVwID0gdmFsdWU7XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgZ2V0U3RlcCgpOiBudW1iZXIge1xuLy8gLy8gICAgICAgICByZXR1cm4gdGhpcy5zdGVwO1xuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIGdldEVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuLy8gLy8gICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIC8vIHNldENvb3Jkcyhjb29yZHM6IERPTVJlY3QpIHtcbi8vIC8vICAgICAvLyAgICAgdGhpcy5jb29yZHMgPSBjb29yZHM7XG4vLyAvLyAgICAgLy8gfVxuXG4vLyAvLyAgICAgLy8gZ2V0Q29vcmRzKCk6IERPTVJlY3QgfCBudWxsIHtcbi8vIC8vICAgICAvLyAgICAgcmV0dXJuIHRoaXMuY29vcmRzO1xuLy8gLy8gICAgIC8vIH1cblxuLy8gLy8gICAgIHNldFNoaWZ0WChzaGlmdDogbnVtYmVyKSB7XG4vLyAvLyAgICAgICAgIHRoaXMuc2hpZnRYID0gc2hpZnQ7XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgZ2V0U2hpZnRYKCk6IG51bWJlciB7XG4vLyAvLyAgICAgICAgIHJldHVybiB0aGlzLnNoaWZ0WDtcbi8vIC8vICAgICB9XG5cbi8vIC8vICAgICBzZXRTaGlmdFkoc2hpZnQ6IG51bWJlcikge1xuLy8gLy8gICAgICAgICB0aGlzLnNoaWZ0WSA9IHNoaWZ0O1xuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIG1vdmVUbyhuZXdMZWZ0OiBudW1iZXIpIHtcbi8vIC8vICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQgPSBuZXdMZWZ0ICsgJ3B4Jztcbi8vIC8vICAgICB9XG4vLyAvLyB9XG5cblxuXG5cblxuXG5cblxuXG5cbi8vIC8vIGV4cG9ydCBjbGFzcyBUaHVtYiB7XG4vLyAvLyAgICAgY29sb3I6IHN0cmluZyA9ICcnO1xuLy8gLy8gICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbDtcbi8vIC8vICAgICBtaW5WYWx1ZTogbnVtYmVyO1xuLy8gLy8gICAgIG1heFZhbHVlOiBudW1iZXI7XG4vLyAvLyAgICAgc3RlcDogbnVtYmVyO1xuLy8gLy8gICAgIGNvb3JkczogRE9NUmVjdCB8IG51bGwgPSBudWxsO1xuLy8gLy8gICAgIHNoaWZ0WDogbnVtYmVyID0gMDtcbi8vIC8vICAgICBzaGlmdFk6IG51bWJlciA9IDA7XG4vLyAvLyAgICAgcGl4ZWxzUGVyVmFsdWU6IG51bWJlciA9IDA7XG5cbi8vIC8vICAgICBjb25zdHJ1Y3Rvcih0aHVtYjogSFRNTEVsZW1lbnQgfCBudWxsKSB7XG4vLyAvLyAgICAgICAgIHRoaXMuZWxlbWVudCA9IHRodW1iO1xuLy8gLy8gICAgICAgICB0aGlzLm1pblZhbHVlID0gMTA7XG4vLyAvLyAgICAgICAgIHRoaXMubWF4VmFsdWUgPSAxMDA7XG4vLyAvLyAgICAgICAgIHRoaXMuc3RlcCA9IDE3O1xuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIGdldE1heFZhbHVlKCk6IG51bWJlciB7XG4vLyAvLyAgICAgICAgIHJldHVybiB0aGlzLm1heFZhbHVlO1xuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIGdldE1pblZhbHVlKCk6IG51bWJlciB7XG4vLyAvLyAgICAgICAgIHJldHVybiB0aGlzLm1pblZhbHVlO1xuLy8gLy8gICAgIH1cbi8vIC8vIH0iLCJpbXBvcnQgeyBJVG9vbHRpcFBvc2l0aW9uIH0gZnJvbSBcIi4uL2ludGVyZmFjZXNcIjtcbmltcG9ydCB7IElCb3JkZXJDb29yZHMgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcblxuLyoqXG4gKiDQmtC70LDRgdGBINC00LvRjyDRg9C/0YDQsNCy0LvQtdC90LjRjyDRjdC70LXQvNC10L3RgtCw0LzQuCDQtNC70Y8g0L/QvtC60LDQt9CwINC30L3QsNGH0LXQvdC40Lkg0L3QsNC0INCx0LXQs9GD0L3QutCw0LzQuFxuICovXG5jbGFzcyBUb29sdGlwIHtcbiAgICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xuXG5cbiAgICBjb25zdHJ1Y3Rvcih0b29sdGlwRWxlbWVudDogSFRNTERpdkVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gdG9vbHRpcEVsZW1lbnQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GC0LDQvdCw0LLQu9C40LLQsNC10YIg0L3QvtCy0L7QtSDQt9C90LDRh9C10L3QuNC1INC90LDQtCDQsdC10LPRg9C90LrQvtC8XG4gICAgICogXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG5ld1ZhbHVlIC0g0LfQvdCw0YfQtdC90LjQtSDQv9C+0LfQuNGG0LjQuCDQvdCwINC60L7RgtC+0YDQvtC5INC90LDRhdC+0LTQuNGC0YHRjyDQsdC10LPRg9C90L7QulxuICAgICAqL1xuICAgIHNldFZhbHVlKG5ld1ZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmlubmVyVGV4dCA9IG5ld1ZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQmNC30LzQtdC90Y/QtdGCINC/0L7Qt9C40YbQuNGOINC30L3QsNGH0LXQvdC40Y8g0L3QsNC0INCx0LXQs9GD0L3QutC+0LxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lUb29sdGlwUG9zaXRpb259IHBvc2l0aW9uIC0g0L/QvtC30LjRhtC40Y8g0LfQvdCw0YfQtdC90LjRjyDQvdCw0LQg0LHQtdCz0YPQvdC60L7QvFxuICAgICAqL1xuICAgIG1vdmVUbyhwb3NpdGlvbjogSVRvb2x0aXBQb3NpdGlvbik6IHZvaWQge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IHBvc2l0aW9uLmxlZnQgKyAncHgnO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudG9wID0gcG9zaXRpb24udG9wICsgJ3B4JztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0LTQsNC70Y/QtdGCIEhUTUwg0Y3Qu9C10LzQtdC90YIsINC+0YLQvtCx0YDQsNC20LDRjtGJ0LjQuSDQt9C90LDRh9C10L3QuNC1INC/0L7Qt9C40YbQuNC4INC90LAg0LrQvtGC0L7RgNC+0Lkg0L3QsNGF0L7QtNC40YLRgdGPINCx0LXQs9GD0L3QvtC6XG4gICAgICovXG4gICAgcmVtb3ZlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQutC+0L7RgNC00LjQvdCw0YLRiyDQs9GA0LDQvdC40YYg0LfQvdCw0YfQtdC90LjRjyDQvdCw0LQg0LHQtdCz0YPQvdC60L7QvFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtJQm9yZGVyQ29vcmRzfSAtINCa0L7QvtGA0LTQuNC90LDRgtGLINCz0YDQsNC90LjRhiDQt9C90LDRh9C10L3QuNGPINC90LDQtCDQsdC10LPRg9C90LrQvtC8XG4gICAgICovXG4gICAgZ2V0Q29vcmRzKCk6IElCb3JkZXJDb29yZHMge1xuICAgICAgICBjb25zdCB0b29sdGlwQ29vcmRzID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnbGVmdCc6IHRvb2x0aXBDb29yZHMubGVmdCxcbiAgICAgICAgICAgICd0b3AnOiB0b29sdGlwQ29vcmRzLnRvcCxcbiAgICAgICAgICAgICdyaWdodCc6IHRvb2x0aXBDb29yZHMucmlnaHQsXG4gICAgICAgICAgICAnYm90dG9tJzogdG9vbHRpcENvb3Jkcy5ib3R0b21cbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvb2x0aXA7XG5cblxuXG5cblxuXG5cblxuLy8gY2xhc3MgVG9vbHRpcCB7XG5cbi8vICAgICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuXG4vLyAgICAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbi8vICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbi8vICAgICB9XG5cbi8vICAgICBnZXRFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbi8vICAgICB9XG5cbi8vICAgICBzZXRUZXh0KHRleHQ6IHN0cmluZyk6IHZvaWQge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJUZXh0ID0gdGV4dDtcbi8vICAgICB9XG5cbi8vICAgICBoaWRlKCkge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX190b29sdGlwX2hpZGUnKTtcbi8vICAgICB9XG5cbi8vICAgICBzaG93KCkge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX190b29sdGlwX2hpZGUnKTtcbi8vICAgICB9XG5cbi8vICAgICBzZXRIb3Jpem9udGFsT3JpZW50YXRpb24oKSB7XG4vLyAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX3Rvb2x0aXBfdmVydGljYWwnKVxuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX190b29sdGlwX2hvcml6b250YWwnKVxuLy8gICAgIH1cblxuLy8gICAgIHNldFZlcnRpY2FsT3JpZW50YXRpb24oKSB7XG4vLyAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX3Rvb2x0aXBfaG9yaXpvbnRhbCcpXG4vLyAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX3Rvb2x0aXBfdmVydGljYWwnKVxuLy8gICAgIH1cblxuLy8gfVxuXG4vLyBleHBvcnQgZGVmYXVsdCBUb29sdGlwOyIsImltcG9ydCB7IElQcm9ncmVzc0JhclBvc2l0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5cblxuLyoqXG4gKiDQmtC70LDRgdGBINC00LvRjyDRg9C/0YDQsNCy0LvQtdC90LjRjyDRjdC70LXQvNC10L3RgtC+0Lwg0L/RgNC+0LPRgNC10YHRgSDQsdCw0YDQsFxuICovXG5jbGFzcyBQcm9ncmVzc0JhciB7XG4gICAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcblxuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTERpdkVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCIEhUTUwg0Y3Qu9C10LzQtdC90YIg0L/RgNC+0LPRgNC10YHRgSDQsdCw0YDQsFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtIVE1MRGl2RWxlbWVudH0gLSBIVE1MINGN0LvQtdC80LXQvdGCINC/0YDQvtCz0YDQtdGB0YEg0LHQsNGA0LBcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50KCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINC/0L7Qt9C40YbQuNGOINC/0YDQvtCz0YDQtdGB0YEg0LHQsNGA0LBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0lQcm9ncmVzc0JhclBvc2l0aW9ufSBwcm9ncmVzc1Bvc2l0aW9uIC0g0L7QsdGK0LXQutGCINGBINC/0L7Qt9C40YbQuNC10Lkg0L/RgNC+0LPRgNC10YHRgSDQsdCw0YDQsC4g0KHQvtC00LXRgNC20LjRgiDRgdCy0LXQtNC10L3QuNGPINC+0LEg0L7RgNC40LXQvdGC0LDRhtC40LgsXG4gICAgICog0YLQvtGH0LrQtSDQvdCw0YfQsNC70LAg0Lgg0YjQuNGA0LjQvdC1ICjQuNC70Lgg0LLRi9GB0L7RgtC1LCDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0L7RgNC40LXQvdGC0LDRhtC40Lgg0YHQu9Cw0LnQtNC10YDQsCkg0L/RgNC+0LPRgNC10YHRgSDQsdCw0YDQsFxuICAgICAqL1xuICAgIHNldFBvc2l0aW9uKHByb2dyZXNzUG9zaXRpb246IElQcm9ncmVzc0JhclBvc2l0aW9uKTogdm9pZCB7XG4gICAgICAgIGlmIChwcm9ncmVzc1Bvc2l0aW9uLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0SG9yaXpvbnRhbE9yaWVudGF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IHByb2dyZXNzUG9zaXRpb24uc3RhcnQgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gcHJvZ3Jlc3NQb3NpdGlvbi5lbmQgKyAncHgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRWZXJ0aWNhbE9yaWVudGF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudG9wID0gcHJvZ3Jlc3NQb3NpdGlvbi5zdGFydCArICdweCc7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gcHJvZ3Jlc3NQb3NpdGlvbi5lbmQgKyAncHgnO1xuICAgICAgICB9ICAgICAgICBcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCU0LXQu9Cw0LXRgiDQv9GA0L7Qs9GA0LXRgdGBINCx0LDRgCDQs9GA0LjQt9C+0L3RgtCw0LvRjNC90YvQvFxuICAgICAqL1xuICAgIHNldEhvcml6b250YWxPcmllbnRhdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fcHJvZ3Jlc3MtYmFyX3ZlcnRpY2FsJylcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fcHJvZ3Jlc3MtYmFyX2hvcml6b250YWwnKVxuICAgIH1cbiAgICBcblxuICAgIC8qKlxuICAgICAqINCU0LXQu9Cw0LXRgiDQv9GA0L7Qs9GA0LXRgdGBINCx0LDRgCDQstC10YDRgtC40LrQsNC70YzQvdGL0LxcbiAgICAgKi9cbiAgICBzZXRWZXJ0aWNhbE9yaWVudGF0aW9uKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19wcm9ncmVzcy1iYXJfaG9yaXpvbnRhbCcpXG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX3Byb2dyZXNzLWJhcl92ZXJ0aWNhbCcpXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcm9ncmVzc0JhciIsImltcG9ydCB7IElTY2FsZVBvaW50U2l6ZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSUN1cnNvclBvc2l0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBJQm9yZGVyQ29vcmRzIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5cbmltcG9ydCBPYnNlcnZlciBmcm9tIFwiLi4vb2JzZXJ2ZXIvb2JzZXJ2ZXJcIjtcblxuXG4vKipcbiAqINCa0LvQsNGB0YEg0YjQutCw0LvRiy4g0KHQvtC00LXRgNC20LjRgiBIVE1MINGN0LvQtdC80LXQvdGCINGI0LrQsNC70Ysg0Lgg0L7RgNCz0LDQvdC40LfQvtCy0YvQstCw0LXRgiDRg9C/0YDQsNCy0LvQtdC90LjQtSDQtdGOXG4gKi9cbmNsYXNzIFNjYWxlIHtcbiAgICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xuICAgIHByaXZhdGUgb2JzZXJ2ZXI6IE9ic2VydmVyO1xuICAgIHByaXZhdGUgb3JpZW50YXRpb246IHN0cmluZztcblxuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTERpdkVsZW1lbnQsIG9ic2VydmVyOiBPYnNlcnZlcikge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMub3JpZW50YXRpb24gPSBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2xpZGVyX19zY2FsZV92ZXJ0aWNhbCcpID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgICAgICAgdGhpcy5hZGRDbGlja0V2ZW50TGlzdGVuZXIoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCU0L7QsdCw0LLQu9GP0LXRgiDRgdC+0LHRi9GC0LjQtSDQvdCwINC60LvQuNC6INC/0L4g0YjQutCw0LvQtVxuICAgICAqL1xuICAgIHByaXZhdGUgYWRkQ2xpY2tFdmVudExpc3RlbmVyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrVG9TY2FsZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCe0LHRgNCw0LHQvtGC0LrQsCDQutC70LjQutCwINC/0L4g0YjQutCw0LvQtS4g0JzQtdGC0L7QtCDQvtGC0L/RgNCw0LLQu9GP0LXRgiDRg9Cy0LXQtNC+0LzQu9C10L3QuNC1INGBINC60L7QvtGA0LTQuNC90LDRgtCw0LzQuCDQutGD0YDRgdC+0YDQsFxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgLSDQvtCx0YrQtdC60YIg0YHQvtCx0YvRgtC40Y8g0LrQu9C40LrQsCBcbiAgICAgKi9cbiAgICBwcml2YXRlIGNsaWNrVG9TY2FsZShldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLm9ic2VydmVyLm5vdGlmeSgnY2xpY2tPblRoZVNjYWxlJywgdGhpcy5nZXRQb3NpdGlvbih7ICd4JzogZXZlbnQuY2xpZW50WCwgJ3knOiBldmVudC5jbGllbnRZIH0pKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC80LDQutGB0LjQvNCw0LvRjNC90YvQuSDRgNCw0LfQvNC10YAg0YLQvtGH0LrQuCDRiNC60LDQu9GLXG4gICAgICogXG4gICAgICogQHBhcmFtIHtJU2NhbGVQb2ludFNpemV9IG1heFZhbHVlIC0g0L7QsdGK0LXQutGCINGBINGI0LjRgNC40L3QvtC5INC4INCy0YvRgdC+0YLQvtC5ICDQv9C+0YHQu9C10LTQvdC10Lkg0YLQvtGH0LrQuCDRiNC60LDQu9GLXG4gICAgICovXG4gICAgZ2V0U2NhbGVQb2ludE1heFNpemUobWF4VmFsdWU6IG51bWJlcik6IElTY2FsZVBvaW50U2l6ZSB7XG4gICAgICAgIGNvbnN0IHNjYWxlUG9pbnQgPSB0aGlzLmFkZFNjYWxlUG9pbnQoMCwgMCwgbWF4VmFsdWUpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHNjYWxlUG9pbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHNjYWxlUG9pbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBzY2FsZVBvaW50LnJlbW92ZSgpO1xuXG4gICAgICAgIHJldHVybiB7ICd3aWR0aCc6IHdpZHRoLCAnaGVpZ2h0JzogaGVpZ2h0IH07XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQlNC+0LHQsNCy0LvRj9C10YIg0L3QvtCy0YPRjiDRgtC+0YfQutGDINGB0L4g0LfQvdCw0YfQtdC90LjQtdC8INC90LAg0YjQutCw0LvRg1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvbiAtINC/0L7Qt9C40YbQuNGPINGC0L7Rh9C60Lgg0YHQviDQt9C90LDRh9C10L3QuNC10Lwg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INC70LXQstC+0LPQviDQuNC70Lgg0LLQtdGA0YXQvdC10LPQviDQutGA0LDRjyAo0LfQsNCy0LjRgdC40YIg0L7RgiDQvtGA0LjQtdC90YLQsNGG0LjQuCDRgdC70LDQudC00LXRgNCwKSDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LPQviDQutC+0L3RgtC10LnQvdC10YDQsFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVBvaW50V2lkdGggLSDRiNC40YDQuNC90LAg0YLQvtGH0LrQuCDRiNC60LDQu9GLXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50VmFsdWUgLSDQt9C90LDRh9C10L3QuNC1INGC0L7Rh9C60Lgg0YjQutCw0LvRi1xuICAgICAqL1xuICAgIGFkZFNjYWxlUG9pbnQocG9zaXRpb246IG51bWJlciwgc2NhbGVQb2ludFdpZHRoOiBudW1iZXIsIHBvaW50VmFsdWU6IG51bWJlcik6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3Qgc2NhbGVQb2ludDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICBzY2FsZVBvaW50LmNsYXNzTmFtZSA9ICdzbGlkZXJfX3NjYWxlLXBvaW50IHNsaWRlcl9fc2NhbGUtcG9pbnRfaG9yaXpvbnRhbCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzY2FsZVBvaW50LmNsYXNzTmFtZSA9ICdzbGlkZXJfX3NjYWxlLXBvaW50IHNsaWRlcl9fc2NhbGUtcG9pbnRfdmVydGljYWwnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNjYWxlUG9pbnRXaWR0aCA+IDApIHtcbiAgICAgICAgICAgIHNjYWxlUG9pbnQuc3R5bGUud2lkdGggPSBzY2FsZVBvaW50V2lkdGggKyAncHgnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGl2aXNpb25NYXJrZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdmlzaW9uTWFya2VyLmNsYXNzTmFtZSA9ICgnc2xpZGVyX19zY2FsZS1wb2ludC1tYXJrZXInKTtcblxuICAgICAgICBjb25zdCBkaXZpc2lvbkxhYmVsOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICBkaXZpc2lvbkxhYmVsLmNsYXNzTmFtZSA9XG4gICAgICAgICAgICAgICAgKCdzbGlkZXJfX3NjYWxlLXBvaW50LWxhYmVsIHNsaWRlcl9fc2NhbGUtcG9pbnQtbGFiZWxfaG9yaXpvbnRhbCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGl2aXNpb25MYWJlbC5jbGFzc05hbWUgPVxuICAgICAgICAgICAgICAgICgnc2xpZGVyX19zY2FsZS1wb2ludC1sYWJlbCBzbGlkZXJfX3NjYWxlLXBvaW50LWxhYmVsX3ZlcnRpY2FsJyk7XG4gICAgICAgIH1cbiAgICAgICAgZGl2aXNpb25MYWJlbC5pbm5lclRleHQgPSBwb2ludFZhbHVlLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgc2NhbGVQb2ludC5zdHlsZS5sZWZ0ID0gcG9zaXRpb24gKyAncHgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NhbGVQb2ludC5zdHlsZS50b3AgPSBwb3NpdGlvbiArICdweCc7XG4gICAgICAgIH1cblxuICAgICAgICBzY2FsZVBvaW50LmFwcGVuZChkaXZpc2lvbk1hcmtlcik7XG4gICAgICAgIHNjYWxlUG9pbnQuYXBwZW5kKGRpdmlzaW9uTGFiZWwpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKHNjYWxlUG9pbnQpO1xuXG4gICAgICAgIHJldHVybiBzY2FsZVBvaW50O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog0KPQtNCw0LvRj9C10YIgSFRNTCDRjdC70LXQvNC10L3RgiDRiNC60LDQu9GLINC40LcgRE9NXG4gICAgICovXG4gICAgcmVtb3ZlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LLRi9GB0L7RgtGLINC4INGI0LjRgNC40L3RiyDRiNC60LDQu9GLINC00LvRjyDRgtC+0LPQviwg0YfRgtC+0LHRiyDQv9C+INC90LXQuSDQvNC+0LbQvdC+INCx0YvQu9C+INGB0L7QstC10YDRiNCw0YLRjCDQutC70LjQutC4LCDQtNC70Y8g0L/QtdGA0LXQvNC10YnQtdC90LjRjyDQsdC10LPRg9C90LrQvtCyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0g0JfQvdCw0YfQtdC90LjQtSDRiNC40YDQuNC90Ysg0YjQutCw0LvRi1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSDQl9C90LDRh9C10L3QuNC1INCy0YvRgdC+0YLRiyDRiNC60LDQu9GLXG4gICAgICovXG4gICAgc2V0U2NhbGVTaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQv9C+0LfQuNGG0LjRjiDQutGD0YDRgdC+0YDQsFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SUN1cnNvclBvc2l0aW9ufSBjdXJzb3JQb3NpdGlvbiAtINC+0LHRitC10LrRgiDRgSDQv9C+0LfQuNGG0LjQtdC5INC60YPRgNGB0L7RgNCwINC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QviDQu9C10LLQvtCz0L4g0Lgg0LLQtdGA0YXQvdC10LPQviDQutGA0LDRjyDRjdC60YDQsNC90LBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7SUN1cnNvclBvc2l0aW9ufSAtINC+0LHRitC10LrRgiDRgSDQv9C+0LfQuNGG0LjQtdC5INC60YPRgNGB0L7RgNCwINC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QviDQu9C10LLQvtCz0L4g0Lgg0LLQtdGA0YXQvdC10LPQviDQutGA0LDRjyDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LPQviDQutC+0L3RgtC10LnQvdC10YDQsFxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0UG9zaXRpb24oY3Vyc29yUG9zaXRpb246IElDdXJzb3JQb3NpdGlvbik6IElDdXJzb3JQb3NpdGlvbiB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uSW5zaWRlUGFyZW50OiBJQ3Vyc29yUG9zaXRpb24gPSBPYmplY3QuYXNzaWduKHt9LCBjdXJzb3JQb3NpdGlvbik7XG4gICAgICAgIGNvbnN0IHBhcnJlbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuXG4gICAgICAgIGlmIChwYXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJyZW50Q29vcmRzOiBET01SZWN0ID0gcGFycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHBvc2l0aW9uSW5zaWRlUGFyZW50LnggPSBwb3NpdGlvbkluc2lkZVBhcmVudC54IC0gcGFycmVudENvb3Jkcy5sZWZ0O1xuICAgICAgICAgICAgcG9zaXRpb25JbnNpZGVQYXJlbnQueSA9IHBvc2l0aW9uSW5zaWRlUGFyZW50LnkgLSBwYXJyZW50Q29vcmRzLnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbkluc2lkZVBhcmVudDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC60L7QvtGA0LTQuNC90LDRgtGLINCz0YDQsNC90LjRhiDRiNC60LDQu9GLXG4gICAgICogXG4gICAgICogQHJldHVybnMge0lCb3JkZXJDb29yZHN9IC0g0JrQvtC+0YDQtNC40L3QsNGC0Ysg0LPRgNCw0L3QuNGGINGI0LrQsNC70YtcbiAgICAgKi9cbiAgICBnZXRDb29yZHMoKTogSUJvcmRlckNvb3JkcyB7XG4gICAgICAgIGNvbnN0IFNjYWxlQ29vcmRzID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnbGVmdCc6IFNjYWxlQ29vcmRzLmxlZnQsXG4gICAgICAgICAgICAndG9wJzogU2NhbGVDb29yZHMudG9wLFxuICAgICAgICAgICAgJ3JpZ2h0JzogU2NhbGVDb29yZHMucmlnaHQsXG4gICAgICAgICAgICAnYm90dG9tJzogU2NhbGVDb29yZHMuYm90dG9tXG4gICAgICAgIH07XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjYWxlO1xuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vIGltcG9ydCBPYnNlcnZhYmxlIGZyb20gXCIuL29ic2VydmFibGVcIjtcbi8vIGltcG9ydCB7IElDdXJzb3JQb3NpdGlvbiB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG4vLyBpbXBvcnQgeyBJU2NhbGVQb2ludFNpemUgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG4vLyBjbGFzcyBTY2FsZSB7XG5cbi8vICAgICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuLy8gICAgIHByaXZhdGUgb2JzZXJ2ZXI6IE9ic2VydmFibGU7XG4vLyAgICAgcHJpdmF0ZSBvcmllbnRhdGlvbjogc3RyaW5nO1xuXG4vLyAgICAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQsIG9ic2VydmVyOiBPYnNlcnZhYmxlLCBvcmllbnRhdGlvbjogc3RyaW5nKSB7XG4vLyAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4vLyAgICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbi8vICAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuXG5cbiAgICAgICAgLy8gdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIC8vICAgICB0aGlzLm9ic2VydmVyLm5vdGlmeSgnY2xpY2tPblRoZVNjYWxlJywgdGhpcy5nZXRQb3NpdGlvbih7ICd4JzogZXZlbnQuY2xpZW50WCwgJ3knOiBldmVudC5jbGllbnRZIH0pKTtcbiAgICAgICAgLy8gfSk7XG4vLyAgICAgfVxuXG4vLyAgICAgYWRkU2NhbGVQb2ludChwb3NpdGlvbjogbnVtYmVyLCBzY2FsZVBvaW50V2lkdGg6IG51bWJlciwgcG9pbnRWYWx1ZTogbnVtYmVyKTogSFRNTEVsZW1lbnQge1xuXG4vLyAgICAgICAgIGNvbnN0IHNjYWxlUG9pbnQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4vLyAgICAgICAgIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbi8vICAgICAgICAgICAgIHNjYWxlUG9pbnQuY2xhc3NOYW1lID0gJ3NsaWRlcl9fc2NhbGUtcG9pbnQgc2xpZGVyX19zY2FsZS1wb2ludF9ob3Jpem9udGFsJztcbi8vICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XG4vLyAgICAgICAgICAgICBzY2FsZVBvaW50LmNsYXNzTmFtZSA9ICdzbGlkZXJfX3NjYWxlLXBvaW50IHNsaWRlcl9fc2NhbGUtcG9pbnRfdmVydGljYWwnO1xuLy8gICAgICAgICB9XG5cbi8vICAgICAgICAgaWYgKHNjYWxlUG9pbnRXaWR0aCA+IDApIHtcbi8vICAgICAgICAgICAgIHNjYWxlUG9pbnQuc3R5bGUud2lkdGggPSBzY2FsZVBvaW50V2lkdGggKyAncHgnO1xuLy8gICAgICAgICB9XG5cbi8vICAgICAgICAgY29uc3QgZGl2aXNpb25NYXJrZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jylcbi8vICAgICAgICAgZGl2aXNpb25NYXJrZXIuY2xhc3NOYW1lID0gKCdzbGlkZXJfX3NjYWxlLXBvaW50LW1hcmtlcicpXG5cbi8vICAgICAgICAgY29uc3QgZGl2aXNpb25MYWJlbDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuLy8gICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4vLyAgICAgICAgICAgICBkaXZpc2lvbkxhYmVsLmNsYXNzTmFtZSA9IFxuLy8gICAgICAgICAgICAgICAgICgnc2xpZGVyX19zY2FsZS1wb2ludC1sYWJlbCBzbGlkZXJfX3NjYWxlLXBvaW50LWxhYmVsX2hvcml6b250YWwnKVxuLy8gICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbi8vICAgICAgICAgICAgIGRpdmlzaW9uTGFiZWwuY2xhc3NOYW1lID0gXG4vLyAgICAgICAgICAgICAgICAgKCdzbGlkZXJfX3NjYWxlLXBvaW50LWxhYmVsIHNsaWRlcl9fc2NhbGUtcG9pbnQtbGFiZWxfdmVydGljYWwnKVxuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGRpdmlzaW9uTGFiZWwuaW5uZXJUZXh0ID0gcG9pbnRWYWx1ZS50b1N0cmluZygpO1xuXG4vLyAgICAgICAgIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbi8vICAgICAgICAgICAgIHNjYWxlUG9pbnQuc3R5bGUubGVmdCA9IHBvc2l0aW9uICsgJ3B4Jztcbi8vICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XG4vLyAgICAgICAgICAgICBzY2FsZVBvaW50LnN0eWxlLnRvcCA9IHBvc2l0aW9uICsgJ3B4Jztcbi8vICAgICAgICAgfVxuXG4vLyAgICAgICAgIHNjYWxlUG9pbnQuYXBwZW5kKGRpdmlzaW9uTWFya2VyKTtcbi8vICAgICAgICAgc2NhbGVQb2ludC5hcHBlbmQoZGl2aXNpb25MYWJlbCk7XG4vLyAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmQoc2NhbGVQb2ludCk7XG5cbi8vICAgICAgICAgcmV0dXJuIHNjYWxlUG9pbnRcbi8vICAgICB9XG5cbiAgICAvLyBnZXRTY2FsZVBvaW50TWF4U2l6ZShtYXhWYWx1ZTogbnVtYmVyKTogSVNjYWxlUG9pbnRTaXplIHtcbiAgICAvLyAgICAgY29uc3Qgc2NhbGVQb2ludCA9IHRoaXMuYWRkU2NhbGVQb2ludCgwLCAwLCBtYXhWYWx1ZSk7XG4gICAgLy8gICAgIGNvbnN0IHdpZHRoID0gc2NhbGVQb2ludC5vZmZzZXRXaWR0aDtcbiAgICAvLyAgICAgY29uc3QgaGVpZ2h0ID0gc2NhbGVQb2ludC5vZmZzZXRIZWlnaHQ7XG4gICAgLy8gICAgIHNjYWxlUG9pbnQucmVtb3ZlKCk7XG5cbiAgICAvLyAgICAgcmV0dXJuIHsgJ3dpZHRoJzogd2lkdGgsICdoZWlnaHQnOiBoZWlnaHQgfTtcbiAgICAvLyB9XG5cbi8vICAgICBwcml2YXRlIGdldFBvc2l0aW9uKGN1cnNvclBvc2l0aW9uOiBJQ3Vyc29yUG9zaXRpb24pOiBJQ3Vyc29yUG9zaXRpb24ge1xuXG4vLyAgICAgICAgIGNvbnN0IHBhcnJlbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuXG4vLyAgICAgICAgIGlmICghcGFycmVudCkge1xuLy8gICAgICAgICAgICAgcmV0dXJuIHsgJ3gnOiAwLCAneSc6IDAgfVxuLy8gICAgICAgICB9XG5cbi8vICAgICAgICAgY29uc3QgcGFycmVudENvb3JkczogRE9NUmVjdCA9IHBhcnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbi8vICAgICAgICAgcmV0dXJuIHtcbi8vICAgICAgICAgICAgICd4JzogY3Vyc29yUG9zaXRpb24ueCAtIHBhcnJlbnRDb29yZHMubGVmdCxcbi8vICAgICAgICAgICAgICd5JzogY3Vyc29yUG9zaXRpb24ueSAtIHBhcnJlbnRDb29yZHMudG9wXG4vLyAgICAgICAgIH1cbi8vICAgICB9XG5cbiAgICAvLyBzZXRTY2FsZVNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGggKyAncHgnO1xuICAgIC8vICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICAvLyB9XG5cbi8vICAgICByZW1vdmUoKSB7XG4vLyAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcbi8vICAgICB9XG5cbi8vICAgICBoaWRlKCkge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19zY2FsZV9oaWRlJyk7XG4vLyAgICAgfVxuXG4vLyAgICAgc2hvdygpIHtcbi8vICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fc2NhbGVfaGlkZScpO1xuLy8gICAgIH1cblxuLy8gICAgIHNldEhvcml6b250YWxPcmllbnRhdGlvbigpIHtcbi8vICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fc2NhbGVfdmVydGljYWwnKVxuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19zY2FsZV9ob3Jpem9udGFsJylcbi8vICAgICB9XG5cbi8vICAgICBzZXRWZXJ0aWNhbE9yaWVudGF0aW9uKCkge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19zY2FsZV9ob3Jpem9udGFsJylcbi8vICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fc2NhbGVfdmVydGljYWwnKVxuLy8gICAgIH1cblxuLy8gfVxuXG4vLyBleHBvcnQgZGVmYXVsdCBTY2FsZTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLy8gLy8gaW1wb3J0IHsgSVNjYWxlU2V0dGluZ3MgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG4vLyAvLyBleHBvcnQgY2xhc3MgU2NhbGUge1xuXG4vLyAvLyAgICAgcHJpdmF0ZSBzY2FsZUVsZW06IEhUTUxFbGVtZW50IHwgbnVsbDtcbi8vIC8vICAgICBwcml2YXRlIGRpdmlzaW9uc0NvdW50OiBudW1iZXIgPSAyO1xuLy8gLy8gICAgIHByaXZhdGUgc3RlcFNpemU6IG51bWJlciA9IDA7XG4vLyAvLyAgICAgcHJpdmF0ZSBtaW5WYWx1ZTogbnVtYmVyID0gMTtcbi8vIC8vICAgICBwcml2YXRlIG1heFZhbHVlOiBudW1iZXIgPSAxMDtcbi8vIC8vICAgICBwcml2YXRlIGRpc3BsYXllZDogYm9vbGVhbjtcbi8vIC8vICAgICBwcml2YXRlIG1hcmtlcldpZGg6IG51bWJlciA9IDEwO1xuLy8gLy8gICAgIHByaXZhdGUgbWFya2VySGVpZ2h0OiBudW1iZXIgPSAxMDtcbi8vIC8vICAgICBwcml2YXRlIHBpeGVsc1BlclZhbHVlOiBudW1iZXIgPSAwO1xuLy8gLy8gICAgIHByaXZhdGUgZGl2aXNpb25XaWR0aDogbnVtYmVyID0gNTA7XG5cbi8vIC8vICAgICBjb25zdHJ1Y3RvcihzY2FsZUVsZW06IEhUTUxFbGVtZW50LCBzZXRpbmdzOiBJU2NhbGVTZXR0aW5ncyxcbi8vIC8vICAgICAgICAgZGl2aXNpb25zQ291bnQ6IG51bWJlciwgc3RlcFNpemU6IG51bWJlciwgdGh1bWJTaXplOiBudW1iZXIsIHBpeGVsc1BlclZhbHVlOiBudW1iZXIpIHtcbi8vIC8vICAgICAgICAgdGhpcy5zY2FsZUVsZW0gPSBzY2FsZUVsZW07XG4vLyAvLyAgICAgICAgIHRoaXMuZGlzcGxheWVkID0gc2V0aW5ncy5kaXNwbGF5ZWQ7XG4vLyAvLyAgICAgICAgIHRoaXMuZGl2aXNpb25zQ291bnQgPSBkaXZpc2lvbnNDb3VudDtcbi8vIC8vICAgICAgICAgdGhpcy5zdGVwU2l6ZSA9IHN0ZXBTaXplO1xuLy8gLy8gICAgICAgICB0aGlzLm1heFZhbHVlID0gc2V0aW5ncy5tYXhWYWx1ZTtcbi8vIC8vICAgICAgICAgdGhpcy5taW5WYWx1ZSA9IHNldGluZ3MubWluVmFsdWU7XG4vLyAvLyAgICAgICAgIHRoaXMucGl4ZWxzUGVyVmFsdWUgPSBwaXhlbHNQZXJWYWx1ZTtcbi8vIC8vICAgICAgICAgLy8gdGhpcy5kaXZpc2lvbldpZHRoID0gNDA7XG5cbi8vIC8vICAgICAgICAgdGhpcy5zY2FsZUVsZW0uc3R5bGUuaGVpZ2h0ID0gdGhpcy5tYXJrZXJIZWlnaHQgKyAncHgnO1xuXG4vLyAvLyAgICAgICAgIC8vIGxldCBzdGFydFBvc2l0aW9uOiBudW1iZXIgPSB0aHVtYlNpemUgLyAyIC0gdGhpcy5tYXJrZXJXaWRoIC8gMjtcbi8vIC8vICAgICAgICAgLy8gbGV0IGVuZFBvc2l0aW9uOiBudW1iZXIgPSBzY2FsZUVsZW0uY2xpZW50V2lkdGggLSB0aHVtYlNpemUgLyAyIC0gdGhpcy5tYXJrZXJXaWRoIC8gMjtcblxuLy8gLy8gICAgICAgICB0aGlzLmdlbmVyYXRlU2NhbGUodGh1bWJTaXplKTtcbi8vIC8vICAgICB9XG5cbi8vIC8vICAgICBnZXRTY2FsZUVsZW0oKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbi8vIC8vICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVFbGVtO1xuLy8gLy8gICAgIH1cblxuLy8gLy8gICAgIHByaXZhdGUgZ2VuZXJhdGVTY2FsZSh0aHVtYlNpemU6IG51bWJlcikge1xuLy8gLy8gICAgICAgICBsZXQgZGl2aXNpb25Qb3NpdGlvbjogbnVtYmVyID0gdGh1bWJTaXplIC8gMjtcbi8vIC8vICAgICAgICAgbGV0IGxhc3REaXZpc2lvbjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuLy8gLy8gICAgICAgICBpZiAodGhpcy5zY2FsZUVsZW0pIHtcbi8vIC8vICAgICAgICAgICAgIGNvbnN0IGVuZFBvc2l0aW9uOiBudW1iZXIgPSB0aGlzLnNjYWxlRWxlbS5jbGllbnRXaWR0aCAtIHRodW1iU2l6ZSAvIDI7XG4vLyAvLyAgICAgICAgICAgICBjb25zdCBlbmREaXZpc2lvbjogSFRNTEVsZW1lbnQgfCBudWxsID0gdGhpcy5hZGREaXZpc2lvbih0aHVtYlNpemUsIGVuZFBvc2l0aW9uLCBsYXN0RGl2aXNpb24sIHRydWUpO1xuXG4vLyAvLyAgICAgICAgICAgICBpZiAoZW5kRGl2aXNpb24pIHtcbi8vIC8vICAgICAgICAgICAgICAgICB0aGlzLmRpdmlzaW9uV2lkdGggPSBlbmREaXZpc2lvbi5vZmZzZXRXaWR0aDtcbi8vIC8vICAgICAgICAgICAgICAgICBlbmREaXZpc2lvbi5zdHlsZS5sZWZ0ID0gZW5kUG9zaXRpb24gLSB0aGlzLmRpdmlzaW9uV2lkdGggLyAyICsgJ3B4Jztcbi8vIC8vICAgICAgICAgICAgIH1cbi8vIC8vICAgICAgICAgICAgIC8vIGlmIChlbmREaXZpc2lvbikge1xuLy8gLy8gICAgICAgICAgICAgLy8gICAgIGNvbnN0IGRpdmlzaW9uTGFiZWw6IEhUTUxFbGVtZW50ID0gZW5kRGl2aXNpb24uY2hpbGRyZW5bZW5kRGl2aXNpb24uY2hpbGRyZW4ubGVuZ3RoIC0gMV0gYXMgSFRNTEVsZW1lbnQ7XG5cbi8vIC8vICAgICAgICAgICAgIC8vICAgICBpZiAoZGl2aXNpb25MYWJlbC5vZmZzZXRXaWR0aCA+IGVuZERpdmlzaW9uLm9mZnNldFdpZHRoKSB7XG4vLyAvLyAgICAgICAgICAgICAvLyAgICAgICAgIGRpdmlzaW9uTGFiZWwuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19kaXZpc2lvbkxhYmVsX3JvdGF0ZScpO1xuLy8gLy8gICAgICAgICAgICAgLy8gICAgICAgICBkaXZpc2lvbkxhYmVsLnN0eWxlLm1hcmdpbkxlZnQgPSB0aGlzLmRpdmlzaW9uV2lkdGggLyAyICsgJ3B4Jztcbi8vIC8vICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5sYWJlbElzUm90YXRlZCA9IHRydWU7XG4vLyAvLyAgICAgICAgICAgICAvLyAgICAgfVxuLy8gLy8gICAgICAgICAgICAgLy8gfVxuXG4vLyAvLyAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGl2aXNpb25zQ291bnQgLSAxOyBpKyspIHtcbi8vIC8vICAgICAgICAgICAgICAgICBsYXN0RGl2aXNpb24gPSB0aGlzLmFkZERpdmlzaW9uKHRodW1iU2l6ZSwgZGl2aXNpb25Qb3NpdGlvbiwgbGFzdERpdmlzaW9uLCBmYWxzZSk7XG4vLyAvLyAgICAgICAgICAgICAgICAgZGl2aXNpb25Qb3NpdGlvbiArPSB0aGlzLnN0ZXBTaXplO1xuLy8gLy8gICAgICAgICAgICAgfVxuLy8gLy8gICAgICAgICB9XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgcHJpdmF0ZSBhZGREaXZpc2lvbih0aHVtYlNpemU6IG51bWJlciwgcG9zaXRpb246IG51bWJlciwgbGFzdERpdmlzaW9uOiBIVE1MRWxlbWVudCB8IG51bGwsIGlzRW5kRGl2aXNpb246IGJvb2xlYW4pOiBIVE1MRWxlbWVudCB8IG51bGwge1xuXG4vLyAvLyAgICAgICAgIGlmICh0aGlzLnNjYWxlRWxlbSkge1xuXG4vLyAvLyAgICAgICAgICAgICBjb25zdCBuZXdMZWZ0OiBudW1iZXIgPSBwb3NpdGlvbiAtIHRoaXMuZGl2aXNpb25XaWR0aCAvIDJcblxuLy8gLy8gICAgICAgICAgICAgY29uc3QgZGl2aXNpb246IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4vLyAvLyAgICAgICAgICAgICBkaXZpc2lvbi5jbGFzc05hbWUgPSAnc2xpZGVyX19zY2FsZS1kaXZpc2lvbic7XG5cbi8vIC8vICAgICAgICAgICAgIGNvbnN0IGRpdmlzaW9uTWFya2VyOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4vLyAvLyAgICAgICAgICAgICBkaXZpc2lvbk1hcmtlci5jbGFzc05hbWUgPSAoJ3NsaWRlcl9fZGl2aXNpb25NYXJrZXInKVxuLy8gLy8gICAgICAgICAgICAgZGl2aXNpb25NYXJrZXIuc3R5bGUud2lkdGggPSB0aGlzLm1hcmtlcldpZGggKyAncHgnO1xuLy8gLy8gICAgICAgICAgICAgZGl2aXNpb25NYXJrZXIuc3R5bGUuaGVpZ2h0ID0gdGhpcy5tYXJrZXJIZWlnaHQgKyAncHgnO1xuXG4vLyAvLyAgICAgICAgICAgICBjb25zdCBkaXZpc2lvbkxhYmVsOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4vLyAvLyAgICAgICAgICAgICBkaXZpc2lvbkxhYmVsLmNsYXNzTmFtZSA9ICgnc2xpZGVyX19kaXZpc2lvbkxhYmVsJylcbi8vIC8vICAgICAgICAgICAgIGRpdmlzaW9uTGFiZWwuaW5uZXJUZXh0ID0gdGhpcy5wb3NpdGlvblRvVmFsdWUocG9zaXRpb24gLSB0aHVtYlNpemUgLyAyKS50b1N0cmluZygpO1xuXG4vLyAvLyAgICAgICAgICAgICBpZiAoIWlzRW5kRGl2aXNpb24pIHtcbi8vIC8vICAgICAgICAgICAgICAgICBkaXZpc2lvbi5zdHlsZS53aWR0aCA9IHRoaXMuZGl2aXNpb25XaWR0aCArICdweCc7XG4vLyAvLyAgICAgICAgICAgICAgICAgZGl2aXNpb24uc3R5bGUubGVmdCA9IG5ld0xlZnQgKyAncHgnO1xuLy8gLy8gICAgICAgICAgICAgfVxuXG4vLyAvLyAgICAgICAgICAgICBkaXZpc2lvbi5hcHBlbmQoZGl2aXNpb25NYXJrZXIpO1xuLy8gLy8gICAgICAgICAgICAgZGl2aXNpb24uYXBwZW5kKGRpdmlzaW9uTGFiZWwpO1xuXG4vLyAvLyAgICAgICAgICAgICBpZiAoIShsYXN0RGl2aXNpb24pIHx8IG5ld0xlZnQgLSBwYXJzZUludChsYXN0RGl2aXNpb24uc3R5bGUubGVmdCkgPj0gdGhpcy5kaXZpc2lvbldpZHRoICsgMTApIHtcblxuLy8gLy8gICAgICAgICAgICAgICAgIC8vINCd0LUg0LLRi9Cy0L7QtNC40YLRjCDQv9GA0LXQtNC/0L7RgdC70LXQtNC90LXQtSDQtNC10LvQtdC90LjQtSDRiNC60LDQu9GLLCDQtdGB0LvQuCDQvtC90L4g0L3QsNC60LvQsNC00YvQstCw0LXRgtGB0Y8g0L3QsCDQv9C+0YHQu9C10LTQvdC10LVcbi8vIC8vICAgICAgICAgICAgICAgICBpZiAobGFzdERpdmlzaW9uICYmIFxuLy8gLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLnNjYWxlRWxlbS5jbGllbnRXaWR0aCAtIHRodW1iU2l6ZSAvIDIgLSBcbi8vIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXZpc2lvbldpZHRoIC8gMiAtIG5ld0xlZnQgPCB0aGlzLmRpdmlzaW9uV2lkdGgpIHtcbi8vIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsYXN0RGl2aXNpb247XG4vLyAvLyAgICAgICAgICAgICAgICAgfVxuXG4vLyAvLyAgICAgICAgICAgICAgICAgdGhpcy5zY2FsZUVsZW0uYXBwZW5kKGRpdmlzaW9uKTtcblxuLy8gLy8gICAgICAgICAgICAgICAgIHJldHVybiBkaXZpc2lvbjtcbi8vIC8vICAgICAgICAgICAgIH1cbi8vIC8vICAgICAgICAgfVxuXG4vLyAvLyAgICAgICAgIHJldHVybiBsYXN0RGl2aXNpb247XG4vLyAvLyAgICAgfVxuXG4vLyAvLyAgICAgcHJpdmF0ZSBwb3NpdGlvblRvVmFsdWUocG9zaXRpb246IG51bWJlcikge1xuLy8gLy8gICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLm1pblZhbHVlICsgKCh0aGlzLm1heFZhbHVlIC1cbi8vIC8vICAgICAgICAgICAgIHRoaXMubWluVmFsdWUpIC8gMTAwICogTWF0aC5yb3VuZChwb3NpdGlvbiAvIHRoaXMucGl4ZWxzUGVyVmFsdWUpKSk7XG4vLyAvLyAgICAgfVxuLy8gLy8gfSIsImltcG9ydCBQYW5lbCBmcm9tICcuL3BhbmVsJ1xuXG4oZnVuY3Rpb24gKCQpIHtcbiAgICAkLmZuLnNsaWRlckNvbnRyb2xQYW5lbCA9IGZ1bmN0aW9uICgpOiBKUXVlcnk8SFRNTEVsZW1lbnQ+IHtcbiAgICAgICAgbmV3IFBhbmVsKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH07XG59KShqUXVlcnkpOyIsImltcG9ydCBJbnB1dENoZWNrYm94IGZyb20gXCIuL3BhbmVsRWxlbWVudHMvaW5wdXRDaGVja2JveFwiO1xuaW1wb3J0IElucHV0UmFkaW8gZnJvbSBcIi4vcGFuZWxFbGVtZW50cy9pbnB1dFJhZGlvXCI7XG5pbXBvcnQgSW5wdXRUZXh0IGZyb20gXCIuL3BhbmVsRWxlbWVudHMvaW5wdXRUZXh0XCI7XG5cbmNsYXNzIFBhbmVsIHtcbiAgICBwcml2YXRlIHNsaWRlckVsZW06IEpRdWVyeTxIVE1MRWxlbWVudD47XG4gICAgcHJpdmF0ZSBzbGlkZXJQYW5lbDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcml2YXRlIG1pblZhbHVlOiBIVE1MSW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBwcml2YXRlIG1heFZhbHVlOiBIVE1MSW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBwcml2YXRlIHN0ZXA6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHByaXZhdGUgc2NhbGVDaEJveDogSFRNTElucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgcHJpdmF0ZSB0b29sdGlwQ2hCb3g6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHByaXZhdGUgc2luZ2xlUmFkaW9CdXR0b246IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHByaXZhdGUgcmFuZ2VSYWRpb0J1dHRvbjogSFRNTElucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgcHJpdmF0ZSBob3Jpem9udGFsUmFkaW9CdXR0b246IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHByaXZhdGUgdmVydGljYWxSYWRpb0J1dHRvbjogSFRNTElucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgICBjb25zdHJ1Y3RvcihzbGlkZXI6IEpRdWVyeTxIVE1MRWxlbWVudD4pIHtcbiAgICAgICAgdGhpcy5zbGlkZXJFbGVtID0gc2xpZGVyO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUGFuZWwoKTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyc1RvUGFuZWwoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVBhbmVsKCkge1xuICAgICAgICBjb25zdCBpbnB1dFRleHRzR3JvdXA6IEhUTUxEaXZFbGVtZW50ID0gdGhpcy5jcmVhdGVJbnB1dFRleHRHcm91cCgpO1xuICAgICAgICBjb25zdCBpbnB1dFJhZGlvQnV0dG9uc0dyb3VwOiBIVE1MRGl2RWxlbWVudCA9IHRoaXMuY3JlYXRlUmFkaW9UZXh0R3JvdXAoKTtcbiAgICAgICAgY29uc3QgaW5wdXRDaGVja2JveGVzR3JvdXA6IEhUTUxEaXZFbGVtZW50ID0gdGhpcy5jcmVhdGVDaGVja2JveFRleHRHcm91cCgpOyAgICBcblxuICAgICAgICBjb25zdCBjaGVja2JveGVzQW5kUmFkaW9XcmFwcGVyOiBIVE1MRGl2RWxlbWVudCA9IHRoaXMud3JhcEVsZW1lbnRzKFxuICAgICAgICAgICAgJ3NsaWRlci1wYW5lbF9fY2hlY2tib3hlcy1hbmQtcmFkaW8td3JhcHBlcicsXG4gICAgICAgICAgICBpbnB1dFJhZGlvQnV0dG9uc0dyb3VwLFxuICAgICAgICAgICAgaW5wdXRDaGVja2JveGVzR3JvdXBcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnNsaWRlclBhbmVsLmNsYXNzTmFtZSA9ICdzbGlkZXItcGFuZWwnO1xuICAgICAgICB0aGlzLnNsaWRlclBhbmVsLmFwcGVuZChpbnB1dFRleHRzR3JvdXApO1xuICAgICAgICB0aGlzLnNsaWRlclBhbmVsLmFwcGVuZChjaGVja2JveGVzQW5kUmFkaW9XcmFwcGVyKTtcblxuICAgICAgICBjb25zdCBzbGlkZXJUeXBlID0gU3RyaW5nKHRoaXMuc2xpZGVyRWxlbS5pbmNyZWRpYmxlU2xpZGVyUGx1Z2luKCdnZXRTbGlkZXJUeXBlJykpO1xuICAgICAgICBpZiAoc2xpZGVyVHlwZSA9PSAnc2luZ2xlJykge1xuICAgICAgICAgICAgdGhpcy5zaW5nbGVSYWRpb0J1dHRvbi5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChzbGlkZXJUeXBlID09ICdyYW5nZScpIHtcbiAgICAgICAgICAgIHRoaXMucmFuZ2VSYWRpb0J1dHRvbi5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNsaWRlck9yaWVudGF0aW9uID0gU3RyaW5nKHRoaXMuc2xpZGVyRWxlbS5pbmNyZWRpYmxlU2xpZGVyUGx1Z2luKCdnZXRTbGlkZXJPcmllbnRhdGlvbicpKTtcbiAgICAgICAgaWYgKHNsaWRlck9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgdGhpcy5zZXRTbGlkZXJXcmFwcGVySG9yaXpvbnRhbE9yaWVudGF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmhvcml6b250YWxSYWRpb0J1dHRvbi5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChzbGlkZXJPcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNsaWRlcldyYXBwZXJWZXJ0aWNhbE9yaWVudGF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsUmFkaW9CdXR0b24uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYW5lbFdyYXBwZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHBhbmVsV3JhcHBlci5jbGFzc05hbWUgPSAncGFuZWwtd3JhcHBlcic7XG4gICAgICAgIHBhbmVsV3JhcHBlci5hcHBlbmQodGhpcy5zbGlkZXJQYW5lbCk7XG5cbiAgICAgICAgdGhpcy5zbGlkZXJFbGVtLmFwcGVuZChwYW5lbFdyYXBwZXIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkRXZlbnRMaXN0ZW5lcnNUb1BhbmVsKCkge1xuICAgICAgICB0aGlzLm1pblZhbHVlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5taW5LZXl1cEV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLm1heFZhbHVlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5tYXhLZXl1cEV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnN0ZXAuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnN0ZXBLZXl1cEV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnNjYWxlQ2hCb3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNjYWxlQ2hCb3hDbGlja0V2ZW50LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnRvb2x0aXBDaEJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudG9vbHRpcENoQm94Q2xpY2tFdmVudC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5zaW5nbGVSYWRpb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2luZ2xlUmFkaW9CdXR0b25DbGlja0V2ZW50LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnJhbmdlUmFkaW9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJhbmdlUmFkaW9CdXR0b25DbGlja0V2ZW50LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmhvcml6b250YWxSYWRpb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaG9yaXpvbnRhbFJhZGlvQnV0dG9uQ2xpY2tFdmVudC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFJhZGlvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy52ZXJ0aWNhbFJhZGlvQnV0dG9uQ2xpY2tFdmVudC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1pbktleXVwRXZlbnQoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG1pblZhbHVlID0gdGhpcy5taW5WYWx1ZS52YWx1ZS5yZXBsYWNlKC9bXlxcZF0vZywnJyk7XG4gICAgICAgIHRoaXMuc2V0TWluVmFsdWVTbGlkZXIobWluVmFsdWUpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBtYXhLZXl1cEV2ZW50KCk6IHZvaWQge1xuICAgICAgICBjb25zdCBtYXhWYWx1ZSA9IHRoaXMubWF4VmFsdWUudmFsdWUucmVwbGFjZSgvW15cXGRdL2csJycpO1xuICAgICAgICB0aGlzLnNldE1heFZhbHVlU2xpZGVyKG1heFZhbHVlKTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgc3RlcEtleXVwRXZlbnQoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSB0aGlzLnN0ZXAudmFsdWUucmVwbGFjZSgvW15cXGRdL2csJycpO1xuICAgICAgICB0aGlzLnNldFN0ZXBWYWx1ZVNsaWRlcihzdGVwKTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgc2NhbGVDaEJveENsaWNrRXZlbnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2xpZGVyRWxlbS5pbmNyZWRpYmxlU2xpZGVyUGx1Z2luKCdjaGFuZ2VTY2FsZVZpc2liaWxpdHknLCB0aGlzLnNjYWxlQ2hCb3guY2hlY2tlZCk7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIHRvb2x0aXBDaEJveENsaWNrRXZlbnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2xpZGVyRWxlbS5pbmNyZWRpYmxlU2xpZGVyUGx1Z2luKCdjaGFuZ2VUb29sdGlwc1Zpc2liaWxpdHknLCB0aGlzLnRvb2x0aXBDaEJveC5jaGVja2VkKTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgc2luZ2xlUmFkaW9CdXR0b25DbGlja0V2ZW50KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNsaWRlckVsZW0uaW5jcmVkaWJsZVNsaWRlclBsdWdpbignY2hhbmdlU2xpZGVyVHlwZScsIHRoaXMuc2luZ2xlUmFkaW9CdXR0b24udmFsdWUpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSByYW5nZVJhZGlvQnV0dG9uQ2xpY2tFdmVudCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zbGlkZXJFbGVtLmluY3JlZGlibGVTbGlkZXJQbHVnaW4oJ2NoYW5nZVNsaWRlclR5cGUnLCB0aGlzLnJhbmdlUmFkaW9CdXR0b24udmFsdWUpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBob3Jpem9udGFsUmFkaW9CdXR0b25DbGlja0V2ZW50KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldFNsaWRlcldyYXBwZXJIb3Jpem9udGFsT3JpZW50YXRpb24oKTtcbiAgICAgICAgdGhpcy5zbGlkZXJFbGVtLmluY3JlZGlibGVTbGlkZXJQbHVnaW4oJ2NoYW5nZVNsaWRlck9yaWVudGF0aW9uJywgdGhpcy5ob3Jpem9udGFsUmFkaW9CdXR0b24udmFsdWUpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSB2ZXJ0aWNhbFJhZGlvQnV0dG9uQ2xpY2tFdmVudCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRTbGlkZXJXcmFwcGVyVmVydGljYWxPcmllbnRhdGlvbigpO1xuICAgICAgICB0aGlzLnNsaWRlckVsZW0uaW5jcmVkaWJsZVNsaWRlclBsdWdpbignY2hhbmdlU2xpZGVyT3JpZW50YXRpb24nLCB0aGlzLnZlcnRpY2FsUmFkaW9CdXR0b24udmFsdWUpXG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGNyZWF0ZUlucHV0VGV4dEdyb3VwKCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICAgICAgdGhpcy5taW5WYWx1ZS52YWx1ZSA9IFN0cmluZyh0aGlzLnNsaWRlckVsZW0uaW5jcmVkaWJsZVNsaWRlclBsdWdpbignZ2V0TWluJykpO1xuICAgICAgICB0aGlzLm1heFZhbHVlLnZhbHVlID0gU3RyaW5nKHRoaXMuc2xpZGVyRWxlbS5pbmNyZWRpYmxlU2xpZGVyUGx1Z2luKCdnZXRNYXgnKSk7XG4gICAgICAgIHRoaXMuc3RlcC52YWx1ZSA9IFN0cmluZyh0aGlzLnNsaWRlckVsZW0uaW5jcmVkaWJsZVNsaWRlclBsdWdpbignZ2V0U3RlcCcpKTtcblxuICAgICAgICBjb25zdCBpbnB1dFRleHRzR3JvdXA6IEhUTUxEaXZFbGVtZW50ID0gdGhpcy53cmFwRWxlbWVudHMoXG4gICAgICAgICAgICAnc2xpZGVyLXBhbmVsX19pbnB1dC10ZXh0LWdyb3VwJyxcbiAgICAgICAgICAgIG5ldyBJbnB1dFRleHQodGhpcy5taW5WYWx1ZSwgJ21pbicsICdtaW4nKS5nZXRDb250cm9sKCksXG4gICAgICAgICAgICBuZXcgSW5wdXRUZXh0KHRoaXMubWF4VmFsdWUsICdtYXgnLCAnbWF4JykuZ2V0Q29udHJvbCgpLFxuICAgICAgICAgICAgbmV3IElucHV0VGV4dCh0aGlzLnN0ZXAsICdzdGVwJywgJ3N0ZXAnKS5nZXRDb250cm9sKClcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gaW5wdXRUZXh0c0dyb3VwO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUmFkaW9UZXh0R3JvdXAoKTogSFRNTERpdkVsZW1lbnQge1xuICAgICAgICBjb25zdCBzbGlkZXJUeXBlUmFkaW9QYXJhbXMgPSBbXG4gICAgICAgICAgICB7ICdpbnB1dCc6IHRoaXMuc2luZ2xlUmFkaW9CdXR0b24sICdpZCc6ICdzaW5nbGUnLCAnbGFiZWwnOiAnc2luZ2xlJywgJ3ZhbHVlJzogJ3NpbmdsZScgfSxcbiAgICAgICAgICAgIHsgJ2lucHV0JzogdGhpcy5yYW5nZVJhZGlvQnV0dG9uLCAnaWQnOiAncmFuZ2UnLCAnbGFiZWwnOiAncmFuZ2UnLCAndmFsdWUnOiAncmFuZ2UnIH1cbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgdHlwZVJhZGlvR3JvdXBMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIHR5cGVSYWRpb0dyb3VwTGFiZWwuaW5uZXJUZXh0ID0gJ3R5cGUnO1xuICAgICAgICB0eXBlUmFkaW9Hcm91cExhYmVsLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci1wYW5lbF9fcmFkaW8tZ3JvdXAtbGFiZWwnKTtcbiAgICAgICAgY29uc3Qgc2xpZGVyVHlwZVJhZGlvQ29udHJvbCA9IG5ldyBJbnB1dFJhZGlvKHNsaWRlclR5cGVSYWRpb1BhcmFtcywgJ3NsaWRlclR5cGUnKVxuXG4gICAgICAgIGNvbnN0IHNsaWRlck9yaWVudGF0aW9uUmFkaW9QYXJhbXMgPSBbXG4gICAgICAgICAgICB7ICdpbnB1dCc6IHRoaXMuaG9yaXpvbnRhbFJhZGlvQnV0dG9uLCAnaWQnOiAnaG9yaXpvbnRhbCcsICdsYWJlbCc6ICdob3Jpem9udGFsJywgJ3ZhbHVlJzogJ2hvcml6b250YWwnIH0sXG4gICAgICAgICAgICB7ICdpbnB1dCc6IHRoaXMudmVydGljYWxSYWRpb0J1dHRvbiwgJ2lkJzogJ3ZlcnRpY2FsJywgJ2xhYmVsJzogJ3ZlcnRpY2FsJywgJ3ZhbHVlJzogJ3ZlcnRpY2FsJyB9XG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uUmFkaW9Hcm91cExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgb3JpZW50YXRpb25SYWRpb0dyb3VwTGFiZWwuaW5uZXJUZXh0ID0gJ29yaWVudGF0aW9uJztcbiAgICAgICAgb3JpZW50YXRpb25SYWRpb0dyb3VwTGFiZWwuY2xhc3NMaXN0LmFkZCgnc2xpZGVyLXBhbmVsX19yYWRpby1ncm91cC1sYWJlbCcpO1xuICAgICAgICBjb25zdCBzbGlkZXJPcmllbnRhdGlvblJhZGlvQ29udHJvbCA9IG5ldyBJbnB1dFJhZGlvKHNsaWRlck9yaWVudGF0aW9uUmFkaW9QYXJhbXMsICdzbGlkZXJPcmllbnRhdGlvbicpXG5cbiAgICAgICAgY29uc3QgaW5wdXRSYWRpb0J1dHRvbnNHcm91cDogSFRNTERpdkVsZW1lbnQgPSB0aGlzLndyYXBFbGVtZW50cyhcbiAgICAgICAgICAgICdzbGlkZXItcGFuZWxfX2lucHV0LXJhZGlvLWJ1dHRvbnMtZ3JvdXAnLFxuICAgICAgICAgICAgdHlwZVJhZGlvR3JvdXBMYWJlbCxcbiAgICAgICAgICAgIHNsaWRlclR5cGVSYWRpb0NvbnRyb2wuZ2V0Q29udHJvbCgpLFxuICAgICAgICAgICAgb3JpZW50YXRpb25SYWRpb0dyb3VwTGFiZWwsXG4gICAgICAgICAgICBzbGlkZXJPcmllbnRhdGlvblJhZGlvQ29udHJvbC5nZXRDb250cm9sKClcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gaW5wdXRSYWRpb0J1dHRvbnNHcm91cDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUNoZWNrYm94VGV4dEdyb3VwKCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICAgICAgY29uc3QgY2hlY2tib3hlc0dyb3VwTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBjaGVja2JveGVzR3JvdXBMYWJlbC5pbm5lclRleHQgPSAnb24vb2ZmIGVsZW1lbnRzJztcbiAgICAgICAgY2hlY2tib3hlc0dyb3VwTGFiZWwuY2xhc3NMaXN0LmFkZCgnc2xpZGVyLXBhbmVsX19jaGVja2JveGVzLWdyb3VwLWxhYmVsJyk7XG5cbiAgICAgICAgY29uc3Qgc2NhbGVDaEJveCA9IG5ldyBJbnB1dENoZWNrYm94KHRoaXMuc2NhbGVDaEJveCwgJ3NjYWxlJywgJ3NjYWxlJyk7XG4gICAgICAgIHRoaXMuc2NhbGVDaEJveC5jaGVja2VkID0gQm9vbGVhbih0aGlzLnNsaWRlckVsZW0uaW5jcmVkaWJsZVNsaWRlclBsdWdpbignZ2V0U2NhbGVWaXNpYmxpdHknKSk7XG5cbiAgICAgICAgY29uc3QgdG9vbHRpcENoQm94ID0gbmV3IElucHV0Q2hlY2tib3godGhpcy50b29sdGlwQ2hCb3gsICd0b29sdGlwcycsICd0b29sdGlwcycpO1xuICAgICAgICB0aGlzLnRvb2x0aXBDaEJveC5jaGVja2VkID0gQm9vbGVhbih0aGlzLnNsaWRlckVsZW0uaW5jcmVkaWJsZVNsaWRlclBsdWdpbignZ2V0VG9vbHRpcHNWaXNpYmxpdHknKSk7XG5cbiAgICAgICAgY29uc3QgaW5wdXRDaGVja2JveGVzR3JvdXA6IEhUTUxEaXZFbGVtZW50ID0gdGhpcy53cmFwRWxlbWVudHMoXG4gICAgICAgICAgICAnc2xpZGVyLXBhbmVsX19pbnB1dC1jaGVja2JveGVzLWdyb3VwJyxcbiAgICAgICAgICAgIGNoZWNrYm94ZXNHcm91cExhYmVsLFxuICAgICAgICAgICAgc2NhbGVDaEJveC5nZXRDb250cm9sKCksXG4gICAgICAgICAgICB0b29sdGlwQ2hCb3guZ2V0Q29udHJvbCgpXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGlucHV0Q2hlY2tib3hlc0dyb3VwO1xuICAgIH1cblxuICAgIHByaXZhdGUgd3JhcEVsZW1lbnRzKHdyYXBwZXJDbGFzczogc3RyaW5nLCAuLi5lbGVtZW50czogSFRNTEVsZW1lbnRbXSk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqINCe0LHQvtGA0LDRh9C40LLQsNC10YIg0L/QvtC70YPRh9C10L3QvdGL0LUg0Y3Qu9C10LzQtdC90YLRiyDQsiBkaXYg0YEg0LfQsNC00LDQvdC90YvQvCDQutC70LDRgdGB0L7QvFxuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHdyYXBwZXJDbGFzcyAtINC60LvQsNGB0YEsINC60L7RgtC+0YDRi9C5INCx0YPQtNC10YIg0L3QsNC30L3QsNGH0LXQvSDQvtCx0ZHRgNGC0LrQtVxuICAgICAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50W119IC0g0LzQsNGB0YHQuNCyINGN0LvQtdC80LXQvdGC0L7Qsiwg0LrQvtGC0L7RgNGL0LUg0YLRgNC10LHRg9C10YLRgdGPINC+0LHQtdGA0L3Rg9GC0YxcbiAgICAgICAgICogXG4gICAgICAgICAqIEByZXR1cm5zIHtIVE1MRGl2RWxlbWVudH0gLSDRjdC70LXQvNC10L3RgtGLINCyINC+0LHRkdGA0YLQutC1XG4gICAgICAgICAqL1xuXG4gICAgICAgIGNvbnN0IHdyYXBwZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gd3JhcHBlckNsYXNzO1xuXG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmQoZWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFNsaWRlcldyYXBwZXJIb3Jpem9udGFsT3JpZW50YXRpb24oKSB7XG4gICAgICAgIHRoaXMuc2xpZGVyRWxlbS5yZW1vdmVDbGFzcygnc2xpZGVyLXdyYXBwZXJfdmVydGljYWwnKTtcbiAgICAgICAgdGhpcy5zbGlkZXJFbGVtLmFkZENsYXNzKCdzbGlkZXItd3JhcHBlcl9ob3Jpem9udGFsJyk7XG4gICAgICAgIHRoaXMuc2V0UGFuZWxIb3Jpem9udGFsT3JpZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFNsaWRlcldyYXBwZXJWZXJ0aWNhbE9yaWVudGF0aW9uKCkge1xuICAgICAgICB0aGlzLnNsaWRlckVsZW0ucmVtb3ZlQ2xhc3MoJ3NsaWRlci13cmFwcGVyX2hvcml6b250YWwnKTtcbiAgICAgICAgdGhpcy5zbGlkZXJFbGVtLmFkZENsYXNzKCdzbGlkZXItd3JhcHBlcl92ZXJ0aWNhbCcpO1xuICAgICAgICB0aGlzLnNldFBhbmVsVmVydGljYWxPcmllbnRhdGlvbigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0UGFuZWxIb3Jpem9udGFsT3JpZW50YXRpb24oKSB7XG4gICAgICAgIHRoaXMuc2xpZGVyUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyLXBhbmVsX3ZlcnRpY2FsJyk7XG4gICAgICAgIHRoaXMuc2xpZGVyUGFuZWwuY2xhc3NMaXN0LmFkZCgnc2xpZGVyLXBhbmVsX2hvcml6b250YWwnKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFBhbmVsVmVydGljYWxPcmllbnRhdGlvbigpIHtcbiAgICAgICAgdGhpcy5zbGlkZXJQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXItcGFuZWxfaG9yaXpvbnRhbCcpO1xuICAgICAgICB0aGlzLnNsaWRlclBhbmVsLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci1wYW5lbF92ZXJ0aWNhbCcpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0TWluVmFsdWVTbGlkZXIobmV3VmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAodGhpcy5taW5WYWx1ZSkge1xuICAgICAgICAgICAgbGV0IG1pblZhbHVlID0gcGFyc2VJbnQobmV3VmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAoaXNOYU4obWluVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWluVmFsdWUgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWluVmFsdWUgPj0gcGFyc2VJbnQodGhpcy5tYXhWYWx1ZS52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBtaW5WYWx1ZSA9IE51bWJlcih0aGlzLnNsaWRlckVsZW0uaW5jcmVkaWJsZVNsaWRlclBsdWdpbignZ2V0TWF4JykpIC0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zbGlkZXJFbGVtLmluY3JlZGlibGVTbGlkZXJQbHVnaW4oJ3NldE1pbicsIG1pblZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMubWluVmFsdWUudmFsdWUgPSBtaW5WYWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRNYXhWYWx1ZVNsaWRlcihuZXdWYWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLm1heFZhbHVlKSB7XG4gICAgICAgICAgICBsZXQgbWF4VmFsdWUgPSBwYXJzZUludChuZXdWYWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChpc05hTihtYXhWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBtYXhWYWx1ZSA9IE51bWJlcih0aGlzLnNsaWRlckVsZW0uaW5jcmVkaWJsZVNsaWRlclBsdWdpbignZ2V0TWF4JykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWF4VmFsdWUgPD0gcGFyc2VJbnQodGhpcy5taW5WYWx1ZS52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBtYXhWYWx1ZSA9IE51bWJlcih0aGlzLnNsaWRlckVsZW0uaW5jcmVkaWJsZVNsaWRlclBsdWdpbignZ2V0TWluJykpICsgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zbGlkZXJFbGVtLmluY3JlZGlibGVTbGlkZXJQbHVnaW4oJ3NldE1heCcsIG1heFZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMubWF4VmFsdWUudmFsdWUgPSBtYXhWYWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRTdGVwVmFsdWVTbGlkZXIobmV3VmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAodGhpcy5zdGVwKSB7XG4gICAgICAgICAgICBjb25zdCBzdGVwID0gcGFyc2VJbnQobmV3VmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFpc05hTihzdGVwKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVyRWxlbS5pbmNyZWRpYmxlU2xpZGVyUGx1Z2luKCdzZXRTdGVwJywgc3RlcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGVwLnZhbHVlID0gc3RlcC50b1N0cmluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0ZXAudmFsdWUgPSAnMSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhbmVsOyIsImltcG9ydCB7SUlucHV0Q29udHJvbH0gZnJvbSAnLi4vaW50ZXJmYWNlcydcblxuaW1wb3J0IFBhbmVsRWxlbWVudCBmcm9tIFwiLi9wYW5lbEVsZW1lbnRcIjtcblxuY2xhc3MgSW5wdXRDaGVja2JveCBleHRlbmRzIFBhbmVsRWxlbWVudHtcblxuICAgIHByaXZhdGUgY29udHJvbDogSFRNTERpdkVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihpbnB1dDogSFRNTElucHV0RWxlbWVudCwgbGFiZWxUZXh0OiBzdHJpbmcsIGlkUHJlZml4OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoKTsgICAgICBcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xQYXJhbXM6IElJbnB1dENvbnRyb2wgPSB7XG4gICAgICAgICAgICAgICAgJ2lucHV0RWxlbWVudCc6IGlucHV0LFxuICAgICAgICAgICAgICAgICdpZCc6IHRoaXMuZ2VuZXJhdGVJRChpZFByZWZpeCksXG4gICAgICAgICAgICAgICAgJ2lucHV0VHlwZSc6ICdjaGVja2JveCcsXG4gICAgICAgICAgICAgICAgJ2lucHV0Q2xhc3MnOiAnc2xpZGVyLXBhbmVsX19jaGVja2JveCcsXG4gICAgICAgICAgICAgICAgJ2xhYmVsVGV4dCc6IGxhYmVsVGV4dCxcbiAgICAgICAgICAgICAgICAnbGFiZWxDbGFzcyc6ICdzbGlkZXItcGFuZWxfX2lucHV0LWNoZWNrYm94LWxhYmVsJyxcbiAgICAgICAgICAgICAgICAnd3JhcHBlckNsYXNzJzogJ3NsaWRlci1wYW5lbF9faW5wdXQtY2hlY2tib3gtd3JhcHBlcidcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHRoaXMuY29udHJvbCA9IHRoaXMuY3JlYXRlQ29udHJvbChjb250cm9sUGFyYW1zKTtcbiAgICB9XG5cbiAgICBnZXRDb250cm9sKCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5wdXRDaGVja2JveCIsImltcG9ydCB7IElJbnB1dENvbnRyb2wgfSBmcm9tICcuLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IHsgSVJhZGlvUGFyYW1zIH0gZnJvbSAnLi4vaW50ZXJmYWNlcydcblxuaW1wb3J0IFBhbmVsRWxlbWVudCBmcm9tIFwiLi9wYW5lbEVsZW1lbnRcIjtcblxuY2xhc3MgSW5wdXRSYWRpbyBleHRlbmRzIFBhbmVsRWxlbWVudCB7XG5cbiAgICBwcml2YXRlIGNvbnRyb2w6IEhUTUxEaXZFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IocmFkaW9QYXJhbXM6IElSYWRpb1BhcmFtc1tdLCBuYW1lUHByZWZpeDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmdlbmVyYXRlTmFtZShuYW1lUHByZWZpeCk7XG5cbiAgICAgICAgY29uc3Qgd3JhcHBlcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSAnc2xpZGVyLXBhbmVsX19yYWRpby1ncm91cCc7XG5cbiAgICAgICAgZm9yIChjb25zdCBwYXJhbXMgb2YgcmFkaW9QYXJhbXMpIHtcblxuICAgICAgICAgICAgY29uc3QgY29udHJvbFBhcmFtczogSUlucHV0Q29udHJvbCA9IHtcbiAgICAgICAgICAgICAgICAnaW5wdXRFbGVtZW50JzogcGFyYW1zLmlucHV0LFxuICAgICAgICAgICAgICAgICdpZCc6IHRoaXMuZ2VuZXJhdGVJRChwYXJhbXMuaWQpLFxuICAgICAgICAgICAgICAgICduYW1lJzogbmFtZSxcbiAgICAgICAgICAgICAgICAndmFsdWUnOiBwYXJhbXMudmFsdWUsXG4gICAgICAgICAgICAgICAgJ2lucHV0VHlwZSc6ICdyYWRpbycsXG4gICAgICAgICAgICAgICAgJ2lucHV0Q2xhc3MnOiAnc2xpZGVyLXBhbmVsX19yYWRpby1idXR0b24nLFxuICAgICAgICAgICAgICAgICdsYWJlbFRleHQnOiBwYXJhbXMubGFiZWwsXG4gICAgICAgICAgICAgICAgJ2xhYmVsQ2xhc3MnOiAnc2xpZGVyLXBhbmVsX19pbnB1dC1yYWRpby1sYWJlbCcsXG4gICAgICAgICAgICAgICAgJ3dyYXBwZXJDbGFzcyc6ICdzbGlkZXItcGFuZWxfX2lucHV0LXJhZGlvLXdyYXBwZXInXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRSYWRpbzogSFRNTERpdkVsZW1lbnQgPSB0aGlzLmNyZWF0ZUNvbnRyb2woY29udHJvbFBhcmFtcyk7XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZCh3cmFwcGVkUmFkaW8pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb250cm9sID0gd3JhcHBlcjtcbiAgICB9XG5cbiAgICBnZXRDb250cm9sKCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5wdXRSYWRpbzsiLCJpbXBvcnQge0lJbnB1dENvbnRyb2x9IGZyb20gJy4uL2ludGVyZmFjZXMnXG5cbmltcG9ydCBQYW5lbEVsZW1lbnQgZnJvbSBcIi4vcGFuZWxFbGVtZW50XCI7XG5cbmNsYXNzIElucHV0VGV4dCBleHRlbmRzIFBhbmVsRWxlbWVudHtcblxuICAgIHByaXZhdGUgY29udHJvbDogSFRNTERpdkVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihpbnB1dDogSFRNTElucHV0RWxlbWVudCwgbGFiZWxUZXh0OiBzdHJpbmcsIGlkUHJlZml4OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBjb25zdCBjb250cm9sUGFyYW1zOiBJSW5wdXRDb250cm9sID0ge1xuICAgICAgICAgICAgJ2lucHV0RWxlbWVudCc6IGlucHV0LFxuICAgICAgICAgICAgJ2lkJzogdGhpcy5nZW5lcmF0ZUlEKGlkUHJlZml4KSxcbiAgICAgICAgICAgICdpbnB1dFR5cGUnOiAndGV4dCcsXG4gICAgICAgICAgICAnaW5wdXRDbGFzcyc6ICdzbGlkZXItcGFuZWxfX2lucHV0JyxcbiAgICAgICAgICAgICdsYWJlbFRleHQnOiBsYWJlbFRleHQsXG4gICAgICAgICAgICAnbGFiZWxDbGFzcyc6ICdzbGlkZXItcGFuZWxfX2lucHV0LXRleHQtbGFiZWwnLFxuICAgICAgICAgICAgJ3dyYXBwZXJDbGFzcyc6ICdzbGlkZXItcGFuZWxfX2lucHV0LXRleHQtd3JhcHBlcidcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29udHJvbCA9IHRoaXMuY3JlYXRlQ29udHJvbChjb250cm9sUGFyYW1zKTtcbiAgICB9XG5cbiAgICBnZXRDb250cm9sKCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5wdXRUZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==